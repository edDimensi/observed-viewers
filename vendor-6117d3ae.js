webpackJsonp([0],[,/*!*********************************************************!*\
  !*** ./node_modules/babel-runtime/regenerator/index.js ***!
  \*********************************************************//*! dynamic exports provided *//*! exports used: default */function(e,t,i){e.exports=i(/*! regenerator-runtime */13)},,,/*!**************************************!*\
  !*** ./node_modules/qs/lib/utils.js ***!
  \**************************************//*! dynamic exports provided *//*! all exports used */function(e,t){'use strict';var o=Object.prototype.hasOwnProperty,a=function(){for(var e=[],t=0;256>t;++t)e.push('%'+((16>t?'0':'')+t.toString(16)).toUpperCase());return e}(),r=function(e){for(var t,i;e.length;)if(i=e.pop(),t=i.obj[i.prop],Array.isArray(t)){for(var o=[],a=0;a<t.length;++a)'undefined'!=typeof t[a]&&o.push(t[a]);i.obj[i.prop]=o}return t};t.arrayToObject=function(e,t){for(var o=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)'undefined'!=typeof e[a]&&(o[a]=e[a]);return o},t.merge=function(e,i,a){if(!i)return e;if('object'!=typeof i){if(Array.isArray(e))e.push(i);else if('object'==typeof e)(a.plainObjects||a.allowPrototypes||!o.call(Object.prototype,i))&&(e[i]=!0);else return[e,i];return e}if('object'!=typeof e)return[e].concat(i);var r=e;return Array.isArray(e)&&!Array.isArray(i)&&(r=t.arrayToObject(e,a)),Array.isArray(e)&&Array.isArray(i)?(i.forEach(function(r,n){o.call(e,n)?e[n]&&'object'==typeof e[n]?e[n]=t.merge(e[n],r,a):e.push(r):e[n]=r}),e):Object.keys(i).reduce(function(e,r){var n=i[r];return e[r]=o.call(e,r)?t.merge(e[r],n,a):n,e},r)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,i){return e[i]=t[i],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g,' '))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t,o='string'==typeof e?e:e+'',r='',n=0;n<o.length;++n){if(t=o.charCodeAt(n),45===t||46===t||95===t||126===t||48<=t&&57>=t||65<=t&&90>=t||97<=t&&122>=t){r+=o.charAt(n);continue}if(128>t){r+=a[t];continue}if(2048>t){r+=a[192|t>>6]+a[128|63&t];continue}if(55296>t||57344<=t){r+=a[224|t>>12]+a[128|63&t>>6]+a[128|63&t];continue}n+=1,t=65536+((1023&t)<<10|1023&o.charCodeAt(n)),r+=a[240|t>>18]+a[128|63&t>>12]+a[128|63&t>>6]+a[128|63&t]}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:'o'}],o=[],a=0;a<t.length;++a)for(var i=t[a],n=i.obj[i.prop],s=Object.keys(n),l=0;l<s.length;++l){var d=s[l],p=n[d];'object'==typeof p&&null!==p&&-1===o.indexOf(p)&&(t.push({obj:n,prop:d}),o.push(p))}return r(t)},t.isRegExp=function(e){return'[object RegExp]'===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null===e||'undefined'==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},/*!****************************************!*\
  !*** ./node_modules/qs/lib/formats.js ***!
  \****************************************//*! dynamic exports provided *//*! all exports used */function(e){'use strict';var t=String.prototype.replace,i=/%20/g;e.exports={default:'RFC3986',formatters:{RFC1738:function(e){return t.call(e,i,'+')},RFC3986:function(e){return e}},RFC1738:'RFC1738',RFC3986:'RFC3986'}},,,,,,,,/*!************************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime-module.js ***!
  \************************************************************//*! dynamic exports provided *//*! all exports used */function(e,t,i){var o=function(){return this}()||Function('return this')(),a=o.regeneratorRuntime&&0<=Object.getOwnPropertyNames(o).indexOf('regeneratorRuntime'),r=a&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=i(/*! ./runtime */14),a)o.regeneratorRuntime=r;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}},/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************//*! dynamic exports provided *//*! all exports used */function(e){!function(t){'use strict';function i(e,t,i,o){var r=t&&t.prototype instanceof a?t:a,n=Object.create(r.prototype),s=new g(o||[]);return n._invoke=d(e,i,s),n}function o(e,t,i){try{return{type:'normal',arg:e.call(t,i)}}catch(e){return{type:'throw',arg:e}}}function a(){}function r(){}function n(){}function s(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(i,a,r,n){var s=o(e[i],e,a);if('throw'===s.type)n(s.arg);else{var l=s.arg,d=l.value;return d&&'object'==typeof d&&y.call(d,'__await')?Promise.resolve(d.__await).then(function(e){t('next',e,r,n)},function(e){t('throw',e,r,n)}):Promise.resolve(d).then(function(e){l.value=e,r(l)},n)}}var i;this._invoke=function(e,o){function a(){return new Promise(function(i,a){t(e,o,i,a)})}return i=i?i.then(a,a):a()}}function d(e,t,i){var a=A;return function(r,n){if(a==P)throw new Error('Generator is already running');if(a==C){if('throw'===r)throw n;return m()}for(i.method=r,i.arg=n;;){var s=i.delegate;if(s){var l=p(s,i);if(l){if(l===L)continue;return l}}if('next'===i.method)i.sent=i._sent=i.arg;else if('throw'===i.method){if(a==A)throw a=C,i.arg;i.dispatchException(i.arg)}else'return'===i.method&&i.abrupt('return',i.arg);a=P;var d=o(e,t,i);if('normal'===d.type){if(a=i.done?C:T,d.arg===L)continue;return{value:d.arg,done:i.done}}'throw'===d.type&&(a=C,i.method='throw',i.arg=d.arg)}}}function p(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,p(e,t),'throw'===t.method))return L;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return L}var a=o(i,e.iterator,t.arg);if('throw'===a.type)return t.method='throw',t.arg=a.arg,t.delegate=null,L;var r=a.arg;if(!r)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,L;if(r.done)t[e.resultName]=r.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return r;return t.delegate=null,L}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(c,this),this.reset(!0)}function u(e){if(e){var t=e[b];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(y.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:m}}function m(){return{value:void 0,done:!0}}var x=Object.prototype,y=x.hasOwnProperty,f='function'==typeof Symbol?Symbol:{},b=f.iterator||'@@iterator',v=f.asyncIterator||'@@asyncIterator',k=f.toStringTag||'@@toStringTag',w='object'==typeof e,S=t.regeneratorRuntime;if(S)return void(w&&(e.exports=S));S=t.regeneratorRuntime=w?e.exports:{},S.wrap=i;var A='suspendedStart',T='suspendedYield',P='executing',C='completed',L={},M={};M[b]=function(){return this};var O=Object.getPrototypeOf,D=O&&O(O(u([])));D&&D!==x&&y.call(D,b)&&(M=D);var z=n.prototype=a.prototype=Object.create(M);r.prototype=z.constructor=n,n.constructor=r,n[k]=r.displayName='GeneratorFunction',S.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===r||'GeneratorFunction'===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,!(k in e)&&(e[k]='GeneratorFunction')),e.prototype=Object.create(z),e},S.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[v]=function(){return this},S.AsyncIterator=l,S.async=function(e,t,o,a){var r=new l(i(e,t,o,a));return S.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},s(z),z[k]='Generator',z[b]=function(){return this},z.toString=function(){return'[object Generator]'},S.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var o=t.pop();if(o in e)return i.value=o,i.done=!1,i}return i.done=!0,i}},S.values=u,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(h),!e)for(var t in this)'t'===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return r.type='throw',r.arg=e,o.next=t,i&&(o.method='next',o.arg=void 0),!!i}if(this.done)throw e;for(var o=this,a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a],r=i.completion;if('root'===i.tryLoc)return t('end');if(i.tryLoc<=this.prev){var n=y.call(i,'catchLoc'),s=y.call(i,'finallyLoc');if(n&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(n){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);}else if(!s)throw new Error('try statement without catch or finally');else if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}},abrupt:function(e,t){for(var o,a=this.tryEntries.length-1;0<=a;--a)if(o=this.tryEntries[a],o.tryLoc<=this.prev&&y.call(o,'finallyLoc')&&this.prev<o.finallyLoc){var i=o;break}i&&('break'===e||'continue'===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method='next',this.next=i.finallyLoc,L):this.complete(r)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),L},finish:function(e){for(var t,o=this.tryEntries.length-1;0<=o;--o)if(t=this.tryEntries[o],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),h(t),L},catch:function(e){for(var t,o=this.tryEntries.length-1;0<=o;--o)if(t=this.tryEntries[o],t.tryLoc===e){var i=t.completion;if('throw'===i.type){var a=i.arg;h(t)}return a}throw new Error('illegal catch attempt')},delegateYield:function(e,t,i){return this.delegate={iterator:u(e),resultName:t,nextLoc:i},'next'===this.method&&(this.arg=void 0),L}}}(function(){return this}()||Function('return this')())},/*!**************************************!*\
  !*** ./node_modules/qs/lib/index.js ***!
  \**************************************//*! dynamic exports provided *//*! exports used: stringify */function(e,t,i){'use strict';var o=i(/*! ./stringify */16),a=i(/*! ./parse */17),r=i(/*! ./formats */5);e.exports={formats:r,parse:a,stringify:o}},/*!******************************************!*\
  !*** ./node_modules/qs/lib/stringify.js ***!
  \******************************************//*! dynamic exports provided *//*! all exports used */function(e,t,i){'use strict';var o=i(/*! ./utils */4),a=i(/*! ./formats */5),r={brackets:function(e){return e+'[]'},indices:function(e,t){return e+'['+t+']'},repeat:function(e){return e}},n=Date.prototype.toISOString,s={delimiter:'&',encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,a,r,n,l,d,p,c,h,g,u,m){var x=t;if('function'==typeof p)x=p(a,x);else if(x instanceof Date)x=g(x);else if(null===x){if(n)return d&&!m?d(a,s.encoder):a;x=''}if('string'==typeof x||'number'==typeof x||'boolean'==typeof x||o.isBuffer(x)){if(d){var y=m?a:d(a,s.encoder);return[u(y)+'='+u(d(x,s.encoder))]}return[u(a)+'='+u(x+'')]}var f=[];if('undefined'==typeof x)return f;var b;if(Array.isArray(p))b=p;else{var v=Object.keys(x);b=c?v.sort(c):v}for(var k,w=0;w<b.length;++w)(k=b[w],!(l&&null===x[k]))&&(f=Array.isArray(x)?f.concat(e(x[k],r(a,k),r,n,l,d,p,c,h,g,u,m)):f.concat(e(x[k],a+(h?'.'+k:'['+k+']'),r,n,l,d,p,c,h,g,u,m)));return f};e.exports=function(e,t){var n=e,d=t?o.assign({},t):{};if(null!==d.encoder&&d.encoder!==void 0&&'function'!=typeof d.encoder)throw new TypeError('Encoder has to be a function.');var p='undefined'==typeof d.delimiter?s.delimiter:d.delimiter,c='boolean'==typeof d.strictNullHandling?d.strictNullHandling:s.strictNullHandling,h='boolean'==typeof d.skipNulls?d.skipNulls:s.skipNulls,g='boolean'==typeof d.encode?d.encode:s.encode,u='function'==typeof d.encoder?d.encoder:s.encoder,m='function'==typeof d.sort?d.sort:null,x='undefined'!=typeof d.allowDots&&d.allowDots,y='function'==typeof d.serializeDate?d.serializeDate:s.serializeDate,f='boolean'==typeof d.encodeValuesOnly?d.encodeValuesOnly:s.encodeValuesOnly;if('undefined'==typeof d.format)d.format=a['default'];else if(!Object.prototype.hasOwnProperty.call(a.formatters,d.format))throw new TypeError('Unknown format option provided.');var b,v,k=a.formatters[d.format];'function'==typeof d.filter?(v=d.filter,n=v('',n)):Array.isArray(d.filter)&&(v=d.filter,b=v);var w=[];if('object'!=typeof n||null===n)return'';var S=d.arrayFormat in r?d.arrayFormat:'indices'in d?d.indices?'indices':'repeat':'indices';var A=r[S];b||(b=Object.keys(n)),m&&b.sort(m);for(var T,P=0;P<b.length;++P)(T=b[P],!(h&&null===n[T]))&&(w=w.concat(l(n[T],T,A,c,h,g?u:null,v,m,x,y,k,f)));var i=w.join(p),C=!0===d.addQueryPrefix?'?':'';return 0<i.length?C+i:''}},/*!**************************************!*\
  !*** ./node_modules/qs/lib/parse.js ***!
  \**************************************//*! dynamic exports provided *//*! all exports used */function(e,t,i){'use strict';var o=i(/*! ./utils */4),a=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:'&',depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(e,t){for(var o={},n=t.ignoreQueryPrefix?e.replace(/^\?/,''):e,s=t.parameterLimit===Infinity?void 0:t.parameterLimit,l=n.split(t.delimiter,s),d=0;d<l.length;++d){var i,p,c=l[d],h=c.indexOf(']='),g=-1===h?c.indexOf('='):h+1;-1===g?(i=t.decoder(c,r.decoder),p=t.strictNullHandling?null:''):(i=t.decoder(c.slice(0,g),r.decoder),p=t.decoder(c.slice(g+1),r.decoder)),o[i]=a.call(o,i)?[].concat(o[i]).concat(p):p}return o},s=function(e,t,o){for(var a=t,r=e.length-1;0<=r;--r){var i,n=e[r];if('[]'===n)i=[],i=i.concat(a);else{i=o.plainObjects?Object.create(null):{};var s='['===n.charAt(0)&&']'===n.charAt(n.length-1)?n.slice(1,-1):n,l=parseInt(s,10);!isNaN(l)&&n!==s&&l+''===s&&0<=l&&o.parseArrays&&l<=o.arrayLimit?(i=[],i[l]=a):i[s]=a}a=i}return a},l=function(e,t,o){if(e){var r=o.allowDots?e.replace(/\.([^.[]+)/g,'[$1]'):e,n=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,d=n.exec(r),p=d?r.slice(0,d.index):r,c=[];if(p){if(!o.plainObjects&&a.call(Object.prototype,p)&&!o.allowPrototypes)return;c.push(p)}for(var h=0;null!==(d=l.exec(r))&&h<o.depth;){if(h+=1,!o.plainObjects&&a.call(Object.prototype,d[1].slice(1,-1))&&!o.allowPrototypes)return;c.push(d[1])}return d&&c.push('['+r.slice(d.index)+']'),s(c,t,o)}};e.exports=function(e,t){var a=t?o.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&'function'!=typeof a.decoder)throw new TypeError('Decoder has to be a function.');if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter='string'==typeof a.delimiter||o.isRegExp(a.delimiter)?a.delimiter:r.delimiter,a.depth='number'==typeof a.depth?a.depth:r.depth,a.arrayLimit='number'==typeof a.arrayLimit?a.arrayLimit:r.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder='function'==typeof a.decoder?a.decoder:r.decoder,a.allowDots='boolean'==typeof a.allowDots?a.allowDots:r.allowDots,a.plainObjects='boolean'==typeof a.plainObjects?a.plainObjects:r.plainObjects,a.allowPrototypes='boolean'==typeof a.allowPrototypes?a.allowPrototypes:r.allowPrototypes,a.parameterLimit='number'==typeof a.parameterLimit?a.parameterLimit:r.parameterLimit,a.strictNullHandling='boolean'==typeof a.strictNullHandling?a.strictNullHandling:r.strictNullHandling,''===e||null===e||'undefined'==typeof e)return a.plainObjects?Object.create(null):{};for(var s='string'==typeof e?n(e,a):e,d=a.plainObjects?Object.create(null):{},p=Object.keys(s),c=0;c<p.length;++c){var i=p[c],h=l(i,s[i],a);d=o.merge(d,h,a)}return o.compact(d)}},/*!*********************************************!*\
  !*** ./node_modules/jsonp-promise/index.js ***!
  \*********************************************//*! dynamic exports provided *//*! all exports used */function(e){var t=0;e.exports=function(e,i){i=i||{};var o,a,r,n,s,l=i.prefix||'__jp',d=i.param||'callback',p=i.timeout?i.timeout:15000,c=document.getElementsByTagName('script')[0]||document.head,h=function(){},g=l+t++;return r=function(){o&&o.parentNode&&o.parentNode.removeChild(o),window[g]=h,a&&clearTimeout(a)},s=new Promise(function(t,i){p&&(a=setTimeout(function(){r(),i(new Error('Timeout'))},p)),window[g]=function(e){r(),t(e)},e+=(~e.indexOf('?')?'&':'?')+d+'='+encodeURIComponent(g),e=e.replace('?&','?'),o=document.createElement('script'),o.src=e,c.parentNode.insertBefore(o,c),n=function(){window[g]&&(r(),i(new Error('Canceled')))}}),{promise:s,cancel:n}}},/*!**********************************************!*\
  !*** ./node_modules/highcharts/highstock.js ***!
  \**********************************************//*! dynamic exports provided *//*! exports used: default */function(e){(function(t,i){'object'==typeof e&&e.exports?e.exports=t.document?i(t):i:t.Highcharts=i(t)})('undefined'==typeof window?this:window,function(e){var i=Math.sqrt,o=Number.MAX_VALUE,s=Math.ceil,l=Math.sin,S=Math.cos,N=Math.max,P=Math.abs,Y=Math.min,R=Math.round,u=Math.pow,M=Math.floor,t=Math.LN10,r=Math.log,O=Math.PI,a=function(){var t='undefined'==typeof e?window:e,i=t.document,o=t.navigator&&t.navigator.userAgent||'',n=i&&i.createElementNS&&!!i.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect,s=/(edge|msie|trident)/i.test(o)&&!t.opera,d=-1!==o.indexOf('Firefox'),p=-1!==o.indexOf('Chrome'),c=d&&4>parseInt(o.split('Firefox/')[1],10);return t.Highcharts?t.Highcharts.error(16,!0):{product:'Highstock',version:'6.0.7',deg2rad:2*O/360,doc:i,hasBidiBug:c,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:s,isWebKit:-1!==o.indexOf('AppleWebKit'),isFirefox:d,isChrome:p,isSafari:!p&&-1!==o.indexOf('Safari'),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(o),SVG_NS:'http://www.w3.org/2000/svg',chartCount:0,seriesTypes:{},symbolSizes:{},svg:n,win:t,marginNames:['plotTop','marginRight','marginBottom','plotLeft'],noop:function(){},charts:[]}}();(function(i){var o=Math.easeInOutSine;i.timers=[];var e=i.charts,n=i.doc,s=i.win;i.error=function(e,t){if(e=i.isNumber(e)?'Highcharts error #'+e+': www.highcharts.com/errors/'+e:e,t)throw Error(e);s.console&&console.log(e)},i.Fx=function(e,t,i){this.options=t,this.elem=e,this.prop=i},i.Fx.prototype={dSetter:function(){var e,t=this.paths[0],i=this.paths[1],o=[],a=this.now,r=t.length;if(1===a)o=this.toD;else if(r===i.length&&1>a)for(;r--;)e=parseFloat(t[r]),o[r]=isNaN(e)?i[r]:a*parseFloat(i[r]-e)+e;else o=i;this.elem.attr('d',o,null,!0)},update:function(){var e=this.elem,t=this.prop,i=this.now,o=this.options.step;this[t+'Setter']?this[t+'Setter']():e.attr?e.element&&e.attr(t,i,null,!0):e.style[t]=i+this.unit,o&&o.call(e,i,this)},run:function(t,o,a){var r=this,n=r.options,l=function(e){return!l.stopped&&r.step(e)},d=s.requestAnimationFrame||function(e){setTimeout(e,13)},p=function(){for(var e=0;e<i.timers.length;e++)i.timers[e]()||i.timers.splice(e--,1);i.timers.length&&d(p)};t===o?(delete n.curAnim[this.prop],n.complete&&0===i.keys(n.curAnim).length&&n.complete.call(this.elem)):(this.startTime=+new Date,this.start=t,this.end=o,this.unit=a,this.now=this.start,this.pos=0,l.elem=this.elem,l.prop=this.prop,l()&&1===i.timers.push(l)&&d(p))},step:function(t){var o,a=+new Date,r=this.options,n=this.elem,s=r.complete,l=r.duration,d=r.curAnim;return n.attr&&!n.element?t=!1:t||a>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),o=d[this.prop]=!0,i.objectEach(d,function(e){!0!==e&&(o=!1)}),o&&s&&s.call(n),t=!1):(this.pos=r.easing((a-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t},initPath:function(o,a,r){function s(e){var t,i;for(n=e.length;n--;)t='M'===e[n]||'L'===e[n],i=/[a-zA-Z]/.test(e[n+3]),t&&i&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])}function l(t,i){for(;t.length<h;){t[0]=i[h-t.length];var o=t.slice(0,x);[].splice.apply(t,[0,0].concat(o)),y&&(o=t.slice(t.length-x),[].splice.apply(t,[t.length,0].concat(o)),n--)}t[0]='M'}function d(t,i){for(var o=(h-t.length)/x;0<o&&o--;)g=t.slice().splice(t.length/f-x,x*f),g[0]=i[h-x-o*x],m&&(g[x-6]=g[x-2],g[x-5]=g[x-1]),[].splice.apply(t,[t.length/f,0].concat(g)),y&&o--}a=a||'';var p,h,g,n,t=o.startX,e=o.endX,m=-1<a.indexOf('C'),x=m?7:3;a=a.split(' '),r=r.slice();var c,y=o.isArea,f=y?2:1;if(m&&(s(a),s(r)),t&&e){for(n=0;n<t.length;n++)if(t[n]===e[0]){p=n;break}else if(t[0]===e[e.length-t.length+n]){p=n,c=!0;break}void 0===p&&(a=[])}return a.length&&i.isNumber(p)&&(h=r.length+p*f*x,c?(l(a,r),d(r,a)):(l(r,a),d(a,r))),[a,r]}},i.Fx.prototype.fillSetter=i.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,i.color(this.start).tweenTo(i.color(this.end),this.pos),null,!0)},i.merge=function(){var e,t,o=arguments,a={},n=function(t,o){return'object'!=typeof t&&(t={}),i.objectEach(o,function(a,e){t[e]=!i.isObject(a,!0)||i.isClass(a)||i.isDOMElement(a)?o[e]:n(t[e]||{},a)}),t};for(!0===o[0]&&(a=o[1],o=Array.prototype.slice.call(o,2)),t=o.length,e=0;e<t;e++)a=n(a,o[e]);return a},i.pInt=function(e,t){return parseInt(e,t||10)},i.isString=function(e){return'string'==typeof e},i.isArray=function(e){return e=Object.prototype.toString.call(e),'[object Array]'===e||'[object Array Iterator]'===e},i.isObject=function(e,t){return!!e&&'object'==typeof e&&(!t||!i.isArray(e))},i.isDOMElement=function(e){return i.isObject(e)&&'number'==typeof e.nodeType},i.isClass=function(e){var t=e&&e.constructor;return i.isObject(e,!0)&&!i.isDOMElement(e)&&t&&t.name&&'Object'!==t.name},i.isNumber=function(e){return'number'==typeof e&&!isNaN(e)&&Infinity>e&&-Infinity<e},i.erase=function(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}},i.defined=function(e){return void 0!==e&&null!==e},i.attr=function(e,t,o){var a;return i.isString(t)?i.defined(o)?e.setAttribute(t,o):e&&e.getAttribute&&(a=e.getAttribute(t)):i.defined(t)&&i.isObject(t)&&i.objectEach(t,function(t,i){e.setAttribute(i,t)}),a},i.splat=function(e){return i.isArray(e)?e:[e]},i.syncTimeout=function(e,t,i){return t?setTimeout(e,t,i):void e.call(0,i)},i.extend=function(e,t){for(var i in e||(e={}),t)e[i]=t[i];return e},i.pick=function(){var e,t,i=arguments,o=i.length;for(e=0;e<o;e++)if(t=i[e],void 0!==t&&null!==t)return t},i.css=function(e,t){i.isMS&&!i.svg&&t&&void 0!==t.opacity&&(t.filter='alpha(opacity='+100*t.opacity+')'),i.extend(e.style,t)},i.createElement=function(e,t,o,a,r){e=n.createElement(e);var s=i.css;return t&&i.extend(e,t),r&&s(e,{padding:0,border:'none',margin:0}),o&&s(e,o),a&&a.appendChild(e),e},i.extendClass=function(e,t){var o=function(){};return o.prototype=new e,i.extend(o.prototype,t),o},i.pad=function(e,t,i){return Array((t||2)+1-(e+'').length).join(i||0)+e},i.relativeLength=function(e,t,i){return /%$/.test(e)?t*parseFloat(e)/100+(i||0):parseFloat(e)},i.wrap=function(e,t,i){var o=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,a=this;return a.proceed=function(){o.apply(a,arguments.length?arguments:t)},e.unshift(o),e=i.apply(this,e),a.proceed=null,e}},i.formatSingle=function(e,t,o){var a=/\.([0-9])/,r=i.defaultOptions.lang;return /f$/.test(e)?(o=(o=e.match(a))?o[1]:-1,null!==t&&(t=i.numberFormat(t,o,r.decimalPoint,-1<e.indexOf(',')?r.thousandsSep:''))):t=(o||i.time).dateFormat(e,t),t},i.format=function(t,o,a){for(var r,n,s,e,l,d='{',c=!1,h=[];t&&(d=t.indexOf(d),-1!==d);){if(r=t.slice(0,d),c){for(r=r.split(':'),n=r.shift().split('.'),e=n.length,l=o,s=0;s<e;s++)l&&(l=l[n[s]]);r.length&&(l=i.formatSingle(r.join(':'),l,a)),h.push(l)}else h.push(r);t=t.slice(d+1),d=(c=!c)?'}':'{'}return h.push(t),h.join('')},i.getMagnitude=function(e){return u(10,M(r(e)/t))},i.normalizeTickInterval=function(e,o,a,r,n){var s,l=e;for(a=i.pick(a,1),s=e/a,o||(o=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===a?o=i.grep(o,function(e){return 0==e%1}):.1>=a&&(o=[1/a]))),r=0;r<o.length&&(l=o[r],!(n&&l*a>=e||!n&&s<=(o[r]+(o[r+1]||o[r]))/2));r++);return l=i.correctFloat(l*a,-R(-6.907755278982137/t))},i.stableSort=function(e,t){var i,o,a=e.length;for(o=0;o<a;o++)e[o].safeI=o;for(e.sort(function(e,o){return i=t(e,o),0===i?e.safeI-o.safeI:i}),o=0;o<a;o++)delete e[o].safeI},i.arrayMin=function(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i},i.arrayMax=function(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i},i.destroyObjectProperties=function(e,t){i.objectEach(e,function(i,o){i&&i!==t&&i.destroy&&i.destroy(),delete e[o]})},i.discardElement=function(e){var t=i.garbageBin;t||(t=i.createElement('div')),e&&t.appendChild(e),t.innerHTML=''},i.correctFloat=function(e,t){return parseFloat(e.toPrecision(t||14))},i.setAnimation=function(e,t){t.renderer.globalAnimation=i.pick(e,t.options.chart.animation,!0)},i.animObject=function(e){return i.isObject(e)?i.merge(e):{duration:e?500:0}},i.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},i.numberFormat=function(t,o,a,n){t=+t||0,o=+o;var s,l,e=i.defaultOptions.lang,d=(t.toString().split('.')[1]||'').split('e')[0].length,p=t.toString().split('e');return-1===o?o=Y(d,20):i.isNumber(o)?o&&p[1]&&0>p[1]&&(s=o+ +p[1],0<=s?(p[0]=(+p[0]).toExponential(s).split('e')[0],o=s):(p[0]=p[0].split('.')[0]||0,t=20>o?(p[0]*u(10,p[1])).toFixed(o):0,p[1]=0)):o=2,l=(P(p[1]?p[0]:t)+u(10,-N(o,d)-1)).toFixed(o),d=i.pInt(l)+'',s=3<d.length?d.length%3:0,a=i.pick(a,e.decimalPoint),n=i.pick(n,e.thousandsSep),t=(0>t?'-':'')+(s?d.substr(0,s)+n:''),t+=d.substr(s).replace(/(\d{3})(?=\d)/g,'$1'+n),o&&(t+=a+l.slice(-o)),p[1]&&0!=+t&&(t+='e'+p[1]),t},o=function(e){return-.5*(S(O*e)-1)},i.getStyle=function(e,t,o){return'width'===t?Y(e.offsetWidth,e.scrollWidth)-i.getStyle(e,'padding-left')-i.getStyle(e,'padding-right'):'height'===t?Y(e.offsetHeight,e.scrollHeight)-i.getStyle(e,'padding-top')-i.getStyle(e,'padding-bottom'):(s.getComputedStyle||i.error(27,!0),(e=s.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(t),i.pick(o,'opacity'!==t)&&(e=i.pInt(e))),e)},i.inArray=function(e,t){return(i.indexOfPolyfill||Array.prototype.indexOf).call(t,e)},i.grep=function(e,t){return(i.filterPolyfill||Array.prototype.filter).call(e,t)},i.find=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){var i,o=e.length;for(i=0;i<o;i++)if(t(e[i],i))return e[i]},i.map=function(e,t){for(var i=[],o=0,a=e.length;o<a;o++)i[o]=t.call(e[o],e[o],o,e);return i},i.keys=function(e){return(i.keysPolyfill||Object.keys).call(void 0,e)},i.reduce=function(e,t,o){return(i.reducePolyfill||Array.prototype.reduce).call(e,t,o)},i.offset=function(e){var t=n.documentElement;return e=e.parentElement?e.getBoundingClientRect():{top:0,left:0},{top:e.top+(s.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(s.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},i.stop=function(e,t){for(var o=i.timers.length;o--;)i.timers[o].elem!==e||t&&t!==i.timers[o].prop||(i.timers[o].stopped=!0)},i.each=function(e,t,o){return(i.forEachPolyfill||Array.prototype.forEach).call(e,t,o)},i.objectEach=function(e,t,i){for(var o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e)},i.isPrototype=function(e){return e===i.Axis.prototype||e===i.Chart.prototype||e===i.Point.prototype||e===i.Series.prototype||e===i.Tick.prototype},i.addEvent=function(e,t,o){var a,r=e.addEventListener||i.addEventListenerPolyfill;return a=i.isPrototype(e)?'protoEvents':'hcEvents',a=e[a]=e[a]||{},r&&r.call(e,t,o,!1),a[t]||(a[t]=[]),a[t].push(o),function(){i.removeEvent(e,t,o)}},i.removeEvent=function(t,o,a){function r(o,e){var a=t.removeEventListener||i.removeEventListenerPolyfill;a&&a.call(t,o,e,!1)}function n(n){var e,a;t.nodeName&&(o?(e={},e[o]=!0):e=n,i.objectEach(e,function(e,t){if(n[t])for(a=n[t].length;a--;)r(t,n[t][a])}))}var s,l;i.each(['protoEvents','hcEvents'],function(d){var e=t[d];e&&(o?(s=e[o]||[],a?(l=i.inArray(a,s),-1<l&&(s.splice(l,1),e[o]=s),r(o,a)):(n(e),e[o]=[])):(n(e),t[d]={}))})},i.fireEvent=function(t,o,a,s){var l,d,p,h,e;a=a||{},n.createEvent&&(t.dispatchEvent||t.fireEvent)?(l=n.createEvent('Events'),l.initEvent(o,!0,!0),i.extend(l,a),t.dispatchEvent?t.dispatchEvent(l):t.fireEvent(o,l)):i.each(['protoEvents','hcEvents'],function(n){if(t[n])for(d=t[n][o]||[],p=d.length,a.target||i.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:t,type:o}),h=0;h<p;h++)(e=d[h])&&!1===e.call(t,a)&&a.preventDefault()}),s&&!a.defaultPrevented&&s(a)},i.animate=function(t,a,r){var n,s,l,d,h='';i.isObject(r)||(d=arguments,r={duration:d[2],easing:d[3],complete:d[4]}),i.isNumber(r.duration)||(r.duration=400),r.easing='function'==typeof r.easing?r.easing:Math[r.easing]||o,r.curAnim=i.merge(a),i.objectEach(a,function(o,d){i.stop(t,d),l=new i.Fx(t,r,d),s=null,'d'===d?(l.paths=l.initPath(t,t.d,a.d),l.toD=a.d,n=0,s=1):t.attr?n=t.attr(d):(n=parseFloat(i.getStyle(t,d))||0,'opacity'!=d&&(h='px')),s||(s=o),s&&s.match&&s.match('px')&&(s=s.replace(/px/g,'')),l.run(n,s,h)})},i.seriesType=function(e,t,o,a,r){var n=i.getOptions(),s=i.seriesTypes;return n.plotOptions[e]=i.merge(n.plotOptions[t],o),s[e]=i.extendClass(s[t]||function(){},a),s[e].prototype.type=e,r&&(s[e].prototype.pointClass=i.extendClass(i.Point,r)),s[e]},i.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9),t=0;return function(){return'highcharts-'+e+'-'+t++}}(),s.jQuery&&(s.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new i[i.isString(t[0])?t.shift():'Chart'](this[0],t[0],t[1]),this):e[i.attr(this[0],'data-highcharts-chart')]})})(a),function(t){var e=t.each,i=t.isNumber,o=t.map,n=t.merge,r=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),1]}}],names:{none:'rgba(255,255,255,0)',white:'#ffffff',black:'#000000'},init:function(e){var i,a,r,n;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():'']||e)&&e.stops)this.stops=o(e.stops,function(i){return new t.Color(i[1])});else if(e&&e.charAt&&'#'===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?a=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4==i&&(a=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!a)for(r=this.parsers.length;r--&&!a;)n=this.parsers[r],(i=n.regex.exec(e))&&(a=n.parse(i));this.rgba=a||[]},get:function(t){var o,a=this.input,r=this.rgba;return this.stops?(o=n(a),o.stops=[].concat(o.stops),e(this.stops,function(i,a){o.stops[a]=[o.stops[a][0],i.get(t)]})):o=r&&i(r[0])?'rgb'!==t&&(t||1!==r[3])?'a'===t?r[3]:'rgba('+r.join(',')+')':'rgb('+r[0]+','+r[1]+','+r[2]+')':a,o},brighten:function(t){var o,a=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(o=0;3>o;o++)a[o]+=r(255*t),0>a[o]&&(a[o]=0),255<a[o]&&(a[o]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this},tweenTo:function(e,t){var i=this.rgba,o=e.rgba;return o.length&&i&&i.length?(e=1!==o[3]||1!==i[3],t=(e?'rgba(':'rgb(')+R(o[0]+(i[0]-o[0])*(1-t))+','+R(o[1]+(i[1]-o[1])*(1-t))+','+R(o[2]+(i[2]-o[2])*(1-t))+(e?','+(o[3]+(i[3]-o[3])*(1-t)):'')+')'):t=e.input||'none',t}},t.color=function(e){return new t.Color(e)}}(a),function(i){var o,a,T=i.addEvent,L=i.animate,E=i.attr,r=i.charts,m=i.color,W=i.css,p=i.createElement,v=i.defined,w=i.deg2rad,e=i.destroyObjectProperties,X=i.doc,F=i.each,B=i.extend,k=i.erase,b=i.grep,t=i.hasTouch,g=i.inArray,j=i.isArray,n=i.isFirefox,D=i.isMS,c=i.isObject,u=i.isString,y=i.isWebKit,I=i.merge,f=i.noop,H=i.objectEach,V=i.pick,A=i.pInt,h=i.removeEvent,z=i.stop,_=i.svg,U=i.SVG_NS,G=i.symbolSizes,K=i.win;o=i.SVGElement=function(){return this},B(o.prototype,{opacity:1,SVG_NS:U,textProps:['direction','fontSize','fontWeight','fontFamily','fontStyle','color','lineHeight','width','textAlign','textDecoration','textOverflow','textOutline'],init:function(e,t){this.element='span'===t?p(t):X.createElementNS(this.SVG_NS,t),this.renderer=e},animate:function(e,t,o){return t=i.animObject(V(t,this.renderer.globalAnimation,!0)),0===t.duration?(this.attr(e,null,o),t.step&&t.step.call(this)):(o&&(t.complete=o),L(this,e,t)),this},colorGradient:function(o,a,r){var s,l,d,p,e,n,c,t,g,h,m,x=this.renderer,y=[];o.radialGradient?l='radialGradient':o.linearGradient&&(l='linearGradient'),l&&(d=o[l],e=x.gradients,c=o.stops,h=r.radialReference,j(d)&&(o[l]=d={x1:d[0],y1:d[1],x2:d[2],y2:d[3],gradientUnits:'userSpaceOnUse'}),'radialGradient'===l&&h&&!v(d.gradientUnits)&&(p=d,d=I(d,x.getRadialAttr(h,p),{gradientUnits:'userSpaceOnUse'})),H(d,function(e,t){'id'!==t&&y.push(t,e)}),H(c,function(e){y.push(e)}),y=y.join(','),e[y]?h=e[y].attr('id'):(d.id=h=i.uniqueKey(),e[y]=n=x.createElement(l).attr(d).add(x.defs),n.radAttr=p,n.stops=[],F(c,function(e){0===e[1].indexOf('rgba')?(s=i.color(e[1]),t=s.get('rgb'),g=s.get('a')):(t=e[1],g=1),e=x.createElement('stop').attr({offset:e[0],"stop-color":t,"stop-opacity":g}).add(n),n.stops.push(e)})),m='url('+x.url+'#'+h+')',r.setAttribute(a,m),r.gradient=y,o.toString=function(){return m})},applyTextOutline:function(e){var t,o,r,n,a,s=this.element;if(-1!==e.indexOf('contrast')&&(e=e.replace(/contrast/g,this.renderer.getContrast(s.style.fill))),e=e.split(' '),o=e[e.length-1],(r=e[0])&&'none'!==r&&i.svg){for(this.fakeTS=!0,e=[].slice.call(s.getElementsByTagName('tspan')),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(e,t,i){return 2*t+i}),a=e.length;a--;)t=e[a],'highcharts-text-outline'===t.getAttribute('class')&&k(e,s.removeChild(t));n=s.firstChild,F(e,function(e,t){0===t&&(e.setAttribute('x',s.getAttribute('x')),t=s.getAttribute('y'),e.setAttribute('y',t||0),null===t&&s.setAttribute('y',0)),e=e.cloneNode(1),E(e,{class:'highcharts-text-outline',fill:o,stroke:o,"stroke-width":r,"stroke-linejoin":'round'}),s.insertBefore(e,n)})}},attr:function(t,i,o,r){var n,s,l,p,e=this.element,d=this;return'string'==typeof t&&void 0!==i&&(n=t,t={},t[n]=i),'string'==typeof t?d=(this[t+'Getter']||this._defaultGetter).call(this,t,e):(H(t,function(i,o){l=!1,r||z(this,o),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(o)&&(s||(this.symbolAttr(t),s=!0),l=!0),this.rotation&&('x'===o||'y'===o)&&(this.doTransform=!0),l||(p=this[o+'Setter']||this._defaultSetter,p.call(this,i,o,e),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(o)&&this.updateShadows(o,i,p))},this),this.afterSetters()),o&&o.call(this),d},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(e,t,i){for(var o=this.shadows,a=o.length;a--;)i.call(o[a],'height'===e?N(t-(o[a].cutHeight||0),0):'d'===e?this.d:t,e,o[a])},addClass:function(e,t){var i=this.attr('class')||'';return-1===i.indexOf(e)&&(t||(e=(i+(i?' ':'')+e).replace('  ',' ')),this.attr('class',e)),this},hasClass:function(e){return-1!==g(e,(this.attr('class')||'').split(' '))},removeClass:function(e){return this.attr('class',(this.attr('class')||'').replace(e,''))},symbolAttr:function(e){var t=this;F(['x','y','r','start','end','width','height','innerR','anchorX','anchorY'],function(i){t[i]=V(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr('clip-path',e?'url('+this.renderer.url+'#'+e.id+')':'none')},crisp:function(e,t){var i;return t=t||e.strokeWidth||0,i=R(t)%2/2,e.x=M(e.x||this.x||0)+i,e.y=M(e.y||this.y||0)+i,e.width=M((e.width||this.width||0)-2*i),e.height=M((e.height||this.height||0)-2*i),v(e.strokeWidth)&&(e.strokeWidth=t),e},css:function(t){var i,o,r=this.styles,s={},a=this.element,l='',p=!r,e=['textOutline','textOverflow','width'];return t&&t.color&&(t.fill=t.color),r&&H(t,function(e,t){e!==r[t]&&(s[t]=e,p=!0)}),p&&(r&&(t=B(r,s)),i=this.textWidth=t&&t.width&&'auto'!==t.width&&'text'===a.nodeName.toLowerCase()&&A(t.width),this.styles=t,i&&!_&&this.renderer.forExport&&delete t.width,a.namespaceURI===this.SVG_NS?(o=function(e,t){return'-'+t.toLowerCase()},H(t,function(t,i){-1===g(i,e)&&(l+=i.replace(/([A-Z])/g,o)+':'+t+';')}),l&&E(a,'style',l)):W(a,t),this.added&&('text'===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this['stroke-width']||0},on:function(e,i){var o=this,r=o.element;return t&&'click'===e?(r.ontouchstart=function(e){o.touchEventFired=Date.now(),e.preventDefault(),i.call(r,e)},r.onclick=function(e){(-1===K.navigator.userAgent.indexOf('Android')||1100<Date.now()-(o.touchEventFired||0))&&i.call(r,e)}):r['on'+e]=i,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(e){return this.inverted=e,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,o=this.scaleY,a=this.inverted,r=this.rotation,n=this.matrix,s=this.element;a&&(e+=this.width,t+=this.height),e=['translate('+e+','+t+')'],v(n)&&e.push('matrix('+n.join(',')+')'),a?e.push('rotate(90) scale(-1,1)'):r&&e.push('rotate('+r+' '+V(this.rotationOriginX,s.getAttribute('x'),0)+' '+V(this.rotationOriginY,s.getAttribute('y')||0)+')'),(v(i)||v(o))&&e.push('scale('+V(i,1)+' '+V(o,1)+')'),e.length&&s.setAttribute('transform',e.join(' '))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(t,i,o){var a,r,n,s,l={};r=this.renderer,n=r.alignedObjects;var p,c;return t?(this.alignOptions=t,this.alignByTranslate=i,!o||u(o))&&(this.alignTo=a=o||'renderer',k(n,this),n.push(this),o=null):(t=this.alignOptions,i=this.alignByTranslate,a=this.alignTo),o=V(o,r[a],r),a=t.align,r=t.verticalAlign,n=(o.x||0)+(t.x||0),s=(o.y||0)+(t.y||0),'right'===a?p=1:'center'==a&&(p=2),p&&(n+=(o.width-(t.width||0))/p),l[i?'translateX':'x']=R(n),'bottom'===r?c=1:'middle'==r&&(c=2),c&&(s+=(o.height-(t.height||0))/c),l[i?'translateY':'y']=R(s),this[this.placed?'animate':'attr'](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(e,i){var o,r,s,n,p,h=this.renderer,g=this.element,c=this.styles,m=this.textStr,x=h.cache,t=h.cacheKeys;if(i=V(i,this.rotation),r=i*w,s=c&&c.fontSize,v(m)&&(p=m.toString(),-1===p.indexOf('<')&&(p=p.replace(/[0-9]/g,'0')),p+=['',i||0,s,c&&c.width,c&&c.textOverflow].join()),p&&!e&&(o=x[p]),!o){if(g.namespaceURI===this.SVG_NS||h.forExport){try{(n=this.fakeTS&&function(e){F(g.querySelectorAll('.highcharts-text-outline'),function(t){t.style.display=e})})&&n('none'),o=g.getBBox?B({},g.getBBox()):{width:g.offsetWidth,height:g.offsetHeight},n&&n('')}catch(e){}(!o||0>o.width)&&(o={width:0,height:0})}else o=this.htmlGetBBox();if(h.isSVG&&(e=o.width,h=o.height,c&&'11px'===c.fontSize&&17===R(h)&&(o.height=h=14),i&&(o.width=P(h*l(r))+P(e*S(r)),o.height=P(h*S(r))+P(e*l(r)))),p&&0<o.height){for(;250<t.length;)delete x[t.shift()];x[p]||t.push(p),x[p]=o}}return o},show:function(e){return this.attr({visibility:e?'inherit':'visible'})},hide:function(){return this.attr({visibility:'hidden'})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i=this.renderer,o=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:i.box).appendChild(o),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},i=e.renderer.isSVG&&'SPAN'===t.nodeName&&e.parentGroup,o=t.ownerSVGElement,r=e.clipPath;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,z(e),r&&o&&(F(o.querySelectorAll('[clip-path],[CLIP-PATH]'),function(e){var t=e.getAttribute('clip-path'),i=r.element.id;(-1<t.indexOf('(#'+i+')')||-1<t.indexOf('("#'+i+'")'))&&e.removeAttribute('clip-path')}),e.clipPath=r.destroy()),e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}for(e.safeRemoveChild(t),e.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)t=i.parentGroup,e.safeRemoveChild(i.div),delete i.div,i=t;return e.alignTo&&k(e.renderer.alignedObjects,e),H(e,function(t,i){delete e[i]}),null},shadow:function(t,i,o){var r,s,l,d,e,p,n=[],h=this.element;if(!t)this.destroyShadows();else if(!this.shadows){for(d=V(t.width,3),e=(t.opacity||.15)/d,p=this.parentInverted?'(-1,-1)':'('+V(t.offsetX,1)+', '+V(t.offsetY,1)+')',r=1;r<=d;r++)s=h.cloneNode(0),l=2*d+1-2*r,E(s,{isShadow:'true',stroke:t.color||'#000000',"stroke-opacity":e*r,"stroke-width":l,transform:'translate'+p,fill:'none'}),o&&(E(s,'height',N(E(s,'height')-l,0)),s.cutHeight=l),i?i.element.appendChild(s):h.parentNode&&h.parentNode.insertBefore(s,h),n.push(s);this.shadows=n}return this},destroyShadows:function(){F(this.shadows||[],function(e){this.safeRemoveChild(e)},this),this.shadows=void 0},xGetter:function(e){return'circle'===this.element.nodeName&&('x'===e?e='cx':'y'==e&&(e='cy')),this._defaultGetter(e)},_defaultGetter:function(e){return e=V(this[e+'Value'],this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(' ')),/(NaN| {2}|^$)/.test(e)&&(e='M 0 0'),this[t]!==e&&(i.setAttribute(t,e),this[t]=e)},dashstyleSetter:function(e){var t,i=this['stroke-width'];if('inherit'===i&&(i=1),e=e&&e.toLowerCase()){for(e=e.replace('shortdashdotdot','3,1,1,1,1,1,').replace('shortdashdot','3,1,1,1').replace('shortdot','1,1,').replace('shortdash','3,1,').replace('longdash','8,3,').replace(/dot/g,'1,3,').replace('dash','4,3,').replace(/,$/,'').split(','),t=e.length;t--;)e[t]=A(e[t])*i;e=e.join(',').replace(/NaN/g,'none'),this.element.setAttribute('stroke-dasharray',e)}},alignSetter:function(e){this.alignValue=e,this.element.setAttribute('text-anchor',{left:'start',center:'middle',right:'end'}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName('title')[0];t||(t=X.createElementNS(this.SVG_NS,'title'),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(X.createTextNode(String(V(e),'').replace(/<[^>]*>/g,'').replace(/&lt;/g,'<').replace(/&gt;/g,'>')))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){'string'==typeof e?i.setAttribute(t,e):e&&this.colorGradient(e,t,i)},visibilitySetter:function(e,t,i){'inherit'===e?i.removeAttribute(t):this[t]!==e&&i.setAttribute(t,e),this[t]=e},zIndexSetter:function(t,i){var o,r,s,n=this.renderer,l=this.parentGroup,d=(l||n).element||n.box,p=this.element,n=d===n.box;o=this.added;var c;if(v(t)&&(p.zIndex=t,t=+t,this[i]===t&&(o=!1),this[i]=t),o){for((t=this.zIndex)&&l&&(l.handleZ=!0),i=d.childNodes,c=i.length-1;0<=c&&!r;c--)(l=i[c],o=l.zIndex,s=!v(o),l!==p)&&(0>t&&s&&!n&&!c?(d.insertBefore(p,i[c]),r=!0):(A(o)<=t||s&&(!v(t)||0<=t))&&(d.insertBefore(p,i[c+1]||null),r=!0));r||(d.insertBefore(p,i[n?3:0]||null),r=!0)}return r},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}}),o.prototype.yGetter=o.prototype.xGetter,o.prototype.translateXSetter=o.prototype.translateYSetter=o.prototype.rotationSetter=o.prototype.verticalAlignSetter=o.prototype.rotationOriginXSetter=o.prototype.rotationOriginYSetter=o.prototype.scaleXSetter=o.prototype.scaleYSetter=o.prototype.matrixSetter=function(e,t){this[t]=e,this.doTransform=!0},o.prototype['stroke-widthSetter']=o.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this['stroke-width']?(o.prototype.fillSetter.call(this,this.stroke,'stroke',i),i.setAttribute('stroke-width',this['stroke-width']),this.hasStroke=!0):'stroke-width'===t&&0===e&&this.hasStroke&&(i.removeAttribute('stroke'),this.hasStroke=!1)},a=i.SVGRenderer=function(){this.init.apply(this,arguments)},B(a.prototype,{Element:o,SVG_NS:U,init:function(e,t,i,o,a,r){var l;o=this.createElement('svg').attr({version:'1.1',class:'highcharts-root'}).css(this.getStyle(o)),l=o.element,e.appendChild(l),E(e,'dir','ltr'),-1===e.innerHTML.indexOf('xmlns')&&E(l,'xmlns',this.SVG_NS),this.isSVG=!0,this.box=l,this.boxWrapper=o,this.alignedObjects=[],this.url=(n||y)&&X.getElementsByTagName('base').length?K.location.href.replace(/#.*?$/,'').replace(/<[^>]*>/g,'').replace(/([\('\)])/g,'\\$1').replace(/ /g,'%20'):'',this.createElement('desc').add().element.appendChild(X.createTextNode('Created with Highstock 6.0.7')),this.defs=this.createElement('defs').add(),this.allowHTML=r,this.forExport=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,i,!1);var d;n&&e.getBoundingClientRect&&(t=function(){W(e,{left:0,top:0}),d=e.getBoundingClientRect(),W(e,{left:s(d.left)-d.left+'px',top:s(d.top)-d.top+'px'})},t(),this.unSubPixelFix=T(K,'resize',t))},getStyle:function(e){return this.style=B({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:'12px'},e)},setStyle:function(e){this.boxWrapper.css(this.getStyle(e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),e(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:f,getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},getSpanWidth:function(e){return e.getBBox(!0).width},applyEllipsis:function(t,i,o,a){var r,l,d=t.rotation,p=o,h=0,c=o.length,e=function(e){i.removeChild(i.firstChild),e&&i.appendChild(X.createTextNode(e))};if(t.rotation=0,p=this.getSpanWidth(t,i),l=p>a){for(;h<=c;)r=s((h+c)/2),p=o.substring(0,r)+'\u2026',e(p),p=this.getSpanWidth(t,i),h===c?h=c+1:p>a?c=r-1:h=r;0===c&&e('')}return t.rotation=d,l},escapes:{"&":'&amp;',"<":'&lt;',">":'&gt;',"'":'&#39;','"':'&quot;'},buildText:function(i){var o,a,n,s,t,p,m=i.element,d=this,x=d.forExport,h=V(i.textStr,'').toString(),u=-1!==h.indexOf('<'),c=m.childNodes,y=E(m,'x'),e=i.styles,v=i.textWidth,f=e&&e.lineHeight,k=e&&e.textOutline,S=e&&'ellipsis'===e.textOverflow,T=e&&'nowrap'===e.whiteSpace,P=e&&e.fontSize,l=c.length,e=v&&!i.added&&this.box,C=function(e){var t;return t=/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:P||d.style.fontSize||12,f?A(f):d.fontMetrics(t,e.getAttribute('style')?e:m).h},w=function(e,t){return H(d.escapes,function(i,o){t&&-1!==g(i,t)||(e=e.toString().replace(new RegExp(i,'g'),o))}),e};if(t=[h,S,T,f,k,P,v].join(),t!==i.textCache){for(i.textCache=t;l--;)m.removeChild(c[l]);u||k||S||v||-1!==h.indexOf(' ')?(o=/<.*class="([^"]+)".*>/,a=/<.*style="([^"]+)".*>/,n=/<.*href="([^"]+)".*>/,e&&e.appendChild(m),h=u?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,'<span').replace(/<\/(b|strong|i|em|a)>/g,'</span>').split(/<br.*?>/g):[h],h=b(h,function(e){return''!==e}),F(h,function(t,r){var l,c=0;t=t.replace(/^\s+|\s+$/g,'').replace(/<span/g,'|||<span').replace(/<\/span>/g,'</span>|||'),l=t.split('|||'),F(l,function(f){if(''!==f||1===l.length){var h,t,u={},b=X.createElementNS(d.SVG_NS,'tspan');if(o.test(f)&&(h=f.match(o)[1],E(b,'class',h)),a.test(f)&&(t=f.match(a)[1].replace(/(;| |^)color([ :])/,'$1fill$2'),E(b,'style',t)),n.test(f)&&!x&&(E(b,'onclick','location.href="'+f.match(n)[1]+'"'),E(b,'class','highcharts-anchor'),W(b,{cursor:'pointer'})),f=w(f.replace(/<[a-zA-Z\/](.|\n)*?>/g,'')||' '),' '!==f){if(b.appendChild(X.createTextNode(f)),c?u.dx=0:r&&null!==y&&(u.x=y),E(b,u),m.appendChild(b),!c&&p&&(!_&&x&&W(b,{display:'block'}),E(b,'dy',C(b))),v){u=f.replace(/([^\^])-/g,'$1- ').split(' '),h=1<l.length||r||1<u.length&&!T;var k,A=[],P=C(b),L=i.rotation;for(S&&(s=d.applyEllipsis(i,b,f,v));!S&&h&&(u.length||A.length);)i.rotation=0,k=d.getSpanWidth(i,b),f=k>v,void 0==s&&(s=f),f&&1!==u.length?(b.removeChild(b.firstChild),A.unshift(u.pop())):(u=A,A=[],u.length&&!T&&(b=X.createElementNS(U,'tspan'),E(b,{dy:P,x:y}),t&&E(b,'style',t),m.appendChild(b)),k>v&&(v=k)),u.length&&b.appendChild(X.createTextNode(u.join(' ').replace(/- /g,'-')));i.rotation=L}c++}}}),p=p||m.childNodes.length}),s&&i.attr('title',w(i.textStr,['&lt;','&gt;'])),e&&e.removeChild(m),k&&i.applyTextOutline&&i.applyTextOutline(k)):m.appendChild(X.createTextNode(w(h)))}},getContrast:function(e){return e=m(e).rgba,510<e[0]+e[1]+e[2]?'#000000':'#FFFFFF'},button:function(i,o,a,r,s,l,d,p,e){var c=this.label(i,o,a,e,null,null,null,null,'button'),n=0;c.attr(I({padding:8,r:2},s));var h,t,g,u;return s=I({fill:'#f7f7f7',stroke:'#cccccc',"stroke-width":1,style:{color:'#333333',cursor:'pointer',fontWeight:'normal'}},s),h=s.style,delete s.style,l=I(s,{fill:'#e6e6e6'},l),t=l.style,delete l.style,d=I(s,{fill:'#e6ebf5',style:{color:'#000000',fontWeight:'bold'}},d),g=d.style,delete d.style,p=I(s,{style:{color:'#cccccc'}},p),u=p.style,delete p.style,T(c.element,D?'mouseover':'mouseenter',function(){3!=n&&c.setState(1)}),T(c.element,D?'mouseout':'mouseleave',function(){3!=n&&c.setState(n)}),c.setState=function(e){1!==e&&(c.state=n=e),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass('highcharts-button-'+['normal','hover','pressed','disabled'][e||0]),c.attr([s,l,d,p][e||0]).css([h,t,g,u][e||0])},c.attr(s).css(B({cursor:'default'},h)),c.on('click',function(e){3!==n&&r.call(c,e)})},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=R(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=R(e[2])+t%2/2),e},path:function(e){var t={fill:'none'};return j(e)?t.d=e:c(e)&&B(t,e),this.createElement('path').attr(t)},circle:function(e,t,i){return e=c(e)?e:{x:e,y:t,r:i},t=this.createElement('circle'),t.xSetter=t.ySetter=function(e,t,i){i.setAttribute('c'+t,e)},t.attr(e)},arc:function(e,t,i,o,a,r){return c(e)?(o=e,t=o.y,i=o.r,e=o.x):o={innerR:o,start:a,end:r},e=this.symbol('arc',e,t,i,i,o),e.r=i,e},rect:function(e,t,i,o,r,n){r=c(e)?e.r:r;var s=this.createElement('rect');return e=c(e)?e:void 0===e?{}:{x:e,y:t,width:N(i,0),height:N(o,0)},void 0!==n&&(e.strokeWidth=n,e=s.crisp(e)),e.fill='none',r&&(e.r=r),s.rSetter=function(e,t,i){E(i,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,i){var o=this.alignedObjects,r=o.length;for(this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:'0 0 '+this.attr('width')+' '+this.attr('height')})},duration:V(i,!0)?void 0:0});r--;)o[r].align()},g:function(e){var t=this.createElement('g');return e?t.attr({class:'highcharts-'+e}):t},image:function(e,t,i,o,a){var r={preserveAspectRatio:'none'};return 1<arguments.length&&B(r,{x:t,y:i,width:o,height:a}),r=this.createElement('image').attr(r),r.element.setAttributeNS?r.element.setAttributeNS('http://www.w3.org/1999/xlink','href',e):r.element.setAttribute('hc-svg-href',e),r},symbol:function(i,o,a,s,l,g){var c,m,b,k=this,e=/^url\((.*?)\)$/,n=e.test(i),w=!n&&(this.symbols[i]?i:'circle'),S=w&&this.symbols[w],A=v(o)&&S&&S.call(this.symbols,R(o),R(a),s,l,g);return S?(c=this.path(A),c.attr('fill','none'),B(c,{symbolName:w,x:o,y:a,width:s,height:l}),g&&B(c,g)):n&&(m=i.match(e)[1],c=this.image(m),c.imgwidth=V(G[m]&&G[m].width,g&&g.width),c.imgheight=V(G[m]&&G[m].height,g&&g.height),b=function(){c.attr({width:c.width,height:c.height})},F(['width','height'],function(e){c[e+'Setter']=function(e,t){var i={},o=this['img'+t],a='width'===t?'translateX':'translateY';this[t]=e,v(o)&&(this.element&&this.element.setAttribute(t,o),this.alignByTranslate||(i[a]=((this[t]||0)-o)/2,this.attr(i)))}}),v(o)&&c.attr({x:o,y:a}),c.isImg=!0,v(c.imgwidth)&&v(c.imgheight)?b():(c.attr({width:0,height:0}),p('img',{onload:function(){var e=r[k.chartIndex];0===this.width&&(W(this,{position:'absolute',top:'-999em'}),X.body.appendChild(this)),G[m]={width:this.width,height:this.height},c.imgwidth=this.width,c.imgheight=this.height,c.element&&b(),this.parentNode&&this.parentNode.removeChild(this),k.imgCount--,!k.imgCount&&e&&e.onload&&e.onload()},src:m}),this.imgCount++)),c},symbols:{circle:function(e,t,i,o){return this.arc(e+i/2,t+o/2,i/2,o/2,{start:0,end:2*O,open:!1})},square:function(e,t,i,o){return['M',e,t,'L',e+i,t,e+i,t+o,e,t+o,'Z']},triangle:function(e,t,i,o){return['M',e+i/2,t,'L',e+i,t+o,e,t+o,'Z']},"triangle-down":function(e,t,i,o){return['M',e,t,'L',e+i,t,e+i/2,t+o,'Z']},diamond:function(e,t,i,o){return['M',e+i/2,t,'L',e+i,t+o/2,e+i/2,t+o,e,t+o/2,'Z']},arc:function(t,i,o,a,r){var s=r.start,d=r.r||o,p=r.r||a||o,c=r.end-.001;o=r.innerR,a=V(r.open,.001>P(r.end-r.start-2*O));var e=S(s),h=l(s),n=S(c),c=l(c);return r=.001>r.end-s-O?0:1,d=['M',t+d*e,i+p*h,'A',d,p,0,r,1,t+d*n,i+p*c],v(o)&&d.push(a?'M':'L',t+o*n,i+o*c,'A',o,o,0,r,0,t+o*e,i+o*h),d.push(a?'':'Z'),d},callout:function(t,i,o,a,r){var n=Y(r&&r.r||0,o,a),s=n+6,l=r&&r.anchorX;r=r&&r.anchorY;var d;return d=['M',t+n,i,'L',t+o-n,i,'C',t+o,i,t+o,i,t+o,i+n,'L',t+o,i+a-n,'C',t+o,i+a,t+o,i+a,t+o-n,i+a,'L',t+n,i+a,'C',t,i+a,t,i+a,t,i+a-n,'L',t,i+n,'C',t,i,t,i,t+n,i],l&&l>o?r>i+s&&r<i+a-s?d.splice(13,3,'L',t+o,r-6,t+o+6,r,t+o,r+6,t+o,i+a-n):d.splice(13,3,'L',t+o,a/2,l,r,t+o,a/2,t+o,i+a-n):l&&0>l?r>i+s&&r<i+a-s?d.splice(33,3,'L',t,r+6,t-6,r,t,r-6,t,i+n):d.splice(33,3,'L',t,a/2,l,r,t,a/2,t,i+n):r&&r>a&&l>t+s&&l<t+o-s?d.splice(23,3,'L',l+6,i+a,l,i+a+6,l-6,i+a,t+n,i+a):r&&0>r&&l>t+s&&l<t+o-s&&d.splice(3,3,'L',l-6,i,l,i-6,l+6,i,o-n,i),d}},clipRect:function(e,t,o,a){var r=i.uniqueKey(),n=this.createElement('clipPath').attr({id:r}).add(this.defs);return e=this.rect(e,t,o,a,0).add(n),e.id=r,e.clipPath=n,e.count=0,e},text:function(e,t,i,o){var a={};return o&&(this.allowHTML||!this.forExport)?this.html(e,t,i):(a.x=R(t||0),i&&(a.y=R(i)),(e||0===e)&&(a.text=e),e=this.createElement('text').attr(a),o||(e.xSetter=function(e,t,i){var o,a,r=i.getElementsByTagName('tspan'),n=i.getAttribute(t);for(a=0;a<r.length;a++)o=r[a],o.getAttribute(t)===n&&o.setAttribute(t,e);i.setAttribute(t,e)}),e)},fontMetrics:function(e,t){return e=e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,e=/px/.test(e)?A(e):/em/.test(e)?parseFloat(e)*(t?this.fontMetrics(null,t.parentNode).f:16):12,t=24>e?e+3:R(1.2*e),{h:t,b:R(.8*t),f:e}},rotCorr:function(e,t,i){var o=e;return t&&i&&(o=N(o*S(t*w),4)),{x:-e/3*l(t*w),y:o}},label:function(a,s,g,x,c,b,S,n,T){var t,C,L,D,E,G,M,p,W,X,w,r,N,Y=this,A=Y.g('button'!==T&&'label'),u=A.text=Y.text('',0,0,S).attr({zIndex:1}),y=0,k=3,P=0,O={},l=/^url\((.*?)\)$/.test(x),j=l;T&&A.addClass('highcharts-'+T),j=l,X=function(){return(p||0)%2/2},w=function(){var e=u.element.style,i={};C=(void 0==L||void 0==D||M)&&v(u.textStr)&&u.getBBox(),A.width=(L||C.width||0)+2*k+P,A.height=(D||C.height||0)+2*k,W=k+Y.fontMetrics(e&&e.fontSize,u).b,j&&(t||(A.box=t=Y.symbols[x]||l?Y.symbol(x):Y.rect(),t.addClass(('button'===T?'':'highcharts-label-box')+(T?' highcharts-'+T+'-box':'')),t.add(A),e=X(),i.x=e,i.y=(n?-W:0)+e),i.width=R(A.width),i.height=R(A.height),t.attr(B(i,O)),O={})},r=function(){var e,t=P+k;e=n?0:W,v(L)&&C&&('center'===M||'right'===M)&&(t+={center:.5,right:1}[M]*(L-C.width)),(t!==u.x||e!==u.y)&&(u.attr('x',t),void 0!==e&&u.attr('y',e)),u.x=t,u.y=e},N=function(e,i){t?t.attr(e,i):O[e]=i},A.onAdd=function(){u.add(A),A.attr({text:a||0===a?a:'',x:s,y:g}),t&&v(c)&&A.attr({anchorX:c,anchorY:b})},A.widthSetter=function(e){L=i.isNumber(e)?e:null},A.heightSetter=function(e){D=e},A['text-alignSetter']=function(e){M=e},A.paddingSetter=function(e){v(e)&&e!==k&&(k=A.padding=e,r())},A.paddingLeftSetter=function(e){v(e)&&e!==P&&(P=e,r())},A.alignSetter=function(e){e={left:0,center:.5,right:1}[e],e!==y&&(y=e,C&&A.attr({x:E}))},A.textSetter=function(e){void 0!==e&&u.textSetter(e),w(),r()},A['stroke-widthSetter']=function(e,t){e&&(j=!0),p=this['stroke-width']=e,N(t,e)},A.strokeSetter=A.fillSetter=A.rSetter=function(e,t){'r'!==t&&('fill'===t&&e&&(j=!0),A[t]=e),N(t,e)},A.anchorXSetter=function(e,t){c=A.anchorX=e,N(t,R(e)-X()-E)},A.anchorYSetter=function(e,t){b=A.anchorY=e,N(t,e-G)},A.xSetter=function(e){A.x=e,y&&(e-=y*((L||C.width)+2*k)),E=R(e),A.attr('translateX',E)},A.ySetter=function(e){G=A.y=R(e),A.attr('translateY',G)};var V=A.css;return B(A,{css:function(e){if(e){var t={};e=I(e),F(A.textProps,function(i){void 0!==e[i]&&(t[i]=e[i],delete e[i])}),u.css(t)}return V.call(A,e)},getBBox:function(){return{width:C.width+2*k,height:C.height+2*k,x:C.x-k,y:C.y-k}},shadow:function(e){return e&&(w(),t&&t.shadow(e)),A},destroy:function(){h(A.element,'mouseenter'),h(A.element,'mouseleave'),u&&(u=u.destroy()),t&&(t=t.destroy()),o.prototype.destroy.call(A),A=Y=w=r=N=null}})}}),i.Renderer=a}(a),function(t){var i=t.attr,o=t.createElement,n=t.css,s=t.defined,r=t.each,u=t.extend,l=t.isFirefox,a=t.isMS,d=t.isWebKit,p=t.pick,h=t.pInt,e=t.SVGRenderer,c=t.win,g=t.wrap;u(t.SVGElement.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&'SPAN'===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&'ellipsis'===e.textOverflow&&(e.whiteSpace='nowrap',e.overflow='hidden'),this.styles=u(this.styles,e),n(this.element,e),this},htmlGetBBox:function(){var e=this.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,o=this.translateY||0,a=this.x||0,l=this.y||0,p=this.textAlign||'left',g={left:0,center:.5,right:1}[p],u=this.styles,m=u&&u.whiteSpace;if(n(t,{marginLeft:i,marginTop:o}),this.shadows&&r(this.shadows,function(e){n(e,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&r(t.childNodes,function(i){e.invertChild(i,t)}),'SPAN'===t.tagName){var x,u=this.rotation,d=this.textWidth&&h(this.textWidth),y=[u,p,t.innerHTML,this.textWidth,this.textAlign].join();(x=d!==this.oldTextWidth)&&!(x=d>this.oldTextWidth)&&((x=this.textPxLength)||(n(t,{width:'',whiteSpace:m||'nowrap'}),x=t.offsetWidth),x=x>d),x&&/[ \-]/.test(t.textContent||t.innerText)&&(n(t,{width:d+'px',display:'block',whiteSpace:m||'normal'}),this.oldTextWidth=d),y!==this.cTT&&(m=e.fontMetrics(t.style.fontSize).b,s(u)&&u!==(this.oldRotation||0)&&this.setSpanRotation(u,g,m),this.getSpanCorrection(this.textPxLength||t.offsetWidth,m,g,u,p)),n(t,{left:a+(this.xCorr||0)+'px',top:l+(this.yCorr||0)+'px'}),this.cTT=y,this.oldRotation=u}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,i){var o={},a=this.renderer.getTransformKey();o[a]=o.transform='rotate('+e+'deg)',o[a+(l?'Origin':'-origin')]=o.transformOrigin=100*t+'% '+i+'px',n(this.element,o)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),u(e.prototype,{getTransformKey:function(){return a&&!/Edge/.test(c.navigator.userAgent)?'-ms-transform':d?'-webkit-transform':l?'MozTransform':c.opera?'-o-transform':''},html:function(s,l,d){var h=this.createElement('span'),m=h.element,x=h.renderer,e=x.isSVG,n=function(e,t){r(['opacity','visibility'],function(i){g(e,i+'Setter',function(e,i,o,a){e.call(this,i,o,a),t[o]=i})})};return h.textSetter=function(e){e!==m.innerHTML&&delete this.bBox,this.textStr=e,m.innerHTML=p(e,''),h.doTransform=!0},e&&n(h,h.element.style),h.xSetter=h.ySetter=h.alignSetter=h.rotationSetter=function(e,t){'align'===t&&(t='textAlign'),h[t]=e,h.doTransform=!0},h.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},h.attr({text:s,x:R(l),y:R(d)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:'absolute'}),m.style.whiteSpace='nowrap',h.css=h.htmlCss,e&&(h.add=function(t){var s,l=x.box.parentNode,d=[];if(!(this.parentGroup=t))s=l;else if(s=t.div,!s){for(;t;)d.push(t),t=t.parentGroup;r(d.reverse(),function(e){function t(t,i){e[i]=t,'translateX'===i?a.left=t+'px':a.top=t+'px',e.doTransform=!0}var a,r=i(e.element,'class');r&&(r={className:r}),s=e.div=e.div||o('div',r,{position:'absolute',left:(e.translateX||0)+'px',top:(e.translateY||0)+'px',display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},s||l),a=s.style,u(e,{classSetter:function(e){return function(t){this.element.setAttribute('class',t),e.className=t}}(s),on:function(){return d[0].div&&h.on.apply({element:d[0].div},arguments),e},translateXSetter:t,translateYSetter:t}),n(e,a)})}return s.appendChild(m),h.added=!0,h.alignOnAdd&&h.htmlUpdateTransform(),h}),h}})}(a),function(i){var o=i.defined,a=i.each,s=i.extend,e=i.merge,r=i.pick,d=i.timeUnits,t=i.win;i.Time=function(e){this.update(e,!1)},i.Time.prototype={defaultOptions:{},update:function(o){var a=r(o&&o.useUTC,!0),n=this;this.options=o=e(!0,this.options||{},o),this.Date=o.Date||t.Date,this.timezoneOffset=(this.useUTC=a)&&o.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!a||o.getTimezoneOffset||o.timezone)||this.timezoneOffset?(this.get=function(t,i){var o=i.getTime(),e=o-n.getTimezoneOffset(i);return i.setTime(e),t=i['getUTC'+t](),i.setTime(o),t},this.set=function(t,e,o){var a;-1===i.inArray(t,['Milliseconds','Seconds','Minutes'])?(a=n.getTimezoneOffset(e),a=e.getTime()-a,e.setTime(a),e['setUTC'+t](o),t=n.getTimezoneOffset(e),a=e.getTime()+t,e.setTime(a)):e['set'+t](o)}):a?(this.get=function(e,t){return t['getUTC'+e]()},this.set=function(e,t,i){return t['setUTC'+e](i)}):(this.get=function(e,t){return t['get'+e]()},this.set=function(e,t,i){return t['set'+e](i)})},makeTime:function(t,o,a,s,e,l){var d,p,c;return this.useUTC?(d=this.Date.UTC.apply(0,arguments),p=this.getTimezoneOffset(d),d+=p,c=this.getTimezoneOffset(d),p===c?p-36E5!==this.getTimezoneOffset(d-36E5)||i.isSafari||(d-=36E5):d+=c-p):d=new this.Date(t,o,r(a,1),r(s,0),r(e,0),r(l,0)).getTime(),d},timezoneOffsetFunction:function(){var e=this,o=this.options,r=t.moment;if(!this.useUTC)return function(e){return 6E4*new Date(e).getTimezoneOffset()};if(o.timezone){if(r)return function(e){return 6E4*-r.tz(e,o.timezone).utcOffset()};i.error(25)}return this.useUTC&&o.getTimezoneOffset?function(e){return 6E4*o.getTimezoneOffset(e)}:function(){return 6E4*(e.timezoneOffset||0)}},dateFormat:function(o,r,a){if(!i.defined(r)||isNaN(r))return i.defaultOptions.lang.invalidDate||'';o=i.pick(o,'%Y-%m-%d %H:%M:%S');var s=this,e=new this.Date(r),l=this.get('Hours',e),d=this.get('Day',e),p=this.get('Date',e),c=this.get('Month',e),n=this.get('FullYear',e),h=i.defaultOptions.lang,g=h.weekdays,u=h.shortWeekdays,m=i.pad,e=i.extend({a:u?u[d]:g[d].substr(0,3),A:g[d],d:m(p),e:m(p,2,' '),w:d,b:h.shortMonths[c],B:h.months[c],m:m(c+1),y:n.toString().substr(2,2),Y:n,H:m(l),k:l,I:m(l%12||12),l:l%12||12,M:m(s.get('Minutes',e)),p:12>l?'AM':'PM',P:12>l?'am':'pm',S:m(e.getSeconds()),L:m(R(r%1E3),3)},i.dateFormats);return i.objectEach(e,function(e,t){for(;-1!==o.indexOf('%'+t);)o=o.replace('%'+t,'function'==typeof e?e.call(s,r):e)}),a?o.substr(0,1).toUpperCase()+o.substr(1):o},getTimeTicks:function(i,l,p,h){var e,g,u=this,c=[],m={},x=new u.Date(l),n=i.unitRange,t=i.count||1;if(o(l)){u.set('Milliseconds',x,n>=d.second?0:t*M(u.get('Milliseconds',x)/t)),n>=d.second&&u.set('Seconds',x,n>=d.minute?0:t*M(u.get('Seconds',x)/t)),n>=d.minute&&u.set('Minutes',x,n>=d.hour?0:t*M(u.get('Minutes',x)/t)),n>=d.hour&&u.set('Hours',x,n>=d.day?0:t*M(u.get('Hours',x)/t)),n>=d.day&&u.set('Date',x,n>=d.month?1:t*M(u.get('Date',x)/t)),n>=d.month&&(u.set('Month',x,n>=d.year?0:t*M(u.get('Month',x)/t)),e=u.get('FullYear',x)),n>=d.year&&u.set('FullYear',x,e-e%t),n===d.week&&u.set('Date',x,u.get('Date',x)-u.get('Day',x)+r(h,1)),e=u.get('FullYear',x),h=u.get('Month',x);var y=u.get('Date',x),f=u.get('Hours',x);for(l=x.getTime(),u.variableTimezone&&(g=p-l>4*d.month||u.getTimezoneOffset(l)!==u.getTimezoneOffset(p)),x=x.getTime(),l=1;x<p;)c.push(x),x=n===d.year?u.makeTime(e+l*t,0):n===d.month?u.makeTime(e,h+l*t):g&&(n===d.day||n===d.week)?u.makeTime(e,h,y+l*t*(n===d.day?1:7)):g&&n===d.hour&&1<t?u.makeTime(e,h,y,f+l*t):x+n*t,l++;c.push(x),n<=d.hour&&1E4>c.length&&a(c,function(e){0==e%18E5&&'000000000'===u.dateFormat('%H%M%S%L',e)&&(m[e]='day')})}return c.info=s(i,{higherRanks:m,totalRange:n*t}),c}}}(a),function(e){var t=e.color,i=e.merge;e.defaultOptions={colors:['#7cb5ec','#434348','#90ed7d','#f7a35c','#8085e9','#f15c80','#e4d354','#2b908f','#f45b5b','#91e8e1'],symbols:['circle','diamond','square','triangle','triangle-down'],lang:{loading:'Loading...',months:['January','February','March','April','May','June','July','August','September','October','November','December'],shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],weekdays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],decimalPoint:'.',numericSymbols:['k','M','G','T','P','E'],resetZoom:'Reset zoom',resetZoomTitle:'Reset zoom level 1:1',thousandsSep:' '},global:{},time:e.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:'line',ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:'right',x:-10,y:10}},width:null,height:null,borderColor:'#335cad',backgroundColor:'#ffffff',plotBorderColor:'#cccccc'},title:{text:'Chart title',align:'center',margin:15,widthAdjust:-44},subtitle:{text:'',align:'center',widthAdjust:-44},plotOptions:{},labels:{style:{position:'absolute',color:'#333333'}},legend:{enabled:!0,align:'center',layout:'horizontal',labelFormatter:function(){return this.name},borderColor:'#999999',borderRadius:0,navigation:{activeColor:'#003399',inactiveColor:'#cccccc'},itemStyle:{color:'#333333',fontSize:'12px',fontWeight:'bold',textOverflow:'ellipsis'},itemHoverStyle:{color:'#000000'},itemHiddenStyle:{color:'#cccccc'},shadow:!1,itemCheckboxStyle:{position:'absolute',width:'13px',height:'13px'},squareSymbol:!0,symbolPadding:5,verticalAlign:'bottom',x:0,y:0,title:{style:{fontWeight:'bold'}}},loading:{labelStyle:{fontWeight:'bold',position:'relative',top:'45%'},style:{position:'absolute',backgroundColor:'#ffffff',opacity:.5,textAlign:'center'}},tooltip:{enabled:!0,animation:e.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:'%A, %b %e, %H:%M:%S.%L',second:'%A, %b %e, %H:%M:%S',minute:'%A, %b %e, %H:%M',hour:'%A, %b %e, %H:%M',day:'%A, %b %e, %Y',week:'Week from %A, %b %e, %Y',month:'%B %Y',year:'%Y'},footerFormat:'',padding:8,snap:e.isTouchDevice?25:10,backgroundColor:t('#f7f7f7').setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:'#333333',cursor:'default',fontSize:'12px',pointerEvents:'none',whiteSpace:'nowrap'}},credits:{enabled:!0,href:'http://www.highcharts.com',position:{align:'right',x:-10,verticalAlign:'bottom',y:-5},style:{cursor:'pointer',color:'#999999',fontSize:'9px'},text:'Highcharts.com'}},e.setOptions=function(t){return e.defaultOptions=i(!0,e.defaultOptions,t),e.time.update(i(e.defaultOptions.global,e.defaultOptions.time),!1),e.defaultOptions},e.getOptions=function(){return e.defaultOptions},e.defaultPlotOptions=e.defaultOptions.plotOptions,e.time=new e.Time(i(e.defaultOptions.global,e.defaultOptions.time)),e.dateFormat=function(t,i,o){return e.time.dateFormat(t,i,o)}}(a),function(t){var i=t.correctFloat,o=t.defined,e=t.destroyObjectProperties,s=t.isNumber,r=t.merge,d=t.pick,h=t.deg2rad;t.Tick=function(t,i,o,a){this.axis=t,this.pos=i,this.type=o||'',this.isNewLabel=this.isNew=!0,o||a||this.addLabel()},t.Tick.prototype={addLabel:function(){var s,l=this.axis,p=l.options,h=l.chart,u=l.categories,e=l.names,c=this.pos,m=p.labels,x=l.tickPositions,g=c===x[0],y=c===x[x.length-1],e=u?d(u[c],e[c],c):c,u=this.label,x=x.info;l.isDatetimeAxis&&x&&(s=p.dateTimeLabelFormats[x.higherRanks[c]||x.unitName]),this.isFirst=g,this.isLast=y,p=l.labelFormatter.call({axis:l,chart:h,isFirst:g,isLast:y,dateTimeLabelFormat:s,value:l.isLog?i(l.lin2log(e)):e,pos:c}),o(u)?u&&u.attr({text:p}):((this.label=u=o(p)&&m.enabled?h.renderer.text(p,0,0,m.useHTML).css(r(m.style)).add(l.labelGroup):null)&&(u.textPxLength=u.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?'height':'width']:0},handleOverflow:function(i){var o,a=this.axis,r=a.options.labels,s=i.x,e=a.chart.chartWidth,l=a.chart.spacing,p=d(a.labelLeft,Y(a.pos,l[3])),l=d(a.labelRight,N(a.isRadial?0:a.pos+a.len,e-l[1])),c=this.label,g=this.rotation,n={left:0,center:.5,right:1}[a.labelAlign||c.attr('align')],t=c.getBBox().width,m=a.getSlotWidth(),u=m,x=1,f={};g||!1===r.overflow?0>g&&s-n*t<p?o=R(s/S(g*h)-p):0<g&&s+n*t>l&&(o=R((e-s)/S(g*h))):(e=s+(1-n)*t,s-n*t<p?u=i.x+u*(1-n)-p:e>l&&(u=l-i.x+u*n,x=-1),u=Y(m,u),u<m&&'center'===a.labelAlign&&(i.x+=x*(m-u-n*(m-Y(t,u)))),t>u||a.autoRotation&&(c.styles||{}).width)&&(o=u),o&&(f.width=o,(r.style||{}).textOverflow||(f.textOverflow='ellipsis'),c.css(f))},getPosition:function(i,o,a,r){var e=this.axis,n=e.chart,s=r&&n.oldChartHeight||n.chartHeight;return{x:i?t.correctFloat(e.translate(o+a,null,null,r)+e.transB):e.left+e.offset+(e.opposite?(r&&n.oldChartWidth||n.chartWidth)-e.right-e.left:0),y:i?s-e.bottom+e.offset-(e.opposite?e.height:0):t.correctFloat(s-e.translate(o+a,null,null,r)-e.transB)}},getLabelPosition:function(i,r,s,l,d,p,c,m){var g=this.axis,n=g.transA,t=g.reversed,x=g.staggerLines,u=g.tickRotCorr||{x:0,y:0},y=d.y,f=l||g.reserveSpaceDefault?0:-g.labelOffset*('center'===g.labelAlign?.5:1);return o(y)||(y=0===g.side?s.rotation?-8:-s.getBBox().height:2===g.side?u.y+8:S(s.rotation*h)*(u.y-s.getBBox(!1,0).height/2)),i=i+d.x+f+u.x-(p&&l?p*n*(t?-1:1):0),r=r+y-(p&&!l?p*n*(t?1:-1):0),x&&(s=c/(m||1)%x,g.opposite&&(s=x-s-1),r+=g.labelOffset/x*s),{x:i,y:R(r)}},getMarkPath:function(t,i,o,a,e,r){return r.crispLine(['M',t,i,'L',t+(e?0:-o),i+(e?o:0)],a)},renderGridLine:function(i,o,r){var s=this.axis,e=s.options,d=this.gridLine,p={},c=this.pos,h=this.type,n=s.tickmarkOffset,t=s.chart.renderer,g=h?h+'Grid':'grid',u=e[g+'LineWidth'],m=e[g+'LineColor'],e=e[g+'LineDashStyle'];d||(p.stroke=m,p['stroke-width']=u,e&&(p.dashstyle=e),h||(p.zIndex=1),i&&(p.opacity=0),this.gridLine=d=t.path().attr(p).addClass('highcharts-'+(h?h+'-':'')+'grid-line').add(s.gridGroup)),!i&&d&&(i=s.getPlotLinePath(c+n,d.strokeWidth()*r,i,!0))&&d[this.isNew?'attr':'animate']({d:i,opacity:o})},renderMark:function(i,o,a){var r=this.axis,e=r.options,s=r.chart.renderer,l=this.type,p=l?l+'Tick':'tick',h=r.tickSize(p),n=this.mark,g=!n,x=i.x;i=i.y;var u=d(e[p+'Width'],!l&&r.isXAxis?1:0),e=e[p+'Color'];h&&(r.opposite&&(h[0]=-h[0]),g&&(this.mark=n=s.path().addClass('highcharts-'+(l?l+'-':'')+'tick').add(r.axisGroup),n.attr({stroke:e,"stroke-width":u})),n[g?'attr':'animate']({d:this.getMarkPath(x,i,h[0],n.strokeWidth()*a,r.horiz,s),opacity:o}))},renderLabel:function(i,o,a,r){var e=this.axis,l=e.horiz,p=e.options,c=this.label,h=p.labels,n=h.step,e=e.tickmarkOffset,t=!0,g=i.x;i=i.y,c&&s(g)&&(c.xy=i=this.getLabelPosition(g,i,c,l,h,e,r,n),(!this.isFirst||this.isLast||d(p.showFirstLabel,1))&&(!this.isLast||this.isFirst||d(p.showLastLabel,1))?!l||h.step||h.rotation||o||0===a||this.handleOverflow(i):t=!1,n&&r%n&&(t=!1),t&&s(i.y)?(i.opacity=a,c[this.isNewLabel?'attr':'animate'](i),this.isNewLabel=!1):(c.attr('y',-9999),this.isNewLabel=!0))},render:function(i,o,a){var r=this.axis,e=r.horiz,n=this.getPosition(e,this.pos,r.tickmarkOffset,o),s=n.x,l=n.y,r=e&&s===r.pos+r.len||!e&&l===r.pos?-1:1;a=d(a,1),this.isActive=!0,this.renderGridLine(o,a,r),this.renderMark(n,a,r),this.renderLabel(n,o,a,i),this.isNew=!1,t.fireEvent(this,'afterRender')},destroy:function(){e(this,this.axis)}}}(a);var n=function(i){var S=i.addEvent,a=i.animObject,T=i.arrayMax,C=i.arrayMin,r=i.color,L=i.correctFloat,m=i.defaultOptions,O=i.defined,p=i.deg2rad,h=i.destroyObjectProperties,x=i.each,e=i.extend,E=i.fireEvent,v=i.format,k=i.getMagnitude,c=i.grep,n=i.inArray,t=i.isArray,W=i.isNumber,w=i.isString,g=i.merge,X=i.normalizeTickInterval,F=i.objectEach,j=i.pick,y=i.removeEvent,A=i.splat,D=i.syncTimeout,V=i.Tick,d=function(){this.init.apply(this,arguments)};return i.extend(d.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:'%H:%M:%S.%L',second:'%H:%M:%S',minute:'%H:%M',hour:'%H:%M',day:'%e. %b',week:'%e. %b',month:'%b \'%y',year:'%Y'},endOnTick:!1,labels:{enabled:!0,style:{color:'#666666',cursor:'default',fontSize:'11px'},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:'outside',minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:'between',tickPixelInterval:100,tickPosition:'outside',title:{align:'middle',style:{color:'#666666'}},type:'linear',minorGridLineColor:'#f2f2f2',minorGridLineWidth:1,minorTickColor:'#999999',lineColor:'#ccd6eb',lineWidth:1,gridLineColor:'#e6e6e6',tickColor:'#ccd6eb'},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:'Values'},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return i.numberFormat(this.total,-1)},style:{fontSize:'11px',fontWeight:'bold',color:'#000000',textOutline:'1px contrast'}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(e,t){var i=t.isX,o=this;o.chart=e,o.horiz=e.inverted&&!o.isZAxis?!i:i,o.isXAxis=i,o.coll=o.coll||(i?'xAxis':'yAxis'),o.opposite=t.opposite,o.side=t.side||(o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(t);var a=this.options,r=a.type;o.labelFormatter=a.labels.formatter||o.defaultLabelFormatter,o.userOptions=t,o.minPixelPadding=0,o.reversed=a.reversed,o.visible=!1!==a.visible,o.zoomEnabled=!1!==a.zoomEnabled,o.hasNames='category'===r||!0===a.categories,o.categories=a.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.isLog='logarithmic'===r,o.isDatetimeAxis='datetime'===r,o.positiveValuesOnly=o.isLog&&!o.allowNegativeLog,o.isLinked=O(a.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=a.minRange||a.maxZoom,o.range=a.range,o.offset=a.offset||0,o.stacks={},o.oldStacks={},o.stacksTouched=0,o.max=null,o.min=null,o.crosshair=j(a.crosshair,A(e.options.tooltip.crosshairs)[i?0:1],!1),t=o.options.events,-1===n(o,e.axes)&&(i?e.axes.splice(e.xAxis.length,0,o):e.axes.push(o),e[o.coll].push(o)),o.series=o.series||[],e.inverted&&!o.isZAxis&&i&&void 0===o.reversed&&(o.reversed=!0),F(t,function(e,t){S(o,t,e)}),o.lin2log=a.linearToLogConverter||o.lin2log,o.isLog&&(o.val2lin=o.log2lin,o.lin2val=o.lin2log)},setOptions:function(e){this.options=g(this.defaultOptions,'yAxis'===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],g(m[this.coll],e))},defaultLabelFormatter:function(){var t,o=this.axis,a=this.value,r=o.chart.time,s=o.categories,l=this.dateTimeLabelFormat,d=m.lang,e=d.numericSymbols,d=d.numericSymbolMagnitude||1E3,p=e&&e.length,n=o.options.labels.format,o=o.isLog?P(a):o.tickInterval;if(n)t=v(n,this,r);else if(s)t=a;else if(l)t=r.dateFormat(l,a);else if(p&&1E3<=o)for(;p--&&void 0===t;)r=u(d,p+1),o>=r&&0==10*a%r&&null!==e[p]&&0!==a&&(t=i.numberFormat(a/r,-1)+e[p]);return void 0===t&&(t=1E4<=P(a)?i.numberFormat(a,-1):i.numberFormat(a,-1,void 0,'')),t},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),x(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var o,a=i.options,r=a.threshold;e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=r&&(r=null),e.isXAxis?(a=i.xData,a.length&&(i=C(a),o=T(a),W(i)||i instanceof Date||(a=c(a,W),i=C(a),o=T(a)),a.length&&(e.dataMin=Y(j(e.dataMin,a[0],i),i),e.dataMax=N(j(e.dataMax,a[0],o),o)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,O(i)&&O(o)&&(e.dataMin=Y(j(e.dataMin,i),i),e.dataMax=N(j(e.dataMax,o),o)),O(r)&&(e.threshold=r),!a.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}})},translate:function(t,i,o,a,r,n){var s=this.linkedParent||this,l=1,d=0,e=a?s.oldTransA:s.transA;a=a?s.oldMin:s.min;var p=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,e||(e=s.transA),o&&(l*=-1,d=s.len),s.reversed&&(l*=-1,d-=l*(s.sector||s.len)),i?(t=(t*l+d-p)/e+a,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=W(a)?l*(t-a)*e+d+l*p+(W(n)?e*n:0):void 0),t},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(i,o,a,r,s){var l,e,p,t=this.chart,d=this.left,c=this.top,h=a&&t.oldChartHeight||t.chartHeight,g=a&&t.oldChartWidth||t.chartWidth;l=this.transB;var n=function(e,t,i){return(e<t||e>i)&&(r?e=Y(N(t,e),i):p=!0),e};return s=j(s,this.translate(i,null,null,a)),s=Y(N(-1E5,s),1E5),i=a=R(s+l),l=e=R(h-s-l),W(s)?this.horiz?(l=c,e=h-this.bottom,i=a=n(i,d,d+this.width)):(i=d,a=g-this.right,l=e=n(l,c,c+this.height)):(p=!0,r=!1),p&&!r?null:t.renderer.crispLine(['M',i,l,'L',a,e],o||1)},getLinearTickPositions:function(e,t,i){var o,a=L(M(t/e)*e);i=L(s(i/e)*e);var r,n=[];if(L(a+e)===a&&(r=20),this.single)return[t];for(t=a;t<=i&&(n.push(t),t=L(t+e,r),t!==o);)o=t;return n},getMinorTickInterval:function(){var e=this.options;return!0===e.minorTicks?j(e.minorTickInterval,'auto'):!1===e.minorTicks?null:e.minorTickInterval},getMinorTickPositions:function(){var e=this,t=e.options,i=e.tickPositions,o=e.minorTickInterval,a=[],r=e.pointRangePadding||0,n=e.min-r,r=e.max+r,s=r-n;if(s&&s/o<e.len/3)if(e.isLog)x(this.paddedTicks,function(t,i,r){i&&a.push.apply(a,e.getLogTickPositions(o,r[i-1],r[i],!0))});else if(e.isDatetimeAxis&&'auto'===this.getMinorTickInterval())a=a.concat(e.getTimeTicks(e.normalizeTimeTickInterval(o),n,r,t.startOfWeek));else for(t=n+(i[0]-n)%o;t<=r&&t!==a[0];t+=o)a.push(t);return 0!==a.length&&e.trimTicks(a),a},adjustForMinRange:function(){var e,i,o,r,s,l,n,p,t=this.options,a=this.min,d=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(O(t.min)||O(t.max)?this.minRange=null:(x(this.series,function(e){for(l=e.xData,r=n=e.xIncrement?1:l.length-1;0<r;r--)(s=l[r]-l[r-1],void 0==o||s<o)&&(o=s)}),this.minRange=Y(5*o,this.dataMax-this.dataMin))),d-a<this.minRange&&(i=this.dataMax-this.dataMin>=this.minRange,p=this.minRange,e=(p-d+a)/2,e=[a-e,j(t.min,a-e)],i&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),a=T(e),d=[a+p,j(t.max,a+p)],i&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),d=C(d),d-a<p&&(e[0]=d-p,e[1]=j(t.min,d-p),a=T(e))),this.min=a,this.max=d},getClosest:function(){var e;return this.categories?e=1:x(this.series,function(t){var i=t.closestPointRange,o=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&O(i)&&o&&(e=O(e)?Y(e,i):i)}),e},nameToX:function(e){var i,o=t(this.categories),a=o?this.categories:this.names,r=e.options.x;return e.series.requireSorting=!1,O(r)||(r=!1===this.options.uniqueNames?e.series.autoIncrement():o?n(e.name,a):j(a.keys[e.name],-1)),-1===r?o||(i=a.length):i=r,void 0!==i&&(this.names[i]=e.name,this.names.keys[e.name]=i),i},updateNames:function(){var e=this,t=this.names;0<t.length&&(x(i.keys(t.keys),function(e){delete t.keys[e]}),t.length=0,this.minRange=this.userMinRange,x(this.series||[],function(t){t.xIncrement=null,(!t.points||t.isDirtyData)&&(t.processData(),t.generatePoints()),x(t.points,function(i,o){var a;i.options&&(a=e.nameToX(i),void 0!==a&&a!==i.x&&(i.x=a,t.xData[o]=a))})}))},setAxisTranslation:function(e){var i,o=this,a=o.max-o.min,r=o.axisPointRange||0,s=0,l=0,d=o.linkedParent,p=!!o.categories,c=o.transA,n=o.isXAxis;(n||p||r)&&(i=o.getClosest(),d?(s=d.minPointOffset,l=d.pointRangePadding):x(o.series,function(e){var t=p?1:n?j(e.options.pointRange,i,0):o.axisPointRange||0;e=e.options.pointPlacement,r=N(r,t),o.single||(s=N(s,w(e)?0:t/2),l=N(l,'on'===e?0:t))}),d=o.ordinalSlope&&i?o.ordinalSlope/i:1,o.minPointOffset=s*=d,o.pointRangePadding=l*=d,o.pointRange=Y(r,a),n&&(o.closestPointRange=i)),e&&(o.oldTransA=c),o.translationSlope=o.transA=c=o.options.staticScale||o.len/(a+l||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=c*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var o,a,s,r,l=this,d=l.chart,p=l.options,g=l.isLog,c=l.log2lin,u=l.isDatetimeAxis,f=l.isXAxis,n=l.isLinked,t=p.maxPadding,b=p.minPadding,y=p.tickInterval,w=p.tickPixelInterval,S=l.categories,A=l.threshold,m=l.softThreshold;u||S||n||this.getTickAmount(),s=j(l.userMin,p.min),r=j(l.userMax,p.max),n?(l.linkedParent=d[l.coll][p.linkedTo],d=l.linkedParent.getExtremes(),l.min=j(d.min,d.dataMin),l.max=j(d.max,d.dataMax),p.type!==l.linkedParent.options.type&&i.error(11,1)):(!m&&O(A)&&(l.dataMin>=A?(o=A,b=0):l.dataMax<=A&&(a=A,t=0)),l.min=j(s,o,l.dataMin),l.max=j(r,a,l.dataMax)),g&&(l.positiveValuesOnly&&!e&&0>=Y(l.min,j(l.dataMin,l.min))&&i.error(10,1),l.min=L(c(l.min),15),l.max=L(c(l.max),15)),l.range&&O(l.max)&&(l.userMin=l.min=s=N(l.dataMin,l.minFromRange()),l.userMax=r=l.max,l.range=null),E(l,'foundExtremes'),l.beforePadding&&l.beforePadding(),l.adjustForMinRange(),!(S||l.axisPointRange||l.usePercentage||n)&&O(l.min)&&O(l.max)&&(c=l.max-l.min)&&(!O(s)&&b&&(l.min-=c*b),!O(r)&&t&&(l.max+=c*t)),W(p.softMin)&&!W(l.userMin)&&(l.min=Y(l.min,p.softMin)),W(p.softMax)&&!W(l.userMax)&&(l.max=N(l.max,p.softMax)),W(p.floor)&&(l.min=N(l.min,p.floor)),W(p.ceiling)&&(l.max=Y(l.max,p.ceiling)),m&&O(l.dataMin)&&(A=A||0,!O(s)&&l.min<A&&l.dataMin>=A?l.min=A:!O(r)&&l.max>A&&l.dataMax<=A&&(l.max=A)),l.tickInterval=l.min===l.max||void 0===l.min||void 0===l.max?1:n&&!y&&w===l.linkedParent.options.tickPixelInterval?y=l.linkedParent.tickInterval:j(y,this.tickAmount?(l.max-l.min)/N(this.tickAmount-1,1):void 0,S?1:(l.max-l.min)*w/N(l.len,w)),f&&!e&&x(l.series,function(e){e.processData(l.min!==l.oldMin||l.max!==l.oldMax)}),l.setAxisTranslation(!0),l.beforeSetTickPositions&&l.beforeSetTickPositions(),l.postProcessTickInterval&&(l.tickInterval=l.postProcessTickInterval(l.tickInterval)),l.pointRange&&!y&&(l.tickInterval=N(l.pointRange,l.tickInterval)),e=j(p.minTickInterval,l.isDatetimeAxis&&l.closestPointRange),!y&&l.tickInterval<e&&(l.tickInterval=e),u||g||y||(l.tickInterval=X(l.tickInterval,null,k(l.tickInterval),j(p.allowDecimals,!(.5<l.tickInterval&&5>l.tickInterval&&1E3<l.max&&9999>l.max)),!!this.tickAmount)),this.tickAmount||(l.tickInterval=l.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t=this.options,i=t.tickPositions;e=this.getMinorTickInterval();var o=t.tickPositioner,a=t.startOnTick,r=t.endOnTick;this.tickmarkOffset=this.categories&&'between'===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval='auto'===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&O(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=e=o),this.paddedTicks=e.slice(0),this.trimTicks(e,a,r),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||o||this.adjustTickAmount())},trimTicks:function(e,t,i){var o=e[0],a=e[e.length-1],r=this.minPointOffset||0;if(!this.isLinked){if(t&&-Infinity!==o)this.min=o;else for(;this.min-r>e[0];)e.shift();if(i)this.max=a;else for(;this.max+r<e[e.length-1];)e.pop();0===e.length&&O(o)&&!this.options.tickPositions&&e.push((a+o)/2)}},alignToOthers:function(){var e,t={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||x(this.chart[this.coll],function(i){var o=i.options,o=[i.horiz?o.left:o.top,o.width,o.height,o.pane].join();i.series.length&&(t[o]?e=!0:t[o]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,i=e.tickPixelInterval;!O(e.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=s(this.len/i)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,i=this.tickAmount,o=this.finalTickAmt,a=t&&t.length,r=j(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<i){for(;t.length<i;)t.length%2||this.min===r?t.push(L(t[t.length-1]+e)):t.unshift(L(t[0]-e));this.transA*=(a-1)/(i-1),this.min=t[0],this.max=t[t.length-1]}else a>i&&(this.tickInterval*=2,this.setTickPositions());if(O(o)){for(e=i=t.length;e--;)(3===o&&1==e%2||2>=o&&0<e&&e<i-1)&&t.splice(e,1);this.finalTickAmt=void 0}}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,x(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),E(this,'afterSetScale')},setExtremes:function(t,i,o,r,n){var s=this,l=s.chart;o=j(o,!0),x(s.series,function(e){delete e.kdTree}),n=e(n,{min:t,max:i}),E(s,'setExtremes',n,function(){s.userMin=t,s.userMax=i,s.eventArgs=n,o&&l.redraw(r)})},zoom:function(e,t){var i=this.dataMin,o=this.dataMax,a=this.options,r=Y(i,j(a.min,i)),a=N(o,j(a.max,o));return(e!==this.min||t!==this.max)&&(this.allowZoomOutside||(O(i)&&(e<r&&(e=r),e>a&&(e=a)),O(o)&&(t<r&&(t=r),t>a&&(t=a))),this.displayBtn=void 0!==e||void 0!==t,this.setExtremes(e,t,!1,void 0,{trigger:'zoom'})),!0},setAxisSize:function(){var t=this.chart,o=this.options,a=o.offsets||[0,0,0,0],r=this.horiz,n=this.width=R(i.relativeLength(j(o.width,t.plotWidth-a[3]+a[1]),t.plotWidth)),s=this.height=R(i.relativeLength(j(o.height,t.plotHeight-a[0]+a[2]),t.plotHeight)),l=this.top=R(i.relativeLength(j(o.top,t.plotTop+a[0]),t.plotHeight,t.plotTop)),o=this.left=R(i.relativeLength(j(o.left,t.plotLeft+a[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-s-l,this.right=t.chartWidth-n-o,this.len=N(r?n:s,0),this.pos=r?o:l},getExtremes:function(){var e=this.isLog,t=this.lin2log;return{min:e?L(t(this.min)):this.min,max:e?L(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=this.lin2log,o=t?i(this.min):this.min,t=t?i(this.max):this.max;return null===e?e=o:o>e?e=o:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(j(e,0)-90*this.side+720)%360,15<e&&165>e?'right':195<e&&345>e?'left':'center'},tickSize:function(e){var t=this.options,i=t[e+'Length'],o=j(t[e+'Width'],'tick'===e&&this.isXAxis?1:0);if(o&&i)return'inside'===t[e+'Position']&&(i=-i),[i,o]},labelMetrics:function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},unsquish:function(){var e,i,r,n=this.options.labels,a=this.horiz,d=this.tickInterval,h=d,g=this.len/(((this.categories?1:0)+this.max-this.min)/d),c=n.rotation,u=this.labelMetrics(),m=o,t=function(e){return e/=g||1,e=1<e?s(e):1,e*d};return a?(r=!n.staggerLines&&!n.step&&(O(c)?[c]:g<j(n.autoRotationLimit,80)&&n.autoRotation))&&x(r,function(o){var a;(o===c||o&&-90<=o&&90>=o)&&(i=t(P(u.h/l(p*o))),a=i+P(o/360),a<m&&(m=a,e=o,h=i))}):n.step||(h=t(u.h)),this.autoRotation=r,this.labelRotation=j(e,c),h},getSlotWidth:function(){var e=this.chart,t=this.horiz,i=this.options.labels,o=N(this.tickPositions.length-(this.categories?0:1),1),a=e.margin[3];return t&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/o||!t&&(i.style&&parseInt(i.style.width,10)||a&&a-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var e,i,o,r=this.chart,a=r.renderer,s=this.tickPositions,l=this.ticks,p=this.options.labels,d=this.horiz,c=this.getSlotWidth(),h=N(1,R(c-2*(p.padding||5))),m={},n=this.labelMetrics(),t=p.style&&p.style.textOverflow,f=0;if(w(p.rotation)||(m.rotation=p.rotation||0),x(s,function(e){(e=l[e])&&e.label&&e.label.textPxLength>f&&(f=e.label.textPxLength)}),this.maxLabelLength=f,this.autoRotation)f>h&&f>n.h?m.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(e=h,!t))for(i='clip',h=s.length;!d&&h--;)(o=s[h],o=l[o].label)&&(o.styles&&'ellipsis'===o.styles.textOverflow?o.css({textOverflow:'clip'}):o.textPxLength>c&&o.css({width:c+'px'}),o.getBBox().height>this.len/s.length-(n.h-n.f)&&(o.specificTextOverflow='ellipsis'));m.rotation&&(e=f>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight,t||(i='ellipsis')),(this.labelAlign=p.align||this.autoLabelAlign(this.labelRotation))&&(m.align=this.labelAlign),x(s,function(t){var o=(t=l[t])&&t.label;o&&(o.attr(m),!e||p.style&&p.style.width||!(e<o.textPxLength||'SPAN'===o.element.tagName)||o.css({width:e,textOverflow:o.specificTextOverflow||i}),delete o.specificTextOverflow,t.rotation=m.rotation)}),this.tickRotCorr=a.rotCorr(n.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||O(this.min)&&O(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(e){var t,i=this.chart.renderer,o=this.horiz,a=this.opposite,r=this.options.title;this.axisTitle||((t=r.textAlign)||(t=(o?{low:'left',middle:'center',high:'right'}:{low:a?'right':'left',middle:'center',high:a?'left':'right'})[r.align]),this.axisTitle=i.text(r.text,0,0,r.useHTML).attr({zIndex:7,rotation:r.rotation||0,align:t}).addClass('highcharts-axis-title').css(g(r.style)).add(this.axisGroup),this.axisTitle.isNew=!0),r.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[e?'show':'hide'](!0)},generateTick:function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new V(this,e)},getOffset:function(){var e,t,i,o=this,a=o.chart,r=a.renderer,s=o.options,d=o.tickPositions,p=o.ticks,c=o.horiz,h=o.side,g=a.inverted&&!o.isZAxis?[1,0,3,2][h]:h,n=0,u=0,y=s.title,f=s.labels,b=0,k=a.axisOffset,a=a.clipOffset,l=[-1,1,1,-1][h],m=s.className,v=o.axisParent,S=this.tickSize('tick');e=o.hasData(),o.showAxis=t=e||j(s.showEmpty,!0),o.staggerLines=o.horiz&&f.staggerLines,o.axisGroup||(o.gridGroup=r.g('grid').attr({zIndex:s.gridZIndex||1}).addClass('highcharts-'+this.coll.toLowerCase()+'-grid '+(m||'')).add(v),o.axisGroup=r.g('axis').attr({zIndex:s.zIndex||2}).addClass('highcharts-'+this.coll.toLowerCase()+' '+(m||'')).add(v),o.labelGroup=r.g('axis-labels').attr({zIndex:f.zIndex||7}).addClass('highcharts-'+o.coll.toLowerCase()+'-labels '+(m||'')).add(v)),e||o.isLinked?(x(d,function(e,t){o.generateTick(e,t)}),o.renderUnsquish(),o.reserveSpaceDefault=0===h||2===h||{1:'left',3:'right'}[h]===o.labelAlign,j(f.reserveSpace,'center'===o.labelAlign||null,o.reserveSpaceDefault)&&x(d,function(e){b=N(p[e].getLabelSize(),b)}),o.staggerLines&&(b*=o.staggerLines),o.labelOffset=b*(o.opposite?-1:1)):F(p,function(e,t){e.destroy(),delete p[t]}),y&&y.text&&!1!==y.enabled&&(o.addTitle(t),t&&!1!==y.reserveSpace&&(o.titleOffset=n=o.axisTitle.getBBox()[c?'height':'width'],i=y.offset,u=O(i)?0:j(y.margin,c?5:10))),o.renderLine(),o.offset=l*j(s.offset,k[h]),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},r=0===h?-o.labelMetrics().h:2===h?o.tickRotCorr.y:0,u=P(b)+u,b&&(u=u-r+l*(c?j(f.y,o.tickRotCorr.y+8*l):f.x)),o.axisTitleMargin=j(i,u),k[h]=N(k[h],o.axisTitleMargin+n+l*o.offset,u,e&&d.length&&S?S[0]+l*o.offset:0),s=s.offset?0:2*M(o.axisLine.strokeWidth()/2),a[g]=N(a[g],s)},getLinePath:function(e){var t=this.chart,i=this.opposite,o=this.offset,a=this.horiz,r=this.left+(i?this.width:0)+o,o=t.chartHeight-this.bottom-(i?this.height:0)+o;return i&&(e*=-1),t.renderer.crispLine(['M',a?this.left:r,a?o:this.top,'L',a?t.chartWidth-this.right:r,a?o:t.chartHeight-this.bottom],e)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass('highcharts-axis-line').add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var i=this.horiz,o=this.left,a=this.top,r=this.len,s=this.options.title,l=i?o:a,d=this.opposite,p=this.offset,e=s.x||0,c=s.y||0,n=this.axisTitle,h=this.chart.renderer.fontMetrics(s.style&&s.style.fontSize,n),n=N(n.getBBox(null,0).height-h.h-1,0),r={low:l+(i?0:r),middle:l+r/2,high:l+(i?r:0)}[s.align],o=(i?a+this.height:o)+(i?1:-1)*(d?-1:1)*this.axisTitleMargin+[-n,n,h.f,-n][this.side];return{x:i?r+e:o+(d?this.width:0)+p+e,y:i?o+c-(d?this.height:0)+p:r+c}},renderMinorTick:function(e){var t=this.chart.hasRendered&&W(this.oldMin),i=this.minorTicks;i[e]||(i[e]=new V(this,e,'minor')),t&&i[e].isNew&&i[e].render(null,!0),i[e].render(null,!1,1)},renderTick:function(e,t){var i=this.isLinked,o=this.ticks,a=this.chart.hasRendered&&W(this.oldMin);(!i||e>=this.min&&e<=this.max)&&(o[e]||(o[e]=new V(this,e)),a&&o[e].isNew&&o[e].render(t,!0,.1),o[e].render(t))},render:function(){var e,o,r=this,s=r.chart,d=r.options,c=r.isLog,g=r.lin2log,h=r.isLinked,n=r.tickPositions,t=r.axisTitle,u=r.ticks,y=r.minorTicks,f=r.alternateBands,b=d.stackLabels,v=d.alternateGridColor,k=r.tickmarkOffset,w=r.axisLine,l=r.showAxis,m=a(s.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,x([u,y,f],function(e){F(e,function(e){e.isActive=!1})}),(r.hasData()||h)&&(r.minorTickInterval&&!r.categories&&x(r.getMinorTickPositions(),function(e){r.renderMinorTick(e)}),n.length&&(x(n,function(e,t){r.renderTick(e,t)}),k&&(0===r.min||r.single)&&(u[-1]||(u[-1]=new V(r,-1,null,!0)),u[-1].render(-1))),v&&x(n,function(t,a){o=void 0===n[a+1]?r.max-k:n[a+1]+k,0==a%2&&t<r.max&&o<=r.max+(s.polar?-k:k)&&(f[t]||(f[t]=new i.PlotLineOrBand(r)),e=t+k,f[t].options={from:c?g(e):e,to:c?g(o):o,color:v},f[t].render(),f[t].isActive=!0)}),r._addedPlotLB||(x((d.plotLines||[]).concat(d.plotBands||[]),function(e){r.addPlotBandOrLine(e)}),r._addedPlotLB=!0)),x([u,y,f],function(e){var t,i=[],o=m.duration;F(e,function(e,t){e.isActive||(e.render(t,!1,0),e.isActive=!1,i.push(t))}),D(function(){for(t=i.length;t--;)e[i[t]]&&!e[i[t]].isActive&&(e[i[t]].destroy(),delete e[i[t]])},e!==f&&s.hasRendered&&o?o:0)}),w&&(w[w.isPlaced?'animate':'attr']({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[l?'show':'hide'](!0)),t&&l&&(d=r.getTitlePosition(),W(d.y)?(t[t.isNew?'attr':'animate'](d),t.isNew=!1):(t.attr('y',-9999),t.isNew=!0)),b&&b.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),x(this.plotLinesAndBands,function(e){e.render()})),x(this.series,function(e){e.isDirty=!0})},keepProps:['extKey','hcEvents','names','series','userMax','userMin'],destroy:function(e){var t,i=this,o=i.stacks,a=i.plotLinesAndBands;if(e||y(i),F(o,function(e,t){h(e),o[t]=null}),x([i.ticks,i.minorTicks,i.alternateBands],function(e){h(e)}),a)for(e=a.length;e--;)a[e].destroy();for(t in x(['stackTotalGroup','axisLine','axisTitle','axisGroup','gridGroup','labelGroup','cross'],function(e){i[e]&&(i[e]=i[e].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[t]=i.plotLinesAndBandsGroups[t].destroy();F(i,function(e,t){-1===n(t,i.keepProps)&&delete i[t]})},drawCrosshair:function(e,t){var i,o,a=this.crosshair,n=j(a.snap,!0),s=this.cross;e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(O(t)||!n)?(n?O(t)&&(o=this.isXAxis?t.plotX:this.len-t.plotY):o=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),O(o)&&(i=this.getPlotLinePath(t&&(this.isXAxis?t.x:j(t.stackY,t.y)),null,null,null,o)||null),O(i)?(t=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass('highcharts-crosshair highcharts-crosshair-'+(t?'category ':'thin ')+a.className).attr({zIndex:j(a.zIndex,2)}).add(),s.attr({stroke:a.color||(t?r('#ccd6eb').setOpacity(.25).get():'#cccccc'),"stroke-width":j(a.width,1)}).css({"pointer-events":'none'}),a.dashStyle&&s.attr({dashstyle:a.dashStyle})),s.show().attr({d:i}),t&&!a.width&&s.attr({"stroke-width":this.transA}),this.cross.e=e):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),i.Axis=d}(a);return function(e){var t=e.Axis,i=e.getMagnitude,o=e.normalizeTickInterval,n=e.timeUnits;t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},t.prototype.normalizeTimeTickInterval=function(e,t){var r=t||[['millisecond',[1,2,5,10,20,25,50,100,200,500]],['second',[1,2,5,10,15,30]],['minute',[1,2,5,10,15,30]],['hour',[1,2,3,4,6,8,12]],['day',[1,2]],['week',[1,2]],['month',[1,2,3,4,6]],['year',null]];t=r[r.length-1];var s,l=n[t[0]],d=t[1];for(s=0;s<r.length&&(t=r[s],l=n[t[0]],d=t[1],!(r[s+1]&&e<=(l*d[d.length-1]+n[r[s+1][0]])/2));s++);return l===n.year&&e<5*l&&(d=[1,2,5]),e=o(e/l,d,'year'===t[0]?N(i(e/l),1):1),{unitRange:l,count:e,unitName:t[0]}}}(a),function(e){var i=e.Axis,o=e.getMagnitude,s=e.map,d=e.normalizeTickInterval,h=e.pick;i.prototype.getLogTickPositions=function(i,a,r,p){var m=this.options,l=this.len,e=this.lin2log,c=this.log2lin,x=[];if(p||(this._minorAutoInterval=null),.5<=i)i=R(i),x=this.getLinearTickPositions(i,a,r);else if(.08<=i)for(var y,g,n,t,f,l=M(a),m=.3<i?[1,2,4]:.15<i?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<r+1&&!f;l++)for(g=m.length,y=0;y<g&&!f;y++)n=c(e(l)*m[y]),n>a&&(!p||t<=r)&&void 0!=t&&x.push(t),t>r&&(f=!0),t=n;else a=e(a),r=e(r),i=p?this.getMinorTickInterval():m.tickInterval,i=h('auto'===i?null:i,this._minorAutoInterval,m.tickPixelInterval/(p?5:1)*(r-a)/((p?l/this.tickPositions.length:l)||1)),i=d(i,null,o(i)),x=s(this.getLinearTickPositions(i,a,r),c),p||(this._minorAutoInterval=i/5);return p||(this.tickInterval=i),x},i.prototype.log2lin=function(e){return r(e)/t},i.prototype.lin2log=function(e){return u(10,e)}}(a),function(i,e){var t=i.arrayMax,o=i.arrayMin,a=i.defined,r=i.destroyObjectProperties,n=i.each,s=i.erase,m=i.merge,p=i.pick;i.PlotLineOrBand=function(t,i){this.axis=t,i&&(this.options=i,this.id=i.id)},i.PlotLineOrBand.prototype={render:function(){var o=this,r=o.axis,e=r.horiz,s=o.options,l=s.label,x=o.label,g=s.to,n=s.from,t=s.value,f=a(n)&&a(g),b=a(t),v=o.svgElem,k=!v,w=[],S=s.color,A=p(s.zIndex,0),T=s.events,w={class:'highcharts-plot-'+(f?'band ':'line ')+(s.className||'')},P={},d=r.chart.renderer,C=f?'bands':'lines',L=r.log2lin;if(r.isLog&&(n=L(n),g=L(g),t=L(t)),b?(w={stroke:S,"stroke-width":s.width},s.dashStyle&&(w.dashstyle=s.dashStyle)):f&&(S&&(w.fill=S),s.borderWidth&&(w.stroke=s.borderColor,w['stroke-width']=s.borderWidth)),P.zIndex=A,C+='-'+A,(S=r.plotLinesAndBandsGroups[C])||(r.plotLinesAndBandsGroups[C]=S=d.g('plot-'+C).attr(P).add()),k&&(o.svgElem=v=d.path().attr(w).add(S)),b)w=r.getPlotLinePath(t,v.strokeWidth());else if(f)w=r.getPlotBandPath(n,g,s);else return;return k&&w&&w.length?(v.attr({d:w}),T&&i.objectEach(T,function(e,t){v.on(t,function(e){T[t].apply(o,[e])})})):v&&(w?(v.show(),v.animate({d:w})):(v.hide(),x&&(o.label=x=x.destroy()))),l&&a(l.text)&&w&&w.length&&0<r.width&&0<r.height&&!w.flat?(l=m({align:e&&f&&'center',x:e?!f&&4:10,verticalAlign:!e&&f&&'middle',y:e?f?16:10:f?6:-4,rotation:e&&!f&&90},l),this.renderLabel(l,w,f,A)):x&&x.hide(),o},renderLabel:function(i,a,e,r){var n=this.label,s=this.axis.chart.renderer;n||(n={align:i.textAlign||i.align,rotation:i.rotation,class:'highcharts-plot-'+(e?'band':'line')+'-label '+(i.className||'')},n.zIndex=r,this.label=n=s.text(i.text,0,0,i.useHTML).attr(n).add(),n.css(i.style)),r=a.xBounds||[a[1],a[4],e?a[6]:a[1]],a=a.yBounds||[a[2],a[5],e?a[7]:a[2]],e=o(r),s=o(a),n.align(i,!1,{x:e,y:s,width:t(r)-e,height:t(a)-s}),n.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},i.extend(e.prototype,{getPlotBandPath:function(i,o){var e,t=this.getPlotLinePath(o,null,null,!0),a=this.getPlotLinePath(i,null,null,!0),r=[],s=this.horiz,l=1;if(i=i<this.min&&o<this.min||i>this.max&&o>this.max,a&&t)for(i&&(e=a.toString()===t.toString(),l=0),i=0;i<a.length;i+=6)s&&t[i+1]===a[i+1]?(t[i+1]+=l,t[i+4]+=l):s||t[i+2]!==a[i+2]||(t[i+2]+=l,t[i+5]+=l),r.push('M',a[i+1],a[i+2],'L',a[i+4],a[i+5],t[i+4],t[i+5],t[i+1],t[i+2],'z'),r.flat=e;return r},addPlotBand:function(e){return this.addPlotBandOrLine(e,'plotBands')},addPlotLine:function(e){return this.addPlotBandOrLine(e,'plotLines')},addPlotBandOrLine:function(t,o){var e=new i.PlotLineOrBand(this,t).render(),a=this.userOptions;return e&&(o&&(a[o]=a[o]||[],a[o].push(t)),this.plotLinesAndBands.push(e)),e},removePlotBandOrLine:function(t){for(var i=this.plotLinesAndBands,e=this.options,o=this.userOptions,a=i.length;a--;)i[a].id===t&&i[a].destroy();n([e.plotLines||[],o.plotLines||[],e.plotBands||[],o.plotBands||[]],function(e){for(a=e.length;a--;)e[a].id===t&&s(e,e[a])})},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}})}(a,n),function(i){var o=i.each,n=i.extend,s=i.format,d=i.isNumber,r=i.map,e=i.merge,l=i.pick,h=i.splat,t=i.syncTimeout,p=i.timeUnits;i.Tooltip=function(){this.init.apply(this,arguments)},i.Tooltip.prototype={init:function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted,this.shared=t.shared||this.split},cleanSplit:function(t){o(this.chart.series,function(i){var o=i&&i.tt;o&&(!o.isActive||t?i.tt=o.destroy():o.isActive=!1)})},getLabel:function(){var e=this.chart.renderer,t=this.options;return this.label||(this.split?this.label=e.g('tooltip'):(this.label=e.label('',0,0,t.shape||'callout',null,null,t.useHTML,null,'tooltip').attr({padding:t.padding,r:t.borderRadius}),this.label.attr({fill:t.backgroundColor,"stroke-width":t.borderWidth}).css(t.style).shadow(t.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),e(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,e(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(i,o,a,r){var s=this,l=s.now,e=!1!==s.options.animation&&!s.isHidden&&(1<P(i-l.x)||1<P(o-l.y)),t=s.followPointer||1<s.len;n(l,{x:e?(2*l.x+i)/3:i,y:e?(l.y+o)/2:o,anchorX:t?void 0:e?(2*l.anchorX+a)/3:a,anchorY:t?void 0:e?(l.anchorY+r)/2:r}),s.getLabel().attr(l),e&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(i,o,a,r)},32))},hide:function(e){var i=this;clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=t(function(){i.getLabel()[e?'fadeOut':'hide'](),i.isHidden=!0},e))},getAnchor:function(i,a){var s,e,l,d=this.chart,p=d.inverted,c=d.plotTop,n=d.plotLeft,t=0,m=0;return i=h(i),s=i[0].tooltipPos,this.followPointer&&a&&(void 0===a.chartX&&(a=d.pointer.normalize(a)),s=[a.chartX-d.plotLeft,a.chartY-c]),s||(o(i,function(i){e=i.series.yAxis,l=i.series.xAxis,t+=i.plotX+(!p&&l?l.left-n:0),m+=(i.plotLow?(i.plotLow+i.plotHigh)/2:i.plotY)+(!p&&e?e.top-c:0)}),t/=i.length,m/=i.length,s=[p?d.plotWidth-m:t,this.shared&&!p&&1<i.length&&a?a.chartY-c:p?d.plotHeight-t:m]),r(s,Math.round)},getPosition:function(i,o,a){var r,n=this.chart,s=this.distance,p={},e=n.inverted&&a.h||0,t=['y',n.chartHeight,o,a.plotY+n.plotTop,n.plotTop,n.plotTop+n.plotHeight],c=['x',n.chartWidth,i,a.plotX+n.plotLeft,n.plotLeft,n.plotLeft+n.plotWidth],g=!this.followPointer&&l(a.ttBelow,!n.inverted==!!a.negative),d=function(t,i,o,a,r,l){var d=o<a-s,c=a+s+o<i,n=a-s-o;if(a+=s,g&&c)p[t]=a;else if(!g&&d)p[t]=n;else if(d)p[t]=Y(l-o,0>n-e?n:n-e);else if(c)p[t]=N(r,a+e+o>i?a:a+e);else return!1},h=function(e,t,i,o){var a;return o<s||o>t-s?a=!1:p[e]=o<i/2?1:o>t-i/2?t-i-2:o-i/2,a},u=function(e){var i=t;t=c,c=i,r=e},m=function(){!1===d.apply(0,t)?r?p.x=p.y=0:(u(!0),m()):!1!==h.apply(0,c)||r||(u(!0),m())};return(n.inverted||1<this.len)&&u(),m(),p},defaultFormatter:function(t){var i,e=this.points||h(this);return i=[t.tooltipFooterHeaderFormatter(e[0])],i=i.concat(t.bodyFormatter(e)),i.push(t.tooltipFooterHeaderFormatter(e[0],!0)),i},refresh:function(i,a){var r,e,s,t=this.options,d=i,n={},p=[];r=t.formatter||this.defaultFormatter;var u,n=this.shared;t.enabled&&(clearTimeout(this.hideTimer),this.followPointer=h(d)[0].series.tooltipOptions.followPointer,s=this.getAnchor(d,a),a=s[0],e=s[1],!n||d.series&&d.series.noSharedTooltip?n=d.getLabelConfig():(o(d,function(e){e.setState('hover'),p.push(e.getLabelConfig())}),n={x:d[0].category,y:d[0].y},n.points=p,d=d[0]),this.len=p.length,n=r.call(n,this),u=d.series,this.distance=l(u.tooltipOptions.distance,16),!1===n?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(n,h(i)):(t.style.width||r.css({width:this.chart.spacingBox.width}),r.attr({text:n&&n.join?n.join(''):n}),r.removeClass(/highcharts-color-[\d]+/g).addClass('highcharts-color-'+l(d.colorIndex,u.colorIndex)),r.attr({stroke:t.borderColor||d.color||u.color||'#666666'}),this.updatePosition({plotX:a,plotY:e,negative:d.negative,ttBelow:d.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(a,r){var s=this,d=[],p=this.chart,c=p.renderer,n=!0,t=this.options,h=0,g=this.getLabel();i.isString(a)&&(a=[!1,a]),o(a.slice(0,r.length+1),function(i,o){if(!1!==i){o=r[o-1]||{isHeader:!0,plotX:r[0].plotX};var u=o.series||s,m=u.tt,x=o.series||{},y='highcharts-color-'+l(o.colorIndex,x.colorIndex,'none');m||(u.tt=m=c.label(null,null,null,'callout',null,null,t.useHTML).addClass('highcharts-tooltip-box '+y).attr({padding:t.padding,r:t.borderRadius,fill:t.backgroundColor,stroke:t.borderColor||o.color||x.color||'#333333',"stroke-width":t.borderWidth}).add(g)),m.isActive=!0,m.attr({text:i}),m.css(t.style).shadow(t.shadow),i=m.getBBox(),x=i.width+m.strokeWidth(),o.isHeader?(h=i.height,x=N(0,Y(o.plotX+p.plotLeft-x/2,p.chartWidth-x))):x=o.plotX+p.plotLeft-l(t.distance,16)-x,0>x&&(n=!1),i=(o.series&&o.series.yAxis&&o.series.yAxis.pos)+(o.plotY||0),i-=p.plotTop,d.push({target:o.isHeader?p.plotHeight+h:i,rank:o.isHeader?1:0,size:u.tt.getBBox().height+1,point:o,x:x,tt:m})}}),this.cleanSplit(),i.distribute(d,p.plotHeight+h),o(d,function(e){var i=e.point,o=i.series;e.tt.attr({visibility:void 0===e.pos?'hidden':'inherit',x:n||i.isHeader?e.x:i.plotX+p.plotLeft+l(t.distance,16),y:e.pos+p.plotTop,anchorX:i.isHeader?i.plotX+p.plotLeft:i.plotX+o.xAxis.pos,anchorY:i.isHeader?e.pos+p.plotTop-15:i.plotY+o.yAxis.pos})})},updatePosition:function(t){var i=this.chart,o=this.getLabel(),o=(this.options.positioner||this.getPosition).call(this,o.width,o.height,t);this.move(R(o.x),R(o.y||0),t.plotX+i.plotLeft,t.plotY+i.plotTop)},getDateFormat:function(i,o,a,r){var n,t,s=this.chart.time,l=s.dateFormat('%m-%d %H:%M:%S.%L',o),e={millisecond:15,second:12,minute:9,hour:6,day:3},d='millisecond';for(t in p){if(i===p.week&&+s.dateFormat('%w',o)===a&&'00:00:00.000'===l.substr(6)){t='week';break}if(p[t]>i){t=d;break}if(e[t]&&l.substr(e[t])!=='01-01 00:00:00.000'.substr(e[t]))break;'week'!==t&&(d=t)}return t&&(n=r[t]),n},getXDateFormat:function(e,t,i){t=t.dateTimeLabelFormats;var o=i&&i.closestPointRange;return(o?this.getDateFormat(o,e.x,i.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(i,r){r=r?'footer':'header';var l=i.series,p=l.tooltipOptions,c=p.xDateFormat,h=l.xAxis,n=h&&'datetime'===h.options.type&&d(i.key),t=p[r+'Format'];return n&&!c&&(c=this.getXDateFormat(i,p,h)),n&&c&&o(i.point&&i.point.tooltipDateKeys||['key'],function(e){t=t.replace('{point.'+e+'}','{point.'+e+':'+c+'}')}),s(t,{point:i,series:l},this.chart.time)},bodyFormatter:function(e){return r(e,function(e){var t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||'point')+'Formatter']||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||'point')+'Format'])})}}}(a),function(o){var a=o.addEvent,t=o.attr,s=o.charts,y=o.color,r=o.css,m=o.defined,l=o.each,d=o.extend,p=o.find,h=o.fireEvent,x=o.isNumber,v=o.isObject,e=o.offset,w=o.pick,S=o.splat,c=o.Tooltip;o.Pointer=function(e,t){this.init(e,t)},o.Pointer.prototype={init:function(e,t){this.options=t,this.chart=e,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},c&&(e.tooltip=new c(e,t.tooltip),this.followTouchMove=w(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(e){var t=this.chart,i=t.options.chart,o=i.zoomType||'',t=t.inverted;/touch/.test(e.type)&&(o=w(i.pinchType,o)),this.zoomX=e=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=e&&!t||o&&t,this.zoomVert=o&&!t||e&&t,this.hasZoom=e||o},normalize:function(t,i){var o;return o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,i||(this.chartPosition=i=e(this.chart.container)),d(t,{chartX:R(o.pageX-i.left),chartY:R(o.pageY-i.top)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){t[i.isXAxis?'xAxis':'yAxis'].push({axis:i,value:i.toValue(e[i.horiz?'chartX':'chartY'])})}),t},findNearestKDPoint:function(e,t,i){var o;return l(e,function(r){var a=!(r.noSharedTooltip&&t)&&0>r.options.findNearestPointBy.indexOf('y');if(r=r.searchPoint(i,a),(a=v(r,!0))&&!(a=!v(o,!0)))var a=o.distX-r.distX,e=o.dist-r.dist,s=(r.series.group&&r.series.group.zIndex)-(o.series.group&&o.series.group.zIndex),a=0<(0!==a&&t?a:0==e?0==s?o.series.index>r.series.index?-1:1:s:e);a&&(o=r)}),o},getPointFromEvent:function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},getChartCoordinatesFromPoint:function(t,i){var o=t.series,a=o.xAxis,o=o.yAxis,r=w(t.clientX,t.plotX);if(a&&o)return i?{chartX:a.len+a.pos-r,chartY:o.len+o.pos-t.plotY}:{chartX:r+a.pos,chartY:t.plotY+o.pos}},getHoverData:function(i,a,r,e,n,s,d){var c,h=[],g=d&&d.isBoosting;return e=e&&i,d=a&&!a.stickyTracking?[a]:o.grep(r,function(e){return e.visible&&(n||!e.directTouch)&&w(e.options.enableMouseTracking,!0)&&e.stickyTracking}),a=(c=e?i:this.findNearestKDPoint(d,n,s))&&c.series,c&&(n&&!a.noSharedTooltip?(d=o.grep(r,function(e){return e.visible&&(n||!e.directTouch)&&w(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip}),l(d,function(e){var t=p(e.points,function(e){return e.x===c.x&&!e.isNull});v(t)&&(g&&(t=e.getPoint(t)),h.push(t))})):h.push(c)),{hoverPoint:c,hoverSeries:a,hoverPoints:h}},runPointActions:function(i,r){var p,d=this.chart,c=d.tooltip&&d.tooltip.options.enabled?d.tooltip:void 0,h=!!c&&c.shared,n=r||d.hoverPoint,t=n&&n.series||d.hoverSeries,t=this.getHoverData(n,t,d.series,!!r||t&&t.directTouch&&this.isDirectTouch,h,i,{isBoosting:d.isBoosting}),n=t.hoverPoint;if(p=t.hoverPoints,r=(t=t.hoverSeries)&&t.tooltipOptions.followPointer,h=h&&t&&!t.noSharedTooltip,n&&(n!==d.hoverPoint||c&&c.isHidden)){if(l(d.hoverPoints||[],function(e){-1===o.inArray(e,p)&&e.setState()}),l(p||[],function(e){e.setState('hover')}),d.hoverSeries!==t&&t.onMouseOver(),d.hoverPoint&&d.hoverPoint.firePointEvent('mouseOut'),!n.series)return;n.firePointEvent('mouseOver'),d.hoverPoints=p,d.hoverPoint=n,c&&c.refresh(h?p:n,i)}else r&&c&&!c.isHidden&&(n=c.getAnchor([{}],i),c.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=a(d.container.ownerDocument,'mousemove',function(e){var t=s[o.hoverChartIndex];t&&t.pointer.onDocumentMouseMove(e)})),l(d.axes,function(e){var t=w(e.crosshair.snap,!0),a=t?o.find(p,function(t){return t.series[e.coll]===e}):void 0;a||!t?e.drawCrosshair(i,a):e.hideCrosshair()})},reset:function(i,o){var a=this.chart,r=a.hoverSeries,s=a.hoverPoint,e=a.hoverPoints,n=a.tooltip,t=n&&n.shared?e:s;i&&t&&l(S(t),function(e){e.series.isCartesian&&void 0===e.plotX&&(i=!1)}),i?n&&t&&(n.refresh(t),s&&(s.setState(s.state,!0),l(a.axes,function(e){e.crosshair&&e.drawCrosshair(null,s)}))):(s&&s.onMouseOut(),e&&l(e,function(e){e.setState()}),r&&r.onMouseOut(),n&&n.hide(o),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l(a.axes,function(e){e.hideCrosshair()}),this.hoverX=a.hoverPoints=a.hoverPoint=null)},scaleGroups:function(e,t){var i,o=this.chart;l(o.series,function(a){i=e||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(t?o.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))}),o.clipRect.attr(t||o.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(o){var a,r=this.chart,s=r.options.chart,p=o.chartX,c=o.chartY,e=this.zoomHor,n=this.zoomVert,t=r.plotLeft,g=r.plotTop,m=r.plotWidth,f=r.plotHeight,d=this.selectionMarker,b=this.mouseDownX,h=this.mouseDownY,x=s.panKey&&o[s.panKey+'Key'];d&&d.touch||(p<t?p=t:p>t+m&&(p=t+m),c<g?c=g:c>g+f&&(c=g+f),this.hasDragged=i(u(b-p,2)+u(h-c,2)),10<this.hasDragged&&(a=r.isInsidePlot(b-t,h-g),r.hasCartesianSeries&&(this.zoomX||this.zoomY)&&a&&!x&&!d&&(this.selectionMarker=d=r.renderer.rect(t,g,e?1:m,n?1:f,0).attr({fill:s.selectionMarkerFill||y('#335cad').setOpacity(.25).get(),class:'highcharts-selection-marker',zIndex:7}).add()),d&&e&&(p-=b,d.attr({width:P(p),x:(0<p?0:p)+b})),d&&n&&(p=c-h,d.attr({height:P(p),y:(0<p?0:p)+h})),a&&!d&&s.panning&&r.pan(o,s.panning)))},drop:function(i){var o=this,e=this.chart,s=this.hasPinched;if(this.selectionMarker){var p,g={originalEvent:i,xAxis:[],yAxis:[]},n=this.selectionMarker,t=n.attr?n.attr('x'):n.x,u=n.attr?n.attr('y'):n.y,y=n.attr?n.attr('width'):n.width,b=n.attr?n.attr('height'):n.height;(this.hasDragged||s)&&(l(e.axes,function(a){if(a.zoomEnabled&&m(a.min)&&(s||o[{xAxis:'zoomX',yAxis:'zoomY'}[a.coll]])){var r=a.horiz,n='touchend'===i.type?a.minPixelPadding:0,l=a.toValue((r?t:u)+n),r=a.toValue((r?t+y:u+b)-n);g[a.coll].push({axis:a,min:Y(l,r),max:N(l,r)}),p=!0}}),p&&h(e,'selection',g,function(t){e.zoom(d(t,s?{animation:!1}:null))})),x(e.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}e&&x(e.index)&&(r(e.container,{cursor:e._cursor}),e.cancelClick=10<this.hasDragged,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),2!==e.button&&(this.zoomOption(e),e.preventDefault&&e.preventDefault(),this.dragStart(e))},onDocumentMouseUp:function(e){s[o.hoverChartIndex]&&s[o.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition;e=this.normalize(e,i),!i||this.inClass(e.target,'highcharts-tracker')||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(e){var t=s[o.hoverChartIndex];t&&(e.relatedTarget||e.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;m(o.hoverChartIndex)&&s[o.hoverChartIndex]&&s[o.hoverChartIndex].mouseIsDown||(o.hoverChartIndex=t.index),e=this.normalize(e),e.returnValue=!1,'mousedown'===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,'highcharts-tracker')||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,i){for(var o;e;){if(o=t(e,'class')){if(-1!==o.indexOf(i))return!0;if(-1!==o.indexOf('highcharts-container'))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;e=e.relatedTarget||e.toElement,this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,'highcharts-tooltip')||this.inClass(e,'highcharts-series-'+t.index)&&this.inClass(e,'highcharts-tracker')||t.onMouseOut()},onContainerClick:function(t){var i=this.chart,o=i.hoverPoint,a=i.plotLeft,r=i.plotTop;t=this.normalize(t),i.cancelClick||(o&&this.inClass(t.target,'highcharts-tracker')?(h(o.series,'click',d(t,{point:o})),i.hoverPoint&&o.firePointEvent('click',t)):(d(t,this.getCoordinates(t)),i.isInsidePlot(t.chartX-a,t.chartY-r)&&h(i,'click',t)))},setDOMEvents:function(){var e=this,t=e.chart.container,i=t.ownerDocument;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},this.unbindContainerMouseLeave=a(t,'mouseleave',e.onContainerMouseLeave),o.unbindDocumentMouseUp||(o.unbindDocumentMouseUp=a(i,'mouseup',e.onDocumentMouseUp)),o.hasTouch&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},o.unbindDocumentTouchEnd||(o.unbindDocumentTouchEnd=a(i,'touchend',e.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),o.chartCount||(o.unbindDocumentMouseUp&&(o.unbindDocumentMouseUp=o.unbindDocumentMouseUp()),o.unbindDocumentTouchEnd&&(o.unbindDocumentTouchEnd=o.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),o.objectEach(e,function(t,i){e[i]=null})}}}(a),function(t){var e=t.charts,o=t.each,s=t.extend,d=t.map,r=t.noop,n=t.pick;s(t.Pointer.prototype,{pinchTranslate:function(t,i,o,a,r,e){this.zoomHor&&this.pinchTranslateDirection(!0,t,i,o,a,r,e),this.zoomVert&&this.pinchTranslateDirection(!1,t,i,o,a,r,e)},pinchTranslateDirection:function(i,o,a,s,r,e,l,p){var c,m,b,x=this.chart,g=i?'x':'y',n=i?'X':'Y',t='chart'+n,f=i?'width':'height',u=x['plot'+(i?'Left':'Top')],v=p||1,y=x.inverted,k=x.bounds[i?'h':'v'],w=1===o.length,S=o[0][t],d=a[0][t],A=!w&&o[1][t],T=!w&&a[1][t];a=function(){!w&&20<P(S-A)&&(v=p||P(d-T)/P(S-A)),m=(u-d)/v+S,c=x['plot'+(i?'Width':'Height')]/v},a(),o=m,o<k.min?(o=k.min,b=!0):o+c>k.max&&(o=k.max-c,b=!0),b?(d-=.8*(d-l[g][0]),w||(T-=.8*(T-l[g][1])),a()):l[g]=[d,T],y||(e[g]=m-u,e[f]=c),e=y?1/v:v,r[f]=c,r[g]=o,s[y?i?'scaleY':'scaleX':'scale'+n]=v,s['translate'+n]=e*u+(d-e*S)},pinch:function(i){var l=this,p=l.chart,h=l.pinchDown,a=i.touches,e=a.length,c=l.lastValidTouch,u=l.hasZoom,x=l.selectionMarker,g={},y=1===e&&(l.inClass(i.target,'highcharts-tracker')&&p.runTrackerClick||l.runChartClick),b={};1<e&&(l.initiated=!0),u&&l.initiated&&!y&&i.preventDefault(),d(a,function(e){return l.normalize(e)}),'touchstart'===i.type?(o(a,function(e,t){h[t]={chartX:e.chartX,chartY:e.chartY}}),c.x=[h[0].chartX,h[1]&&h[1].chartX],c.y=[h[0].chartY,h[1]&&h[1].chartY],o(p.axes,function(t){if(t.zoomEnabled){var i=p.bounds[t.horiz?'h':'v'],o=t.minPixelPadding,a=t.toPixels(n(t.options.min,t.dataMin)),r=t.toPixels(n(t.options.max,t.dataMax)),s=N(a,r);i.min=Y(t.pos,Y(a,r)-o),i.max=N(t.pos+t.len,s+o)}}),l.res=!0):l.followTouchMove&&1===e?this.runPointActions(l.normalize(i)):h.length&&(x||(l.selectionMarker=x=s({destroy:r,touch:!0},p.plotBox)),l.pinchTranslate(h,a,g,x,b,c),l.hasPinched=u,l.scaleGroups(g,b),l.res&&(l.res=!1,this.reset(!1,0)))},touch:function(o,a){var s,r,e=this.chart;e.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=e.index,1===o.touches.length?(o=this.normalize(o),(r=e.isInsidePlot(o.chartX-e.plotLeft,o.chartY-e.plotTop))&&!e.openMenu?(a&&this.runPointActions(o),'touchmove'===o.type&&(a=this.pinchDown,s=!!a[0]&&4<=i(u(a[0].chartX-o.chartX,2)+u(a[0].chartY-o.chartY,2))),n(s,!0)&&this.pinch(o)):a&&this.reset()):2===o.touches.length&&this.pinch(o)},onContainerTouchStart:function(e){this.zoomOption(e),this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(a),function(t){var i=t.addEvent,o=t.charts,n=t.css,s=t.doc,a=t.extend,r=t.noop,d=t.Pointer,h=t.removeEvent,p=t.win,g=t.wrap;if(!t.hasTouch&&(p.PointerEvent||p.MSPointerEvent)){var u={},e=!!p.PointerEvent,m=function(){var e=[];return e.item=function(e){return this[e]},t.objectEach(u,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},c=function(i,a,n,s){('touch'===i.pointerType||i.pointerType===i.MSPOINTER_TYPE_TOUCH)&&o[t.hoverChartIndex]&&(s(i),s=o[t.hoverChartIndex].pointer,s[a]({type:n,target:i.currentTarget,preventDefault:r,touches:m()}))};a(d.prototype,{onContainerPointerDown:function(e){c(e,'onContainerTouchStart','touchstart',function(e){u[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){c(e,'onContainerTouchMove','touchmove',function(e){u[e.pointerId]={pageX:e.pageX,pageY:e.pageY},u[e.pointerId].target||(u[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){c(e,'onDocumentTouchEnd','touchend',function(e){delete u[e.pointerId]})},batchMSEvents:function(t){t(this.chart.container,e?'pointerdown':'MSPointerDown',this.onContainerPointerDown),t(this.chart.container,e?'pointermove':'MSPointerMove',this.onContainerPointerMove),t(s,e?'pointerup':'MSPointerUp',this.onDocumentPointerUp)}}),g(d.prototype,'init',function(e,t,i){e.call(this,t,i),this.hasZoom&&n(t.container,{"-ms-touch-action":'none',"touch-action":'none'})}),g(d.prototype,'setDOMEvents',function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(i)}),g(d.prototype,'destroy',function(e){this.batchMSEvents(h),e.call(this)})}}(a),function(t){var i=t.addEvent,o=t.css,n=t.discardElement,s=t.defined,r=t.each,a=t.isFirefox,l=t.marginNames,g=t.merge,p=t.pick,d=t.setAnimation,h=t.stableSort,e=t.win,c=t.wrap;t.Legend=function(e,t){this.init(e,t)},t.Legend.prototype={init:function(e,t){this.chart=e,this.setOptions(t),t.enabled&&(this.render(),i(this.chart,'endResize',function(){this.legend.positionCheckboxes()}))},setOptions:function(e){var t=p(e.padding,8);this.options=e,this.itemStyle=e.itemStyle,this.itemHiddenStyle=g(this.itemStyle,e.itemHiddenStyle),this.itemMarginTop=e.itemMarginTop||0,this.padding=t,this.initialItemY=t-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=p(e.symbolWidth,16),this.pages=[]},update:function(e,t){var i=this.chart;this.setOptions(g(!0,this.options,e)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,p(t,!0)&&i.redraw()},colorizeItem:function(t,i){t.legendGroup[i?'removeClass':'addClass']('highcharts-legend-item-hidden');var o=this.options,a=t.legendItem,r=t.legendLine,n=t.legendSymbol,e=this.itemHiddenStyle.color,o=i?o.itemStyle.color:e,s=i?t.color||e:e,l=t.options&&t.options.marker,d={fill:s};a&&a.css({fill:o,color:o}),r&&r.attr({stroke:s}),n&&(l&&n.isMarker&&(d=t.pointAttribs(),i||(d.stroke=d.fill=e)),n.attr(d))},positionItem:function(t){var i=this.options,o=i.symbolPadding,i=!i.rtl,a=t._legendItemPos,e=a[0],a=a[1],r=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(i?e:this.legendWidth-e-2*o-4,a),r&&(r.x=e,r.y=a)},destroyItem:function(e){var t=e.checkbox;r(['legendItem','legendLine','legendSymbol','legendGroup'],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&n(e.checkbox)},destroy:function(){function e(e){this[e]&&(this[e]=this[e].destroy())}r(this.getAllItems(),function(t){r(['legendItem','legendGroup'],e,t)}),r(['clipRect','up','down','pager','nav','box','title','group'],e,this),this.display=null},positionCheckboxes:function(){var t,i=this.group&&this.group.alignAttr,a=this.clipHeight||this.legendHeight,e=this.titleHeight;i&&(t=i.translateY,r(this.allItems,function(r){var n,s=r.checkbox;s&&(n=t+e+s.y+(this.scrollOffset||0)+3,o(s,{left:i.translateX+r.checkboxOffset+s.x-20+'px',top:n+'px',display:n>t-6&&n<t+a-6?'':'none'}))},this))},renderTitle:function(){var t=this.options,i=this.padding,o=t.title,e=0;o.text&&(this.title||(this.title=this.chart.renderer.label(o.text,i-3,i-4,null,null,null,t.useHTML,null,'legend-title').attr({zIndex:1}).css(o.style).add(this.group)),t=this.title.getBBox(),e=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:e})),this.titleHeight=e},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var i=this.chart,o=i.renderer,a=this.options,e='horizontal'===a.layout,n=this.symbolWidth,s=a.symbolPadding,c=this.itemStyle,u=this.itemHiddenStyle,f=this.padding,y=e?p(a.itemDistance,20):0,m=!a.rtl,b=a.width,v=a.itemMarginBottom||0,d=this.itemMarginTop,k=t.legendItem,w=!t.series,S=!w&&t.series.drawLegendSymbol?t.series:t,x=S.options,r=this.createCheckboxForItem&&x&&x.showCheckbox,x=n+s+y+(r?20:0),A=a.useHTML,T=t.options.className;k||(t.legendGroup=o.g('legend-item').addClass('highcharts-'+S.type+'-series highcharts-color-'+t.colorIndex+(T?' '+T:'')+(w?' highcharts-series-'+t.index:'')).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=k=o.text('',m?n+s:-s,this.baseline||0,A).css(g(t.visible?c:u)).attr({align:m?'left':'right',zIndex:2}).add(t.legendGroup),this.baseline||(n=c.fontSize,this.fontMetrics=o.fontMetrics(n,k),this.baseline=this.fontMetrics.f+3+d,k.attr('y',this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,S.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,k,A),r&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),c.width||k.css({width:(a.itemWidth||a.width||i.spacingBox.width)-x}),this.setText(t),o=k.getBBox(),c=t.checkboxOffset=a.itemWidth||t.legendItemWidth||o.width+x,this.itemHeight=o=R(t.legendItemHeight||o.height||this.symbolHeight),e&&this.itemX-f+c>(b||i.spacingBox.width-2*f-a.x)&&(this.itemX=f,this.itemY+=d+this.lastLineHeight+v,this.lastLineHeight=0),this.maxItemWidth=N(this.maxItemWidth,c),this.lastItemY=d+this.itemY+v,this.lastLineHeight=N(o,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],e?this.itemX+=c:(this.itemY+=d+o+v,this.lastLineHeight=o),this.offsetWidth=b||N((e?this.itemX-f-(t.checkbox?0:y):c)+f,this.offsetWidth)},getAllItems:function(){var e=[];return r(this.chart.series,function(t){var i=t&&t.options;t&&p(i.showInLegend,!s(i.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||('point'===i.legendType?t.data:t)))}),e},getAlignment:function(){var e=this.options;return e.floating?'':e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)},adjustMargins:function(t,i){var o=this.chart,a=this.options,d=this.getAlignment();d&&r([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,e){r.test(d)&&!s(t[e])&&(o[l[e]]=N(o[l[e]],o.legend[(e+1)%2?'legendHeight':'legendWidth']+[1,-1,-1,1][e]*a[e%2?'x':'y']+p(a.margin,12)+i[e]+(0===e?o.titleOffset+o.options.title.margin:0)))})},render:function(){var e,t,i,o,s=this,a=s.chart,d=a.renderer,n=s.group,p=s.box,c=s.options,u=s.padding;s.itemX=u,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,n||(s.group=n=d.g('legend').attr({zIndex:7}).add(),s.contentGroup=d.g().attr({zIndex:1}).add(n),s.scrollGroup=d.g().add(s.contentGroup)),s.renderTitle(),e=s.getAllItems(),h(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),s.allItems=e,s.display=t=!!e.length,s.lastLineHeight=0,r(e,function(e){s.renderItem(e)}),i=(c.width||s.offsetWidth)+u,o=s.lastItemY+s.lastLineHeight+s.titleHeight,o=s.handleOverflow(o),o+=u,p||(s.box=p=d.rect().addClass('highcharts-legend-box').attr({r:c.borderRadius}).add(n),p.isNew=!0),p.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||'none'}).shadow(c.shadow),0<i&&0<o&&(p[p.isNew?'attr':'animate'](p.crisp.call({},{x:0,y:0,width:i,height:o},p.strokeWidth())),p.isNew=!1),p[t?'show':'hide'](),s.legendWidth=i,s.legendHeight=o,r(e,function(e){s.positionItem(e)}),t&&(d=a.spacingBox,/(lth|ct|rth)/.test(s.getAlignment())&&(d=g(d,{y:d.y+a.titleOffset+a.options.title.margin})),n.align(g(c,{width:i,height:o}),!0,d)),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var i,o,n=this,a=this.chart,s=a.renderer,e=this.options,c=e.y,g=this.padding,a=a.spacingBox.height+('top'===e.verticalAlign?-c:c)-g,c=e.maxHeight,l=this.clipRect,u=e.navigation,m=p(u.animation,!0),x=u.arrowSize||12,y=this.nav,v=this.pages,d=this.allItems,f=function(e){'number'==typeof e?l.attr({height:e}):l&&(n.clipRect=l.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=e?'rect('+g+'px,9999px,'+(g+e)+'px,0)':'auto')};return'horizontal'!==e.layout||'middle'===e.verticalAlign||e.floating||(a/=2),c&&(a=Y(a,c)),v.length=0,t>a&&!1!==u.enabled?(this.clipHeight=i=N(a-20-this.titleHeight-g,0),this.currentPage=p(this.currentPage,1),this.fullHeight=t,r(d,function(e,t){var a=e._legendItemPos[1],r=R(e.legendItem.getBBox().height),n=v.length;(!n||a-v[n-1]>i&&(o||a)!==v[n-1])&&(v.push(o||a),n++),e.pageIx=n-1,o&&(d[t-1].pageIx=n-1),t===d.length-1&&a+r-v[n-1]>i&&(v.push(a),e.pageIx=n),a!==o&&(o=a)}),l||(l=n.clipRect=s.clipRect(0,g,9999,0),n.contentGroup.clip(l)),f(i),y||(this.nav=y=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol('triangle',0,0,x,x).on('click',function(){n.scroll(-1,m)}).add(y),this.pager=s.text('',15,10).addClass('highcharts-legend-navigation').css(u.style).add(y),this.down=s.symbol('triangle-down',0,0,x,x).on('click',function(){n.scroll(1,m)}).add(y)),n.scroll(0),t=a):y&&(f(),this.nav=y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,i){var o=this.pages,a=o.length;t=this.currentPage+t;var e=this.clipHeight,r=this.options.navigation,n=this.pager,s=this.padding;t>a&&(t=a),0<t&&(void 0!==i&&d(i,this.chart),this.nav.attr({translateX:s,translateY:e+this.padding+7+this.titleHeight,visibility:'visible'}),this.up.attr({class:1===t?'highcharts-legend-nav-inactive':'highcharts-legend-nav-active'}),n.attr({text:t+'/'+a}),this.down.attr({x:18+this.pager.getBBox().width,class:t===a?'highcharts-legend-nav-inactive':'highcharts-legend-nav-active'}),this.up.attr({fill:1===t?r.inactiveColor:r.activeColor}).css({cursor:1===t?'default':'pointer'}),this.down.attr({fill:t===a?r.inactiveColor:r.activeColor}).css({cursor:t===a?'default':'pointer'}),this.scrollOffset=-o[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,i){var o=t.symbolHeight,a=t.options.squareSymbol;i.legendSymbol=this.chart.renderer.rect(a?(t.symbolWidth-o)/2:0,t.baseline-o+1,a?o:t.symbolWidth,o,p(t.options.symbolRadius,o/2)).addClass('highcharts-point').attr({zIndex:3}).add(i.legendGroup)},drawLineMarker:function(t){var i=this.options,o=i.marker,a=t.symbolWidth,e=t.symbolHeight,r=e/2,n=this.chart.renderer,s=this.legendGroup;t=t.baseline-R(.3*t.fontMetrics.b);var l;l={"stroke-width":i.lineWidth||0},i.dashStyle&&(l.dashstyle=i.dashStyle),this.legendLine=n.path(['M',0,t,'L',a,t]).addClass('highcharts-graph').attr(l).add(s),o&&!1!==o.enabled&&(i=Y(p(o.radius,r),r),0===this.symbol.indexOf('url')&&(o=g(o,{width:e,height:e}),i=0),this.legendSymbol=o=n.symbol(this.symbol,a/2-i,t-i,2*i,2*i,o).addClass('highcharts-point').add(s),o.isMarker=!0)}},(/Trident\/7\.0/.test(e.navigator.userAgent)||a)&&c(t.Legend.prototype,'positionItem',function(t,i){var o=this,a=function(){i._legendItemPos&&t.call(o,i)};a(),setTimeout(a)})}(a),function(i){var o=i.addEvent,a=i.animate,S=i.animObject,T=i.attr,r=i.doc,m=i.Axis,l=i.createElement,w=i.defaultOptions,p=i.discardElement,v=i.charts,P=i.css,C=i.defined,L=i.each,B=i.extend,e=i.find,E=i.fireEvent,n=i.grep,t=i.isNumber,g=i.isObject,u=i.isString,k=i.Legend,c=i.marginNames,A=i.merge,y=i.objectEach,f=i.Pointer,D=i.pick,b=i.pInt,I=i.removeEvent,z=i.seriesTypes,H=i.splat,G=i.syncTimeout,x=i.win,h=i.Chart=function(){this.getArgs.apply(this,arguments)};i.chart=function(e,t,i){return new h(e,t,i)},B(h.prototype,{callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(u(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(t,a){var r,n,s=t.series,l=t.plotOptions||{};for(n in t.series=null,r=A(w,t),r.plotOptions)r.plotOptions[n].tooltip=l[n]&&A(l[n].tooltip)||void 0;r.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,r.series=t.series=s,this.userOptions=t,n=r.chart,s=n.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=a,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=t.time&&i.keys(t.time).length?new i.Time(t.time):i.time,this.hasCartesianSeries=n.showAxes;var e=this;e.index=v.length,v.push(e),i.chartCount++,s&&y(s,function(t,i){o(e,i,t)}),e.xAxis=[],e.yAxis=[],e.pointCount=e.colorCounter=e.symbolCounter=0,e.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=z[e.type||t.type||t.defaultSeriesType])||i.error(17,!0),t=new t,t.init(this,e),t},orderSeries:function(e){var t=this.series;for(e=e||0;e<t.length;e++)t[e]&&(t[e].index=e,t[e].name=t[e].getName())},isInsidePlot:function(e,t,i){var o=i?t:e;return e=i?e:t,0<=o&&o<=this.plotWidth&&0<=e&&e<=this.plotHeight},redraw:function(o){var r,a,n,s=this.axes,l=this.series,d=this.pointer,p=this.legend,e=this.isDirtyLegend,c=this.hasCartesianSeries,h=this.isDirtyBox,g=this.renderer,u=g.isHidden(),m=[];for(this.setResponsive&&this.setResponsive(!1),i.setAnimation(o,this),u&&this.temporaryDisplay(),this.layOutTitles(),o=l.length;o--;)if(n=l[o],n.options.stacking&&(r=!0,n.isDirty)){a=!0;break}if(a)for(o=l.length;o--;)n=l[o],n.options.stacking&&(n.isDirty=!0);L(l,function(t){t.isDirty&&'point'===t.options.legendType&&(t.updateTotals&&t.updateTotals(),e=!0),t.isDirtyData&&E(t,'updatedData')}),e&&p.options.enabled&&(p.render(),this.isDirtyLegend=!1),r&&this.getStacks(),c&&L(s,function(e){e.updateNames(),e.setScale()}),this.getMargins(),c&&(L(s,function(e){e.isDirty&&(h=!0)}),L(s,function(e){var t=e.min+','+e.max;e.extKey!==t&&(e.extKey=t,m.push(function(){E(e,'afterSetExtremes',B(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(h||r)&&e.redraw()})),h&&this.drawChartBox(),E(this,'predraw'),L(l,function(e){(h||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1}),d&&d.reset(!0),g.draw(),E(this,'redraw'),E(this,'render'),u&&this.temporaryDisplay(!0),L(m,function(e){e.call()})},get:function(t){function i(e){return e.id===t||e.options&&e.options.id===t}var o,a,r=this.series;for(o=e(this.axes,i)||e(this.series,i),a=0;!o&&a<r.length;a++)o=e(r[a].points||[],i);return o},getAxes:function(){var e=this,t=this.options,i=t.xAxis=H(t.xAxis||{}),t=t.yAxis=H(t.yAxis||{});E(this,'beforeGetAxes'),L(i,function(e,t){e.index=t,e.isX=!0}),L(t,function(e,t){e.index=t}),i=i.concat(t),L(i,function(t){new m(e,t)})},getSelectedPoints:function(){var e=[];return L(this.series,function(t){e=e.concat(n(t.data||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return n(this.series,function(e){return e.selected})},setTitle:function(e,t,i){var o,r=this,a=r.options;o=a.title=A({style:{color:'#333333',fontSize:a.isStock?'16px':'18px'}},a.title,e),a=a.subtitle=A({style:{color:'#666666'}},a.subtitle,t),L([['title',e,o],['subtitle',t,a]],function(e,t){var i=e[0],o=r[i],a=e[1];e=e[2],o&&a&&(r[i]=o=o.destroy()),e&&!o&&(r[i]=r.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:'highcharts-'+i,zIndex:e.zIndex||4}).add(),r[i].update=function(e){r.setTitle(!t&&e,t&&e)},r[i].css(e.style))}),r.layOutTitles(i)},layOutTitles:function(e){var t,i=0,o=this.renderer,r=this.spacingBox;L(['title','subtitle'],function(t){var a=this[t],n=this.options[t];t='title'===t?-3:n.verticalAlign?0:i+2;var e;a&&(e=n.style.fontSize,e=o.fontMetrics(e,a).b,a.css({width:(n.width||r.width+n.widthAdjust)+'px'}).align(B({y:t+e},n),!1,'spacingBox'),n.floating||n.verticalAlign||(i=s(i+a.getBBox(n.useHTML).height)))},this),t=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&t&&(this.isDirtyBox=t,this.hasRendered&&D(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,o=this.renderTo;C(t)||(this.containerWidth=i.getStyle(o,'width')),C(e)||(this.containerHeight=i.getStyle(o,'height')),this.chartWidth=N(0,t||this.containerWidth||600),this.chartHeight=N(0,i.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var t=this.renderTo;if(e)for(;t&&t.style;)t.hcOrigStyle&&(i.css(t,t.hcOrigStyle),delete t.hcOrigStyle),t.hcOrigDetached&&(r.body.removeChild(t),t.hcOrigDetached=!1),t=t.parentNode;else for(;t&&t.style&&(r.body.contains(t)||t.parentNode||(t.hcOrigDetached=!0,r.body.appendChild(t)),('none'===i.getStyle(t,'display',!1)||t.hcOricDetached)&&(t.hcOrigStyle={display:t.style.display,height:t.style.height,overflow:t.style.overflow},e={display:'block',overflow:'hidden'},t!==this.renderTo&&(e.height=0),i.css(t,e),t.offsetWidth||t.style.setProperty('display','block','important')),t=t.parentNode,t!==r.body););},setClassName:function(e){this.container.className='highcharts-container '+(e||'')},getContainer:function(){var o,a,n,s=this.options,d=s.chart;o=this.renderTo;var e,p=i.uniqueKey();o||(this.renderTo=o=d.renderTo),u(o)&&(this.renderTo=o=r.getElementById(o)),o||i.error(13,!0),a=b(T(o,'data-highcharts-chart')),t(a)&&v[a]&&v[a].hasRendered&&v[a].destroy(),T(o,'data-highcharts-chart',this.index),o.innerHTML='',d.skipClone||o.offsetWidth||this.temporaryDisplay(),this.getChartSize(),a=this.chartWidth,n=this.chartHeight,e=B({position:'relative',overflow:'hidden',width:a+'px',height:n+'px',textAlign:'left',lineHeight:'normal',zIndex:0,"-webkit-tap-highlight-color":'rgba(0,0,0,0)'},d.style),this.container=o=l('div',{id:p},e,o),this._cursor=o.style.cursor,this.renderer=new(i[d.renderer]||i.Renderer)(o,a,n,null,d.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(d.className),this.renderer.setStyle(d.style),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,i=this.margin,o=this.titleOffset;this.resetMargins(),o&&!C(i[0])&&(this.plotTop=N(this.plotTop,o+this.options.title.margin+t[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,t),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.adjustPlotArea&&this.adjustPlotArea(),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],i=e.margin;e.hasCartesianSeries&&L(e.axes,function(e){e.visible&&e.getOffset()}),L(c,function(o,a){C(i[a])||(e[o]+=t[a])}),e.setChartSize()},reflow:function(t){var o=this,a=o.options.chart,n=o.renderTo,s=C(a.width)&&C(a.height),l=a.width||i.getStyle(n,'width'),a=a.height||i.getStyle(n,'height'),n=t?t.target:x;!s&&!o.isPrinting&&l&&a&&(n===x||n===r)&&((l!==o.containerWidth||a!==o.containerHeight)&&(clearTimeout(o.reflowTimeout),o.reflowTimeout=G(function(){o.container&&o.setSize(void 0,void 0,!1)},t?100:0)),o.containerWidth=l,o.containerHeight=a)},initReflow:function(){var e,t=this;e=o(x,'resize',function(e){t.reflow(e)}),o(t,'destroy',e)},setSize:function(e,t,o){var r=this,n=r.renderer;r.isResizing+=1,i.setAnimation(o,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==e&&(r.options.chart.width=e),void 0!==t&&(r.options.chart.height=t),r.getChartSize(),e=n.globalAnimation,(e?a:P)(r.container,{width:r.chartWidth+'px',height:r.chartHeight+'px'},e),r.setChartSize(!0),n.setSize(r.chartWidth,r.chartHeight,o),L(r.axes,function(e){e.isDirty=!0,e.setScale()}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(o),r.oldChartHeight=null,E(r,'resize'),G(function(){r&&E(r,'endResize',null,function(){--r.isResizing})},S(e).duration)},setChartSize:function(t){var i,o,a,r,l=this.inverted,p=this.renderer,u=this.chartWidth,c=this.chartHeight,m=this.options.chart,h=this.spacing,e=this.clipOffset;this.plotLeft=i=R(this.plotLeft),this.plotTop=o=R(this.plotTop),this.plotWidth=a=N(0,R(u-i-this.marginRight)),this.plotHeight=r=N(0,R(c-o-this.marginBottom)),this.plotSizeX=l?r:a,this.plotSizeY=l?a:r,this.plotBorderWidth=m.plotBorderWidth||0,this.spacingBox=p.spacingBox={x:h[3],y:h[0],width:u-h[3]-h[1],height:c-h[0]-h[2]},this.plotBox=p.plotBox={x:i,y:o,width:a,height:r},u=2*M(this.plotBorderWidth/2),l=s(N(u,e[3])/2),p=s(N(u,e[0])/2),this.clipBox={x:l,y:p,width:M(this.plotSizeX-N(u,e[1])/2-l),height:N(0,M(this.plotSizeY-N(u,e[2])/2-p))},t||L(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.options.chart;L(['margin','spacing'],function(i){var o=t[i],a=g(o)?o:[o,o,o,o];L(['Top','Right','Bottom','Left'],function(o,r){e[i][r]=D(t[i+o],a[r])})}),L(c,function(t,i){e[t]=D(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var i,o,r=this.options.chart,a=this.renderer,n=this.chartWidth,s=this.chartHeight,d=this.chartBackground,p=this.plotBackground,c=this.plotBorder,e=this.plotBGImage,h=r.backgroundColor,g=r.plotBackgroundColor,f=r.plotBackgroundImage,x=this.plotLeft,b=this.plotTop,v=this.plotWidth,k=this.plotHeight,w=this.plotBox,u=this.clipRect,S=this.clipBox,l='animate';d||(this.chartBackground=d=a.rect().addClass('highcharts-background').add(),l='attr'),i=r.borderWidth||0,o=i+(r.shadow?8:0),h={fill:h||'none'},(i||d['stroke-width'])&&(h.stroke=r.borderColor,h['stroke-width']=i),d.attr(h).shadow(r.shadow),d[l]({x:o/2,y:o/2,width:n-o-i%2,height:s-o-i%2,r:r.borderRadius}),l='animate',p||(l='attr',this.plotBackground=p=a.rect().addClass('highcharts-plot-background').add()),p[l](w),p.attr({fill:g||'none'}).shadow(r.plotShadow),f&&(e?e.animate(w):this.plotBGImage=a.image(f,x,b,v,k).add()),u?u.animate({width:S.width,height:S.height}):this.clipRect=a.clipRect(S),l='animate',c||(l='attr',this.plotBorder=c=a.rect().addClass('highcharts-plot-border').attr({zIndex:1}).add()),c.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:'none'}),c[l](c.crisp({x:x,y:b,width:v,height:k},-c.strokeWidth())),this.isDirtyBox=!1,E(this,'afterDrawChartBox')},propFromSeries:function(){var t,i,o,r=this,a=r.options.chart,n=r.options.series;L(['inverted','angular','polar'],function(s){for(t=z[a.type||a.defaultSeriesType],o=a[s]||t&&t.prototype[s],i=n&&n.length;!o&&i--;)(t=z[n[i].type])&&t.prototype[s]&&(o=!0);r[s]=o})},linkSeries:function(){var e=this,t=e.series;L(t,function(e){e.linkedSeries.length=0}),L(t,function(t){var i=t.options.linkedTo;u(i)&&(i=':previous'===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=D(t.options.visible,i.options.visible,t.visible))})},renderSeries:function(){L(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var t=this,i=t.options.labels;i.items&&L(i.items,function(o){var a=B(i.style,o.style),r=b(a.left)+t.plotLeft,e=b(a.top)+t.plotTop+12;delete a.left,delete a.top,t.renderer.text(o.html,r,e).attr({zIndex:2}).css(a).add()})},render:function(){var e,t,i,o=this.axes,a=this.renderer,r=this.options;this.setTitle(),this.legend=new k(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,e=this.plotHeight=N(this.plotHeight-21,0),L(o,function(e){e.setScale()}),this.getAxisMargins(),t=1.1<r/this.plotWidth,i=1.05<e/this.plotHeight,(t||i)&&(L(o,function(e){(e.horiz&&t||!e.horiz&&i)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&L(o,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=a.g('series-group').attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(e){var t=this;e=A(!0,this.options.credits,e),e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text+(this.mapCredits||''),0,0).addClass('highcharts-credits').on('click',function(){e.href&&(x.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},destroy:function(){var t,o=this,a=o.axes,r=o.series,n=o.container,s=n&&n.parentNode;for(E(o,'destroy'),o.renderer.forExport?i.erase(v,o):v[o.index]=void 0,i.chartCount--,o.renderTo.removeAttribute('data-highcharts-chart'),I(o),t=a.length;t--;)a[t]=a[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=r.length;t--;)r[t]=r[t].destroy();L(['title','subtitle','chartBackground','plotBackground','plotBGImage','plotBorder','seriesGroup','clipRect','credits','pointer','rangeSelector','legend','resetZoomButton','tooltip','renderer'],function(e){var t=o[e];t&&t.destroy&&(o[e]=t.destroy())}),n&&(n.innerHTML='',I(n),s&&p(n)),y(o,function(e,t){delete o[t]})},firstRender:function(){var e=this,t=e.options;(!e.isReadyToRender||e.isReadyToRender())&&(e.getContainer(),E(e,'init'),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),L(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),E(e,'beforeRender'),f&&(e.pointer=new f(e,t)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){L([this.callback].concat(this.callbacks),function(e){e&&void 0!==this.index&&e.apply(this,[this])},this),E(this,'load'),E(this,'render'),C(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(a),function(e){var t,i=e.each,o=e.extend,n=e.erase,r=e.fireEvent,s=e.format,l=e.isArray,d=e.isNumber,p=e.pick,h=e.removeEvent;e.Point=t=function(){},e.Point.prototype={init:function(e,t,i){return this.series=e,this.color=e.color,this.applyOptions(t,i),e.options.colorByPoint?(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter],t=t.length,i=e.colorCounter,e.colorCounter++,e.colorCounter===t&&(e.colorCounter=0)):i=e.colorIndex,this.colorIndex=p(this.colorIndex,i),e.chart.pointCount++,r(this,'afterInit'),this},applyOptions:function(i,a){var r=this.series,e=r.options.pointValKey||r.pointValKey;return i=t.prototype.optionsToObject.call(this,i),o(this,i),this.options=this.options?o(this.options,i):i,i.group&&delete this.group,e&&(this.y=this[e]),this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!d(this.y,!0)),this.selected&&(this.state='select'),'name'in this&&void 0===a&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===a?r.autoIncrement(this):a),this},optionsToObject:function(i){var o={},r=this.series,e=r.options.keys,s=e||r.pointArrayMap||['y'],p=s.length,n=0,t=0;if(d(i)||null===i)o[s[0]]=i;else if(l(i))for(!e&&i.length>p&&(r=typeof i[0],'string'===r?o.name=i[0]:'number'==r&&(o.x=i[0]),n++);t<p;)e&&void 0===i[n]||(o[s[t]]=i[n]),n++,t++;else'object'==typeof i&&(o=i,i.dataLabels&&(r._hasPointLabels=!0),i.marker&&(r._hasPointMarkers=!0));return o},getClassName:function(){return'highcharts-point'+(this.selected?' highcharts-point-select':'')+(this.negative?' highcharts-negative':'')+(this.isNull?' highcharts-null-point':'')+(void 0===this.colorIndex?'':' highcharts-color-'+this.colorIndex)+(this.options.className?' '+this.options.className:'')+(this.zone&&this.zone.className?' '+this.zone.className.replace('highcharts-negative',''):'')},getZone:function(){var e,t=this.series,i=t.zones,t=t.zoneAxis||'y',o=0;for(e=i[o];this[t]>=e.value;)e=i[++o];return e&&e.color&&!this.options.color&&(this.color=e.color),e},destroy:function(){var e,t=this.series.chart,i=t.hoverPoints;for(e in t.pointCount--,i&&(this.setState(),n(i,this),i.length||(t.hoverPoints=null)),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(h(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this),this)this[e]=null},destroyElements:function(){for(var e,t=['graphic','dataLabel','dataLabelUpper','connector','shadowGroup'],i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var o=this.series,a=o.tooltipOptions,e=p(a.valueDecimals,''),r=a.valuePrefix||'',l=a.valueSuffix||'';return i(o.pointArrayMap||['y'],function(i){i='{point.'+i,(r||l)&&(t=t.replace(i+'}',r+i+'}'+l)),t=t.replace(i+'}',i+':,.'+e+'f}')}),s(t,{point:this,series:this.series},o.chart.time)},firePointEvent:function(t,i,o){var n=this,a=this.series.options;(a.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),'click'===t&&a.allowPointSelect&&(o=function(e){n.select&&n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),r(this,t,i,o)},visible:!0}}(a),function(s){var h=s.addEvent,x=s.animObject,S=s.arrayMax,T=s.arrayMin,L=s.correctFloat,r=s.defaultOptions,a=s.defaultPlotOptions,m=s.defined,w=s.each,l=s.erase,p=s.extend,O=s.fireEvent,e=s.grep,v=s.isArray,z=s.isNumber,g=s.isString,n=s.merge,t=s.objectEach,G=s.pick,d=s.removeEvent,c=s.splat,f=s.SVGElement,A=s.syncTimeout,y=s.win;s.Series=s.seriesType('line',null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{lineWidth:0,lineColor:'#ffffff',enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:'#cccccc',lineColor:'#000000',lineWidth:2}}},point:{events:{}},dataLabels:{align:'center',formatter:function(){return null===this.y?'':s.numberFormat(this.y,-1)},style:{fontSize:'11px',fontWeight:'bold',color:'contrast',textOutline:'1px contrast'},verticalAlign:'bottom',x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:'x'},{isCartesian:!0,pointClass:s.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:['xAxis','yAxis'],colorCounter:0,parallelArrays:['x','y'],coll:'series',init:function(e,i){var o,a,r=this,n=e.series;r.chart=e,r.options=i=r.setOptions(i),r.linkedSeries=[],r.bindAxes(),p(r,{name:i.name,state:'',visible:!1!==i.visible,selected:!0===i.selected}),o=i.events,t(o,function(e,t){h(r,t,e)}),(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),r.getColor(),r.getSymbol(),w(r.parallelArrays,function(e){r[e+'Data']=[]}),r.setData(i.data,!1),r.isCartesian&&(e.hasCartesianSeries=!0),n.length&&(a=n[n.length-1]),r._i=G(a&&a._i,-1)+1,e.orderSeries(this.insert(n))},insert:function(e){var t,i=this.options.index;if(z(i)){for(t=e.length;t--;)if(i>=G(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return G(t,e.length-1)},bindAxes:function(){var t,i=this,o=i.options,a=i.chart;w(i.axisTypes||[],function(r){w(a[r],function(e){t=e.options,(o[r]===t.index||void 0!==o[r]&&o[r]===t.id||void 0===o[r]&&0===t.index)&&(i.insert(e.series),i[r]=e,e.isDirty=!0)}),i[r]||i.optionalAxis===r||s.error(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,o=arguments,a=z(t)?function(o){var a='y'===o&&i.toYData?i.toYData(e):e[o];i[o+'Data'][t]=a}:function(e){Array.prototype[t].apply(i[e+'Data'],Array.prototype.slice.call(o,2))};w(i.parallelArrays,a)},autoIncrement:function(){var e,t=this.options,i=this.xIncrement,o=t.pointIntervalUnit,a=this.chart.time,i=G(i,t.pointStart,0);return this.pointInterval=e=G(this.pointInterval,t.pointInterval,1),o&&(t=new a.Date(i),'day'===o?a.set('Date',t,a.get('Date',t)+e):'month'===o?a.set('Month',t,a.get('Month',t)+e):'year'===o&&a.set('FullYear',t,a.get('FullYear',t)+e),e=t.getTime()-i),this.xIncrement=i+e,i},setOptions:function(e){var t=this.chart,i=t.options,o=i.plotOptions,a=(t.userOptions||{}).plotOptions||{},s=o[this.type];return this.userOptions=e,t=n(s,o.series,e),this.tooltipOptions=n(r.tooltip,r.plotOptions.series&&r.plotOptions.series.tooltip,r.plotOptions[this.type].tooltip,i.tooltip.userOptions,o.series&&o.series.tooltip,o[this.type].tooltip,e.tooltip),this.stickyTracking=G(e.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip||t.stickyTracking),null===s.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,e=this.zones=(t.zones||[]).slice(),(t.negativeColor||t.negativeFillColor)&&!t.zones&&e.push({value:t[this.zoneAxis+'Threshold']||t.threshold||0,className:'highcharts-negative',color:t.negativeColor,fillColor:t.negativeFillColor}),e.length&&m(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),t},getName:function(){return this.name||'Series '+(this.index+1)},getCyclic:function(t,i,o){var a,r=this.chart,n=this.userOptions,s=t+'Index',e=t+'Counter',l=o?o.length:G(r.options.chart[t+'Count'],r[t+'Count']);i||(a=G(n[s],n['_'+s]),m(a)||(r.series.length||(r[e]=0),n['_'+s]=a=r[e]%l,r[e]+=1),o&&(i=o[a])),void 0!==a&&(this[s]=a),this[t]=i},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic('color',this.options.color||a[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic('symbol',this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:s.LegendSymbolMixin.drawLineMarker,setData:function(i,o,a,r){var e,n=this,p=n.points,d=p&&p.length||0,c=n.options,u=n.chart,x=null,t=n.xAxis,y=c.turboThreshold,l=this.xData,m=this.yData,f=(e=n.pointArrayMap)&&e.length;if(i=i||[],e=i.length,o=G(o,!0),!1!==r&&e&&d===e&&!n.cropped&&!n.hasGroupedData&&n.visible)w(i,function(e,t){p[t].update&&e!==c.data[t]&&p[t].update(e,!1,null,!1)});else{if(n.xIncrement=null,n.colorCounter=0,w(this.parallelArrays,function(e){n[e+'Data'].length=0}),y&&e>y){for(a=0;null==x&&a<e;)x=i[a],a++;if(z(x))for(a=0;a<e;a++)l[a]=this.autoIncrement(),m[a]=i[a];else if(!v(x))s.error(12);else if(f)for(a=0;a<e;a++)x=i[a],l[a]=x[0],m[a]=x.slice(1,f+1);else for(a=0;a<e;a++)x=i[a],l[a]=x[0],m[a]=x[1]}else for(a=0;a<e;a++)void 0!==i[a]&&(x={series:n},n.pointClass.prototype.applyOptions.apply(x,[i[a]]),n.updateParallelArrays(x,a));for(m&&g(m[0])&&s.error(14,!0),n.data=[],n.options.data=n.userOptions.data=i,a=d;a--;)p[a]&&p[a].destroy&&p[a].destroy();t&&(t.minRange=t.userMinRange),n.isDirty=u.isDirtyBox=!0,n.isDirtyData=!!p,a=!1}'point'===c.legendType&&(this.processData(),this.generatePoints()),o&&u.redraw(a)},processData:function(i){var o,e=this.xData,a=this.yData,r=e.length;o=0;var d,p,c,h=this.xAxis,g=this.options;c=g.cropThreshold;var n,m,l=this.getExtremesFromAll||g.getExtremesFromAll,x=this.isCartesian,g=h&&h.val2lin,f=h&&h.isLog,t=this.requireSorting;if(x&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!i)return!1;for(h&&(i=h.getExtremes(),n=i.min,m=i.max),x&&this.sorted&&!l&&(!c||r>c||this.forceCrop)&&(e[r-1]<n||e[0]>m?(e=[],a=[]):(e[0]<n||e[r-1]>m)&&(o=this.cropData(this.xData,this.yData,n,m),e=o.xData,a=o.yData,o=o.start,d=!0)),c=e.length||1;--c;)r=f?g(e[c])-g(e[c-1]):e[c]-e[c-1],0<r&&(void 0==p||r<p)?p=r:0>r&&t&&(s.error(15),t=!1);this.cropped=d,this.cropStart=o,this.processedXData=e,this.processedYData=a,this.closestPointRange=p},cropData:function(t,i,o,a){var r,n=t.length,s=0,l=n,d=G(this.cropShoulder,1);for(r=0;r<n;r++)if(t[r]>=o){s=N(0,r-d);break}for(o=r;o<n;o++)if(t[o]>a){l=o+d;break}return{xData:t.slice(s,l),yData:i.slice(s,l),start:s,end:l}},generatePoints:function(){var i,o,r,n,s=this.options,a=s.data,l=this.data,d=this.processedXData,p=this.processedYData,h=this.pointClass,e=d.length,g=this.cropStart||0,u=this.hasGroupedData,s=s.keys,m=[];for(l||u||(l=[],l.length=a.length,l=this.data=l),s&&u&&(this.options.keys=!1),n=0;n<e;n++)o=g+n,u?(r=new h().init(this,[d[n]].concat(c(p[n]))),r.dataGroup=this.groupMap[n]):(r=l[o])||void 0===a[o]||(l[o]=r=new h().init(this,a[o],d[n])),r&&(r.index=o,m[n]=r);if(this.options.keys=s,l&&(e!==(i=l.length)||u))for(n=0;n<i;n++)n!==g||u||(n+=e),l[n]&&(l[n].destroyElements(),l[n].plotX=void 0);this.data=l,this.points=m},getExtremes:function(i){var o,a=this.yAxis,r=this.processedXData,s=[],e=0;o=this.xAxis.getExtremes();var l,n,d,p,t=o.min,c=o.max;for(i=i||this.stackedYData||this.processedYData||[],o=i.length,p=0;p<o;p++)if(n=r[p],d=i[p],l=(z(d,!0)||v(d))&&(!a.positiveValuesOnly||d.length||0<d),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(r[p+1]||n)>=t&&(r[p-1]||n)<=c,l&&n)if(l=d.length)for(;l--;)'number'==typeof d[l]&&(s[e++]=d[l]);else s[e++]=d;this.dataMin=T(s),this.dataMax=S(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var i,s,l,p,c=this.options,a=c.stacking,g=this.xAxis,d=g.categories,u=this.yAxis,e=this.points,h=e.length,x=!!this.modifyValue,f=c.pointPlacement,n='between'===f||z(f),y=c.threshold,b=c.startFromThreshold?y:0,t=o;for('between'===f&&(f=.5),z(f)&&(f*=G(c.pointRange||g.pointRange)),c=0;c<h;c++){var r=e[c],v=r.x,k=r.y;s=r.low;var w,S=a&&u.stacks[(this.negStacks&&k<(b?0:y)?'-':'')+this.stackKey];u.positiveValuesOnly&&null!==k&&0>=k&&(r.isNull=!0),r.plotX=i=L(Y(N(-1E5,g.translate(v,0,0,0,1,f,'flags'===this.type)),1E5)),a&&this.visible&&!r.isNull&&S&&S[v]&&(p=this.getStackIndicator(p,v,this.index),w=S[v],k=w.points[p.key],s=k[0],k=k[1],s===b&&p.key===S[v].base&&(s=G(y,u.min)),u.positiveValuesOnly&&0>=s&&(s=null),r.total=r.stackTotal=w.total,r.percentage=w.total&&100*(r.y/w.total),r.stackY=k,w.setOffset(this.pointXOffset||0,this.barW||0)),r.yBottom=m(s)?Y(N(-1E5,u.translate(s,0,1,0,1)),1E5):null,x&&(k=this.modifyValue(k,r)),r.plotY=s='number'==typeof k&&Infinity!==k?Y(N(-1E5,u.translate(k,0,1,0,1)),1E5):void 0,r.isInside=void 0!==s&&0<=s&&s<=u.len&&0<=i&&i<=g.len,r.clientX=n?L(g.translate(v,0,0,0,1,f)):i,r.negative=r.y<(y||0),r.category=d&&void 0!==d[r.x]?d[r.x]:r.x,r.isNull||(void 0!=l&&(t=Y(t,P(i-l))),l=i),r.zone=this.zones.length&&r.getZone()}this.closestPointRangePx=t,O(this,'afterTranslate')},getValidPoints:function(t,i){var o=this.chart;return e(t||this.points||[],function(e){return i&&!o.isInsidePlot(e.plotX,e.plotY,o.inverted)?!1:!e.isNull})},setClip:function(t){var i=this.chart,o=this.options,a=i.renderer,r=i.inverted,s=this.clipBox,l=s||i.clipBox,e=this.sharedClipKey||['_sharedClip',t&&t.duration,t&&t.easing,l.height,o.xAxis,o.yAxis].join(),d=i[e],p=i[e+'m'];d||(t&&(l.width=0,r&&(l.x=i.plotSizeX),i[e+'m']=p=a.clipRect(r?i.plotSizeX+99:-99,r?-i.plotLeft:-i.plotTop,99,r?i.chartWidth:i.chartHeight)),i[e]=d=a.clipRect(l),d.count={length:0}),t&&!d.count[this.index]&&(d.count[this.index]=!0,d.count.length+=1),!1!==o.clip&&(this.group.clip(t||s?d:i.clipRect),this.markerGroup.clip(p),this.sharedClipKey=e),t||(d.count[this.index]&&(delete d.count[this.index],--d.count.length),0===d.count.length&&e&&i[e]&&(s||(i[e]=i[e].destroy()),i[e+'m']&&(i[e+'m']=i[e+'m'].destroy())))},animate:function(e){var t,i=this.chart,o=x(this.options.animation);e?this.setClip(o):(t=this.sharedClipKey,(e=i[t])&&e.animate({width:i.plotSizeX,x:0},o),i[t+'m']&&i[t+'m'].animate({width:i.plotSizeX+99,x:0},o),this.animate=null)},afterAnimate:function(){this.setClip(),O(this,'afterAnimate'),this.finishedAnimating=!0},drawPoints:function(){var t,i,o,r,s,l,d,n,p=this.points,a=this.chart,c=this.options.marker,e=this[this.specialGroup]||this.markerGroup,h=G(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<p.length;t++)i=p[t],r=i.graphic,s=i.marker||{},l=!!i.marker,o=h&&void 0===s.enabled||s.enabled,d=i.isInside,o&&!i.isNull?(o=G(s.symbol,this.symbol),n=this.markerAttribs(i,i.selected&&'select'),r?r[d?'show':'hide'](!0).animate(n):d&&(0<n.width||i.hasImage)&&(i.graphic=r=a.renderer.symbol(o,n.x,n.y,n.width,n.height,l?s:c).add(e)),r&&r.attr(this.pointAttribs(i,i.selected&&'select')),r&&r.addClass(i.getClassName(),!0)):r&&(i.graphic=r.destroy())},markerAttribs:function(e,t){var i=this.options.marker,o=e.marker||{},a=o.symbol||i.symbol,r=G(o.radius,i.radius);return t&&(i=i.states[t],t=o.states&&o.states[t],r=G(t&&t.radius,i&&i.radius,r+(i&&i.radiusPlus||0))),e.hasImage=a&&0===a.indexOf('url'),e.hasImage&&(r=0),e={x:M(e.plotX)-r,y:e.plotY-r},r&&(e.width=e.height=2*r),e},pointAttribs:function(t,i){var o=this.options.marker,r=t&&t.options,n=r&&r.marker||{},s=this.color,l=r&&r.color,e=t&&t.color,r=G(n.lineWidth,o.lineWidth);return t=t&&t.zone&&t.zone.color,s=l||t||e||s,t=n.fillColor||o.fillColor||s,s=n.lineColor||o.lineColor||s,i&&(o=o.states[i],i=n.states&&n.states[i]||{},r=G(i.lineWidth,o.lineWidth,r+G(i.lineWidthPlus,o.lineWidthPlus,0)),t=i.fillColor||o.fillColor||t,s=i.lineColor||o.lineColor||s),{stroke:s,"stroke-width":r,fill:t}},destroy:function(){var i,e,o,r,n=this,a=n.chart,s=/AppleWebKit\/533/.test(y.navigator.userAgent),p=n.data||[];for(O(n,'destroy'),d(n),w(n.axisTypes||[],function(e){(r=n[e])&&r.series&&(l(r.series,n),r.isDirty=r.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),e=p.length;e--;)(o=p[e])&&o.destroy&&o.destroy();n.points=null,clearTimeout(n.animationTimeout),t(n,function(e,t){e instanceof f&&!e.survive&&(i=s&&'group'===t?'hide':'destroy',e[i]())}),a.hoverSeries===n&&(a.hoverSeries=null),l(a.series,n),a.orderSeries(),t(n,function(e,t){delete n[t]})},getGraphPath:function(t,i,o){var a,r,n=this,s=n.options,l=s.step,p=[],c=[];return t=t||n.points,(a=t.reversed)&&t.reverse(),(l={right:1,center:2}[l]||l&&3)&&a&&(l=4-l),!s.connectNulls||i||o||(t=this.getValidPoints(t)),w(t,function(a,e){var h=a.plotX,g=a.plotY,u=t[e-1];(a.leftCliff||u&&u.rightCliff)&&!o&&(r=!0),a.isNull&&!m(i)&&0<e?r=!s.connectNulls:a.isNull&&!i?r=!0:(0===e||r?e=['M',a.plotX,a.plotY]:n.getPointSpline?e=n.getPointSpline(t,a,e):l?(e=1===l?['L',u.plotX,g]:2===l?['L',(u.plotX+h)/2,u.plotY,'L',(u.plotX+h)/2,g]:['L',h,u.plotY],e.push('L',h,g)):e=['L',h,g],c.push(a.x),l&&c.push(a.x),p.push.apply(p,e),r=!1)}),p.xMap=c,n.graphPath=p},drawGraph:function(){var t=this,i=this.options,o=(this.gappedPath||this.getGraphPath).call(this),e=[['graph','highcharts-graph',i.lineColor||this.color,i.dashStyle]];w(this.zones,function(o,a){e.push(['zone-graph-'+a,'highcharts-graph highcharts-zone-graph-'+a+' '+(o.className||''),o.color||t.color,o.dashStyle||i.dashStyle])}),w(e,function(a,r){var n=a[0],s=t[n];s?(s.endX=t.preventGraphAnimation?null:o.xMap,s.animate({d:o})):o.length&&(t[n]=t.chart.renderer.path(o).addClass(a[1]).attr({zIndex:1}).add(t.group),s={stroke:a[2],"stroke-width":i.lineWidth,fill:t.fillGraph&&t.color||'none'},a[3]?s.dashstyle=a[3]:'square'!==i.linecap&&(s['stroke-linecap']=s['stroke-linejoin']='round'),s=t[n].attr(s).shadow(2>r&&i.shadow)),s&&(s.startX=o.xMap,s.isArea=o.isArea)})},applyZones:function(){var i,o,s,h,g,t,u,m,x,p=this,a=this.chart,f=a.renderer,d=this.zones,b=this.clips||[],e=this.graph,v=this.area,n=N(a.chartWidth,a.chartHeight),S=this[(this.zoneAxis||'y')+'Axis'],y=a.inverted,l=!1;d.length&&(e||v)&&S&&void 0!==S.min&&(g=S.reversed,t=S.horiz,e&&e.hide(),v&&v.hide(),h=S.getExtremes(),w(d,function(r,d){i=g?t?a.plotWidth:0:t?0:S.toPixels(h.min),i=Y(N(G(o,i),0),n),o=Y(N(R(S.toPixels(G(r.value,h.max),!0)),0),n),l&&(i=o=S.toPixels(h.max)),u=P(i-o),m=Y(i,o),x=N(i,o),S.isXAxis?(s={x:y?x:m,y:0,width:u,height:n},t||(s.x=a.plotHeight-s.x)):(s={x:0,y:y?x:m,width:n,height:u},t&&(s.y=a.plotWidth-s.y)),y&&f.isVML&&(s=S.isXAxis?{x:0,y:g?m:x,height:s.width,width:a.chartWidth}:{x:s.y-a.plotLeft-a.spacingBox.x,y:0,width:s.height,height:a.chartHeight}),b[d]?b[d].animate(s):(b[d]=f.clipRect(s),e&&p['zone-graph-'+d].clip(b[d]),v&&p['zone-area-'+d].clip(b[d])),l=r.value>h.max}),this.clips=b)},invertGroups:function(e){function t(){w(['group','markerGroup'],function(t){o[t]&&(a.renderer.isVML&&o[t].attr({width:o.yAxis.len,height:o.xAxis.len}),o[t].width=o.yAxis.len,o[t].height=o.xAxis.len,o[t].invert(e))})}var i,o=this,a=o.chart;o.xAxis&&(i=h(a,'resize',t),h(o,'destroy',i),t(e),o.invertGroups=t)},plotGroup:function(t,i,o,a,r){var n=this[t],s=!n;return s&&(this[t]=n=this.chart.renderer.g().attr({zIndex:a||.1}).add(r)),n.addClass('highcharts-'+i+' highcharts-series-'+this.index+' highcharts-'+this.type+'-series '+(m(this.colorIndex)?'highcharts-color-'+this.colorIndex+' ':'')+(this.options.className||'')+(n.hasClass('highcharts-tracker')?' highcharts-tracker':''),!0),n.attr({visibility:o})[s?'attr':'animate'](this.getPlotBox()),n},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var t,i=this,o=i.chart,a=i.options,r=!!i.animate&&o.renderer.isSVG&&x(a.animation).duration,e=i.visible?'inherit':'hidden',s=a.zIndex,l=i.hasRendered,d=o.seriesGroup,n=o.inverted;t=i.plotGroup('group','series',e,s,d),i.markerGroup=i.plotGroup('markerGroup','markers',e,s,d),r&&i.animate(!0),t.inverted=!!i.isCartesian&&n,i.drawGraph&&(i.drawGraph(),i.applyZones()),i.drawDataLabels&&i.drawDataLabels(),i.visible&&i.drawPoints(),i.drawTracker&&!1!==i.options.enableMouseTracking&&i.drawTracker(),i.invertGroups(n),!1===a.clip||i.sharedClipKey||l||t.clip(o.clipRect),r&&i.animate(),l||(i.animationTimeout=A(function(){i.afterAnimate()},r)),i.isDirty=!1,i.hasRendered=!0,O(i,'afterRender')},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,i=this.group,o=this.xAxis,a=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:G(o&&o.left,e.plotLeft),translateY:G(a&&a.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdAxisArray:['clientX','plotY'],searchPoint:function(e,t){var i=this.xAxis,o=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-e.chartY+i.pos:e.chartX-i.pos,plotY:a?o.len-e.chartX+o.pos:e.chartY-o.pos},t)},buildKDTree:function(){function t(o,a,r){var n,s;if(s=o&&o.length)return n=i.kdAxisArray[a%r],o.sort(function(e,t){return e[n]-t[n]}),s=M(s/2),{point:o[s],left:t(o.slice(0,s),a+1,r),right:t(o.slice(s+1),a+1,r)}}this.buildingKdTree=!0;var i=this,e=-1<i.options.findNearestPointBy.indexOf('y')?2:1;delete i.kdTree,A(function(){i.kdTree=t(i.getValidPoints(null,!i.directTouch),e,e),i.buildingKdTree=!1},i.options.kdNow?0:1)},searchKDTree:function(t,a){function r(e,t,a,c){var h,g,x=t.point,n=s.kdAxisArray[a%c],y=x;return g=m(e[l])&&m(x[l])?u(e[l]-x[l],2):null,h=m(e[d])&&m(x[d])?u(e[d]-x[d],2):null,h=(g||0)+(h||0),x.dist=m(h)?i(h):o,x.distX=m(g)?i(g):o,n=e[n]-x[n],h=0>n?'left':'right',g=0>n?'right':'left',t[h]&&(h=r(e,t[h],a+1,c),y=h[p]<y[p]?h:x),t[g]&&i(n*n)<y[p]&&(e=r(e,t[g],a+1,c),y=e[p]<y[p]?e:y),y}var s=this,l=this.kdAxisArray[0],d=this.kdAxisArray[1],p=a?'distX':'dist';if(a=-1<s.options.findNearestPointBy.indexOf('y')?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return r(t,this.kdTree,a,a)}})}(a),function(i){var e=i.Axis,t=i.Chart,o=i.correctFloat,s=i.defined,a=i.destroyObjectProperties,r=i.each,n=i.format,l=i.objectEach,w=i.pick,d=i.Series;i.StackItem=function(t,i,o,a,r){var n=t.chart.inverted;this.axis=t,this.isNegative=o,this.options=i,this.x=a,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:i.align||(n?o?'left':'right':'center'),verticalAlign:i.verticalAlign||(n?'middle':o?'bottom':'top'),y:w(i.y,n?4:o?14:-6),x:w(i.x,n?o?-6:6:0)},this.textAlign=i.textAlign||(n?o?'right':'left':'center')},i.StackItem.prototype={destroy:function(){a(this,this.axis)},render:function(t){var i=this.axis.chart,o=this.options,e=o.format,e=e?n(e,this,i.time):o.formatter.call(this);this.label?this.label.attr({text:e,visibility:'hidden'}):this.label=i.renderer.text(e,null,null,o.useHTML).css(o.style).attr({align:this.textAlign,rotation:o.rotation,visibility:'hidden'}).add(t)},setOffset:function(t,i){var o=this.axis,e=o.chart,a=o.translate(o.usePercentage?100:this.total,0,0,0,1),o=o.translate(0),o=P(a-o);t=e.xAxis[0].translate(this.x)+t,a=this.getStackBox(e,this,t,a,i,o),(i=this.label)&&(i.align(this.alignOptions,null,a),a=i.alignAttr,i[!1===this.options.crop||e.isInsidePlot(a.x,a.y)?'show':'hide'](!0))},getStackBox:function(t,i,o,a,r,s){var n=i.axis.reversed,l=t.inverted;return t=t.plotHeight,i=i.isNegative&&!n||!i.isNegative&&n,{x:l?i?a:a-s:o,y:l?t-o-r:i?t-a-s:t-a,width:l?s:r,height:l?r:s}}},t.prototype.getStacks=function(){var e=this;r(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),r(e.series,function(t){t.options.stacking&&(!0===t.visible||!1===e.options.chart.ignoreHiddenSeries)&&(t.stackKey=t.type+w(t.options.stack,''))})},e.prototype.buildStacks=function(){var e,t=this.series,i=w(this.options.reversedStacks,!0),o=t.length;if(!this.isXAxis){for(this.usePercentage=!1,e=o;e--;)t[i?e:o-e-1].setStackedPoints();for(e=0;e<o;e++)t[e].modifyStacks()}},e.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,i=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=t.g('stack-labels').attr({visibility:'visible',zIndex:6}).add()),o.translate(e.plotLeft,e.plotTop),l(i,function(e){l(e,function(e){e.render(o)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(i){l(i,function(o,a){o.touched<t.stacksTouched?(o.destroy(),delete i[a]):(o.total=null,o.cumulative=null)})})},e.prototype.cleanStacks=function(){var e;this.isXAxis||(this.oldStacks&&(e=this.stacks=this.oldStacks),l(e,function(e){l(e,function(e){e.cumulative=e.total})}))},d.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var a,r,p,d,v,S,h,x=this.processedXData,e=this.processedYData,c=[],k=e.length,b=this.options,g=b.threshold,n=w(b.startFromThreshold&&g,0),t=b.stack,b=b.stacking,f=this.stackKey,u='-'+f,l=this.negStacks,T=this.yAxis,A=T.stacks,y=T.oldStacks;for(T.stacksTouched+=1,v=0;v<k;v++)S=x[v],h=e[v],a=this.getStackIndicator(a,S,this.index),d=a.key,p=(r=l&&h<(n?0:g))?u:f,A[p]||(A[p]={}),A[p][S]||(y[p]&&y[p][S]?(A[p][S]=y[p][S],A[p][S].total=null):A[p][S]=new i.StackItem(T,T.options.stackLabels,r,S,t)),p=A[p][S],null===h?p.points[d]=p.points[this.index]=null:(p.points[d]=p.points[this.index]=[w(p.cumulative,n)],s(p.cumulative)||(p.base=d),p.touched=T.stacksTouched,0<a.index&&!1===this.singleStacks&&(p.points[d][0]=p.points[this.index+','+S+',0'][0])),'percent'===b?(r=r?f:u,l&&A[r]&&A[r][S]?(r=A[r][S],p.total=r.total=N(r.total,p.total)+P(h)||0):p.total=o(p.total+(P(h)||0))):p.total=o(p.total+(h||0)),p.cumulative=w(p.cumulative,n)+(h||0),null!==h&&(p.points[d].push(p.cumulative),c[v]=p.cumulative);'percent'===b&&(T.usePercentage=!0),this.stackedYData=c,T.oldStacks={}}},d.prototype.modifyStacks=function(){var i,o=this,e=o.stackKey,a=o.yAxis.stacks,s=o.processedXData,l=o.options.stacking;o[l+'Stacker']&&r([e,'-'+e],function(r){for(var n,e,t=s.length;t--;)(n=s[t],i=o.getStackIndicator(i,n,o.index,r),e=(n=a[r]&&a[r][n])&&n.points[i.key])&&o[l+'Stacker'](e,n,t)})},d.prototype.percentStacker=function(e,t,i){t=t.total?100/t.total:0,e[0]=o(e[0]*t),e[1]=o(e[1]*t),this.stackedYData[i]=e[1]},d.prototype.getStackIndicator=function(e,t,i,o){return!s(e)||e.x!==t||o&&e.key!==o?e={x:t,index:0,key:o}:e.index++,e.key=[i,t,e.index].join(),e}}(a),function(i){var o=i.addEvent,s=i.animate,h=i.Axis,x=i.createElement,r=i.css,m=i.defined,l=i.each,y=i.erase,p=i.extend,v=i.fireEvent,w=i.inArray,e=i.isNumber,d=i.isObject,k=i.isArray,S=i.merge,c=i.objectEach,T=i.pick,t=i.Point,a=i.Series,g=i.seriesTypes,u=i.setAnimation,n=i.splat;p(i.Chart.prototype,{addSeries:function(e,t,i){var o,r=this;return e&&(t=T(t,!0),v(r,'addSeries',{options:e},function(){o=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),t&&r.redraw(i)})),o},addAxis:function(t,i,o,a){var r=i?'xAxis':'yAxis',s=this.options;return t=S(t,{index:this[r].length,isX:i}),i=new h(this,t),s[r]=n(s[r]||{}),s[r].push(t),T(o,!0)&&this.redraw(a),i},showLoading:function(t){var i=this,a=i.options,n=i.loadingDiv,l=a.loading,d=function(){n&&r(n,{left:i.plotLeft+'px',top:i.plotTop+'px',width:i.plotWidth+'px',height:i.plotHeight+'px'})};n||(i.loadingDiv=n=x('div',{className:'highcharts-loading highcharts-loading-hidden'},null,i.container),i.loadingSpan=x('span',{className:'highcharts-loading-inner'},null,n),o(i,'redraw',d)),n.className='highcharts-loading',i.loadingSpan.innerHTML=t||a.lang.loading,r(n,p(l.style,{zIndex:10})),r(i.loadingSpan,l.labelStyle),i.loadingShown||(r(n,{opacity:0,display:''}),s(n,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,d()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&(t.className='highcharts-loading highcharts-loading-hidden',s(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){r(t,{display:'none'})}})),this.loadingShown=!1},propsRequireDirtyBox:['backgroundColor','borderColor','borderWidth','margin','marginTop','marginRight','marginBottom','marginLeft','spacing','spacingTop','spacingRight','spacingBottom','spacingLeft','borderRadius','plotBackgroundColor','plotBackgroundImage','plotBorderColor','plotBorderWidth','plotShadow','shadow'],propsRequireUpdateSeries:['chart.inverted','chart.polar','chart.ignoreHiddenSeries','chart.type','colors','plotOptions','time','tooltip'],update:function(t,i,o){var a,r,s=this,p={credits:'addCredits',title:'setTitle',subtitle:'setSubtitle'},d=t.chart,h=[];d&&(S(!0,s.options.chart,d),'className'in d&&s.setClassName(d.className),('inverted'in d||'polar'in d)&&(s.propFromSeries(),a=!0),'alignTicks'in d&&(a=!0),c(d,function(e,t){-1!==w('chart.'+t,s.propsRequireUpdateSeries)&&(r=!0),-1!==w(t,s.propsRequireDirtyBox)&&(s.isDirtyBox=!0)}),'style'in d&&s.renderer.setStyle(d.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&S(!0,this.options.plotOptions,t.plotOptions),c(t,function(e,t){s[t]&&'function'==typeof s[t].update?s[t].update(e,!1):'function'==typeof s[p[t]]&&s[p[t]](e),'chart'!==t&&-1!==w(t,s.propsRequireUpdateSeries)&&(r=!0)}),l(['xAxis','yAxis','zAxis','series','colorAxis','pane'],function(e){t[e]&&(l(n(t[e]),function(t,i){(i=m(t.id)&&s.get(t.id)||s[e][i])&&i.coll===e&&(i.update(t,!1),o&&(i.touched=!0)),!i&&o&&('series'===e?s.addSeries(t,!1).touched=!0:('xAxis'===e||'yAxis'===e)&&(s.addAxis(t,'xAxis'==e,!1).touched=!0))}),o&&l(s[e],function(e){e.touched?delete e.touched:h.push(e)}))}),l(h,function(e){e.remove(!1)}),a&&l(s.axes,function(e){e.update({},!1)}),r&&l(s.series,function(e){e.update({},!1)}),t.loading&&S(!0,s.options.loading,t.loading),a=d&&d.width,d=d&&d.height,e(a)&&a!==s.chartWidth||e(d)&&d!==s.chartHeight?s.setSize(a,d):T(i,!0)&&s.redraw()},setSubtitle:function(e){this.setTitle(void 0,e)}}),p(t.prototype,{update:function(t,i,o,r){function s(){p.applyOptions(t),null===p.y&&c&&(p.graphic=c.destroy()),d(t,!0)&&(c&&c.element&&t&&t.marker&&void 0!==t.marker.symbol&&(p.graphic=c.destroy()),t&&t.dataLabels&&p.dataLabel&&(p.dataLabel=p.dataLabel.destroy()),p.connector&&(p.connector=p.connector.destroy())),l=p.index,e.updateParallelArrays(p,l),n.data[l]=d(n.data[l],!0)||d(t,!0)?p.options:t,e.isDirty=e.isDirtyData=!0,!e.fixedBox&&e.hasCartesianSeries&&(h.isDirtyBox=!0),'point'===n.legendType&&(h.isDirtyLegend=!0),i&&h.redraw(o)}var l,p=this,e=p.series,c=p.graphic,h=e.chart,n=e.options;i=T(i,!0),!1===r?s():p.firePointEvent('update',{options:t},s)},remove:function(e,t){this.series.removePoint(w(this,this.series.data),e,t)}}),p(a.prototype,{addPoint:function(t,i,o,a){var r,n,s,l,p=this.options,d=this.data,e=this.chart,c=this.xAxis,c=c&&c.hasNames&&c.names,h=p.data,g=this.xData;if(i=T(i,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),l=r.x,s=g.length,this.requireSorting&&l<g[s-1])for(n=!0;s&&g[s-1]>l;)s--;this.updateParallelArrays(r,'splice',s,0,0),this.updateParallelArrays(r,s),c&&r.name&&(c[l]=r.name),h.splice(s,0,t),n&&(this.data.splice(s,0,null),this.processData()),'point'===p.legendType&&this.generatePoints(),o&&(d[0]&&d[0].remove?d[0].remove(!1):(d.shift(),this.updateParallelArrays(r,'shift'),h.shift())),this.isDirtyData=this.isDirty=!0,i&&e.redraw(a)},removePoint:function(t,i,o){var a=this,r=a.data,s=r[t],e=a.points,l=a.chart,d=function(){e&&e.length===r.length&&e.splice(t,1),r.splice(t,1),a.options.data.splice(t,1),a.updateParallelArrays(s||{series:a},'splice',t,1),s&&s.destroy(),a.isDirty=!0,a.isDirtyData=!0,i&&l.redraw()};u(o,l),i=T(i,!0),s?s.firePointEvent('remove',null,d):d()},remove:function(t,i,o){function a(){r.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),T(t,!0)&&n.redraw(i)}var r=this,n=r.chart;!1===o?a():v(r,'remove',null,a)},update:function(t,i){var o,r=this,a=r.chart,n=r.userOptions,s=r.oldType||r.type,e=t.type||n.type||a.options.chart.type,d=g[s].prototype,c=['group','markerGroup','dataLabelsGroup'],h=['navigatorSeries','baseSeries'],u=r.finishedAnimating&&{animation:!1};if(Object.keys&&'data'===Object.keys(t).toString())return this.setData(t.data,i);for(o in h=c.concat(h),l(h,function(e){h[e]=r[e],delete r[e]}),t=S(n,u,{index:r.index,pointStart:r.xData[0]},{data:r.options.data},t),r.remove(!1,null,!1),d)r[o]=void 0;p(r,g[e||s].prototype),l(h,function(e){r[e]=h[e]}),r.init(a,t),t.zIndex!==n.zIndex&&l(c,function(e){r[e]&&r[e].attr({zIndex:t.zIndex})}),r.oldType=s,a.linkSeries(),T(i,!0)&&a.redraw(!1)}}),p(h.prototype,{update:function(e,t){var i=this.chart;e=i.options[this.coll][this.options.index]=S(this.userOptions,e),this.destroy(!0),this.init(i,p(e,{events:void 0})),i.isDirtyBox=!0,T(t,!0)&&i.redraw()},remove:function(t){for(var i=this.chart,o=this.coll,a=this.series,e=a.length;e--;)a[e]&&a[e].remove(!1);y(i.axes,this),y(i[o],this),k(i.options[o])?i.options[o].splice(this.options.index,1):delete i.options[o],l(i[o],function(e,t){e.options.index=t}),this.destroy(),i.isDirtyBox=!0,T(t,!0)&&i.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}})}(a),function(i){var t=i.color,o=i.each,a=i.map,s=i.pick,r=i.Series,e=i.seriesType;e('area','line',{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(r){var p,t,d=[],h=[],l=this.xAxis,u=this.yAxis,m=u.stacks[this.stackKey],c={},e=this.index,x=u.series,g=x.length,n=s(u.options.reversedStacks,!0)?1:-1;if(r=r||this.points,this.options.stacking){for(t=0;t<r.length;t++)r[t].leftNull=r[t].rightNull=null,c[r[t].x]=r[t];i.objectEach(m,function(e,t){null!==e.total&&h.push(t)}),h.sort(function(e,t){return e-t}),p=a(x,function(){return this.visible}),o(h,function(i,r){var s,x,y=0;if(c[i]&&!c[i].isNull)d.push(c[i]),o([-1,1],function(o){var a=1===o?'rightNull':'leftNull',l=0,d=m[h[r+o]];if(d)for(t=e;0<=t&&t<g;)s=d.points[t],s||(t===e?c[i][a]=!0:p[t]&&(x=m[i].points[t])&&(l-=x[1]-x[0])),t+=n;c[i][1===o?'rightCliff':'leftCliff']=l});else{for(t=e;0<=t&&t<g;){if(s=m[i].points[t]){y=s[1];break}t+=n}y=u.translate(y,0,1,0,1),d.push({isNull:!0,plotX:l.translate(i,0,0,0,1),x:i,plotY:y,yBottom:y})}})}return d},getGraphPath:function(i){var o,a,p,d,h=r.prototype.getGraphPath,l=this.options,m=l.stacking,x=this.yAxis,e=[],b=[],g=this.index,n=x.stacks[this.stackKey],f=l.threshold,u=x.getThreshold(l.threshold),l=l.connectNulls||'percent'===m,y=function(o,a,r){var s=i[o];o=m&&n[s.x].points[g];var l=s[r+'Null']||0;r=s[r+'Cliff']||0;var c,h,s=!0;r||l?(c=(l?o[0]:o[1])+r,h=o[0]+r,s=!!l):!m&&i[a]&&i[a].isNull&&(c=h=f),void 0!==c&&(b.push({plotX:p,plotY:null===c?u:x.getThreshold(c),isNull:s,isCliff:!0}),e.push({plotX:p,plotY:null===h?u:x.getThreshold(h),doCurve:!1}))};for(i=i||this.points,m&&(i=this.getStackPoints(i)),o=0;o<i.length;o++)(a=i[o].isNull,p=s(i[o].rectPlotX,i[o].plotX),d=s(i[o].yBottom,u),!a||l)&&(l||y(o,o-1,'left'),a&&!m&&l||(b.push(i[o]),e.push({x:o,plotX:p,plotY:d})),l||y(o,o+1,'right'));return o=h.call(this,b,!0,!0),e.reversed=!0,a=h.call(this,e,!0,!0),a.length&&(a[0]='L'),a=o.concat(a),h=h.call(this,b,!1,l),a.xMap=o.xMap,this.areaPath=a,h},drawGraph:function(){this.areaPath=[],r.prototype.drawGraph.apply(this);var i=this,a=this.areaPath,n=this.options,d=[['area','highcharts-area',this.color,n.fillColor]];o(this.zones,function(t,e){d.push(['zone-area-'+e,'highcharts-area highcharts-zone-area-'+e+' '+t.className,t.color||i.color,t.fillColor||n.fillColor])}),o(d,function(o){var e=o[0],r=i[e];r?(r.endX=i.preventGraphAnimation?null:a.xMap,r.animate({d:a})):(r=i[e]=i.chart.renderer.path(a).addClass(o[1]).attr({fill:s(o[3],t(o[2]).setOpacity(s(n.fillOpacity,.75)).get()),zIndex:0}).add(i.group),r.isArea=!0),r.startX=a.xMap,r.shiftUnit=n.step?2:1})},drawLegendSymbol:i.LegendSymbolMixin.drawRectangle})}(a),function(e){var t=e.pick;e=e.seriesType,e('spline','line',{},{getPointSpline:function(i,o,a){var r=o.plotX,n=o.plotY,s=i[a-1];a=i[a+1];var l,d,p,h;if(s&&!s.isNull&&!1!==s.doCurve&&!o.isCliff&&a&&!a.isNull&&!1!==a.doCurve&&!o.isCliff){i=s.plotY,p=a.plotX,a=a.plotY;var e=0;l=(1.5*r+s.plotX)/2.5,d=(1.5*n+i)/2.5,p=(1.5*r+p)/2.5,h=(1.5*n+a)/2.5,p!==l&&(e=(h-d)*(p-r)/(p-l)+n-h),d+=e,h+=e,d>i&&d>n?(d=N(i,n),h=2*n-d):d<i&&d<n&&(d=Y(i,n),h=2*n-d),h>a&&h>n?(h=N(a,n),d=2*n-h):h<a&&h<n&&(h=Y(a,n),d=2*n-h),o.rightContX=p,o.rightContY=h}return o=['C',t(s.rightContX,s.plotX),t(s.rightContY,s.plotY),t(l,r),t(d,n),r,n],s.rightContX=s.rightContY=null,o}})}(a),function(e){var t=e.seriesTypes.area.prototype,i=e.seriesType;i('areaspline','spline',e.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}(a),function(e){var t=e.animObject,i=e.color,o=e.each,d=e.extend,r=e.isNumber,h=e.merge,u=e.pick,x=e.Series,a=e.seriesType,p=e.svg;a('column','line',{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:'#cccccc',borderColor:'#000000'}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:'#ffffff'},{cropShoulder:0,directTouch:!0,trackerGroups:['group','dataLabelsGroup'],negStacks:!0,init:function(){x.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&o(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var i,r=this,e=r.options,a=r.xAxis,n=r.yAxis,s=a.reversed,d={},t=0;!1===e.grouping?t=1:o(r.chart.series,function(o){var a,s=o.options,e=o.yAxis;o.type!==r.type||!o.visible&&r.chart.options.chart.ignoreHiddenSeries||n.len!==e.len||n.pos!==e.pos||(s.stacking?(i=o.stackKey,void 0===d[i]&&(d[i]=t++),a=d[i]):!1!==s.grouping&&(a=t++),o.columnIndex=a)});var p=Y(P(a.transA)*(a.ordinalSlope||e.pointRange||a.closestPointRange||a.tickInterval||1),a.len),l=p*e.groupPadding,h=(p-2*l)/(t||1),e=Y(e.maxPointWidth||a.len,u(e.pointWidth,h*(1-2*e.pointPadding)));return r.columnMetrics={width:e,offset:(h-e)/2+(l+((r.columnIndex||0)+(s?1:0))*h-p/2)*(s?-1:1)},r.columnMetrics},crispCol:function(i,o,r,s){var l=this.chart,e=this.borderWidth,n=-(e%2?.5:0),e=e%2?.5:1;return l.inverted&&l.renderer.isVML&&(e+=1),this.options.crisp&&(r=R(i+r)+n,i=R(i)+n,r-=i),s=R(o+s)+e,n=.5>=P(o)&&.5<s,o=R(o)+e,s-=o,n&&s&&(--o,s+=1),{x:i,y:o,width:r,height:s}},translate:function(){var i=this,a=i.chart,e=i.options,r=i.dense=2>i.closestPointRange*i.xAxis.transA,r=i.borderWidth=u(e.borderWidth,r?0:1),p=i.yAxis,c=e.threshold,n=i.translatedThreshold=p.getThreshold(c),t=u(e.minPointLength,5),d=i.getColumnMetrics(),g=d.width,m=i.barW=N(g,1+2*r),f=i.pointXOffset=d.offset;a.inverted&&(n-=.5),e.pointPadding&&(m=s(m)),x.prototype.translate.apply(i),o(i.points,function(o){var r,s=u(o.yBottom,n),e=999+P(s),e=Y(N(-e,o.plotY),p.len+e),x=o.plotX+f,y=m,d=Y(e,s),b=N(e,s)-d;t&&P(b)<t&&(b=t,r=!p.reversed&&!o.negative||p.reversed&&o.negative,o.y===c&&i.dataMax<=c&&p.min<c&&(r=!r),d=P(d-n)>t?s-t:n-(r?t:0)),o.barX=x,o.pointWidth=g,o.tooltipPos=a.inverted?[p.len+p.pos-a.plotLeft-e,i.xAxis.len-x-y/2,b]:[x+y/2,e+p.pos-a.plotTop,b],o.shapeType='rect',o.shapeArgs=i.crispCol.apply(i,o.isNull?[x,n,y,0]:[x,d,y,b])})},getSymbol:e.noop,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?'addClass':'removeClass']('highcharts-dense-data')},pointAttribs:function(o,a){var r,s=this.options,e=this.pointAttrToOptions||{};r=e.stroke||'borderColor';var l=e['stroke-width']||'borderWidth',n=o&&o.color||this.color,d=o&&o[r]||s[r]||this.color||n,p=o&&o[l]||s[l]||this[l]||0,e=s.dashStyle;return o&&this.zones.length&&(n=o.getZone(),n=o.options.color||n&&n.color||this.color),a&&(o=h(s.states[a],o.options.states&&o.options.states[a]||{}),a=o.brightness,n=o.color||void 0!==a&&i(n).brighten(o.brightness).get()||n,d=o[r]||d,p=o[l]||p,e=o.dashStyle||e),r={fill:n,stroke:d,"stroke-width":p},e&&(r.dashstyle=e),r},drawPoints:function(){var t,i=this,a=this.chart,n=i.options,s=a.renderer,l=n.animationLimit||250;o(i.points,function(o){var e=o.graphic;r(o.plotY)&&null!==o.y?(t=o.shapeArgs,e?e[a.pointCount<l?'animate':'attr'](h(t)):o.graphic=e=s[o.shapeType](t).add(o.group||i.group),n.borderRadius&&e.attr({r:n.borderRadius}),e.attr(i.pointAttribs(o,o.selected&&'select')).shadow(n.shadow,null,n.stacking&&!n.borderRadius),e.addClass(o.getClassName(),!0)):e&&(o.graphic=e.destroy())})},animate:function(i){var o,r=this,s=this.yAxis,e=r.options,a=this.chart.inverted,c={},n=a?'translateX':'translateY';p&&(i?(c.scaleY=.001,i=Y(s.pos+s.len,N(s.pos,s.toPixels(e.threshold))),a?c.translateX=i-s.len:c.translateY=i,r.group.attr(c)):(o=r.group.attr(n),r.group.animate({scaleY:1},d(t(r.options.animation),{step:function(e,t){c[n]=o+t.pos*(s.pos-o),r.group.attr(c)}})),r.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&o(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),x.prototype.remove.apply(e,arguments)}})}(a),function(e){e=e.seriesType,e('bar','column',null,{inverted:!0})}(a),function(e){var t=e.Series;e=e.seriesType,e('scatter','line',{lineWidth:0,findNearestPointBy:'xy',marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:'x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>'}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:['group','markerGroup','dataLabelsGroup'],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(a),function(e){var t=e.deg2rad,i=e.isNumber,o=e.pick,n=e.relativeLength;e.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,a=this.chart,r=2*(i.slicedOffset||0),s=a.plotWidth-2*r,a=a.plotHeight-2*r,l=i.center,l=[o(l[0],'50%'),o(l[1],'50%'),i.size||'100%',i.innerSize||0],d=Y(s,a);for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=n(e,[s,a,d,l[2]][t])+(i?r:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(e,o){return e=i(e)?e:0,o=i(o)&&o>e&&360>o-e?o:e+360,{start:t*(e+-90),end:t*(o+-90)}}}}(a),function(t){var i=t.addEvent,o=t.CenteredSeriesMixin,n=t.defined,s=t.each,r=t.extend,h=o.getStartAndEndRadians,d=t.inArray,a=t.noop,u=t.pick,g=t.Point,m=t.Series,e=t.seriesType,x=t.setAnimation;e('pie','line',{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:'point',marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:'#ffffff',borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:['group','dataLabelsGroup'],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var i=this,o=i.points,r=i.startAngleRad;t||(s(o,function(t){var o=t.graphic,a=t.shapeArgs;o&&(o.attr({r:t.startR||i.center[3]/2,start:r,end:r}),o.animate({r:a.r,start:a.start,end:a.end},i.options.animation))}),i.animate=null)},updateTotals:function(){var t,i,o=0,a=this.points,e=a.length,r=this.options.ignoreHiddenPoint;for(t=0;t<e;t++)i=a[t],o+=r&&!i.visible?0:i.isNull?0:i.y;for(this.total=o,t=0;t<e;t++)i=a[t],i.percentage=0<o&&(i.visible||!r)?100*(i.y/o):0,i.total=o},generatePoints:function(){m.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var i,o,a,n,s,d,p=0,g=this.options,m=g.slicedOffset,e=m+(g.borderWidth||0),x=h(g.startAngle,g.endAngle),f=this.startAngleRad=x.start,x=(this.endAngleRad=x.end)-f,y=this.points,b=g.dataLabels.distance,g=g.ignoreHiddenPoint,r=y.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,o){return a=Math.asin(Y((e-t[1])/(t[2]/2+o.labelDistance),1)),t[0]+(i?-1:1)*S(a)*(t[2]/2+o.labelDistance)},s=0;s<r;s++)d=y[s],d.labelDistance=u(d.options.dataLabels&&d.options.dataLabels.distance,b),this.maxLabelDistance=N(this.maxLabelDistance||0,d.labelDistance),i=f+p*x,(!g||d.visible)&&(p+=d.percentage/100),o=f+p*x,d.shapeType='arc',d.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:R(1E3*i)/1E3,end:R(1E3*o)/1E3},a=(o+i)/2,a>1.5*O?a-=2*O:a<-O/2&&(a+=2*O),d.slicedTranslation={translateX:R(S(a)*m),translateY:R(l(a)*m)},o=S(a)*t[2]/2,n=l(a)*t[2]/2,d.tooltipPos=[t[0]+.7*o,t[1]+.7*n],d.half=a<-O/2||a>O/2?1:0,d.angle=a,i=Y(e,d.labelDistance/5),d.labelPos=[t[0]+o+S(a)*d.labelDistance,t[1]+n+l(a)*d.labelDistance,t[0]+o+S(a)*i,t[1]+n+l(a)*i,t[0]+o,t[1]+n,0>d.labelDistance?'center':d.half?'right':'left',a]},drawGraph:null,drawPoints:function(){var t,e,i,o,n=this,a=n.chart.renderer,l=n.options.shadow;l&&!n.shadowGroup&&(n.shadowGroup=a.g('shadow').add(n.group)),s(n.points,function(s){if(e=s.graphic,s.isNull)e&&(s.graphic=e.destroy());else{o=s.shapeArgs,t=s.getTranslate();var d=s.shadowGroup;l&&!d&&(d=s.shadowGroup=a.g('shadow').add(n.shadowGroup)),d&&d.attr(t),i=n.pointAttribs(s,s.selected&&'select'),e?e.setRadialReference(n.center).attr(i).animate(r(o,t)):(s.graphic=e=a[s.shapeType](o).setRadialReference(n.center).attr(t).add(n.group),s.visible||e.attr({visibility:'hidden'}),e.attr(i).attr({"stroke-linejoin":'round'}).shadow(l,d)),e.addClass(s.getClassName())}})},searchPoint:a,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:o.getCenter,getSymbol:a},{init:function(){g.prototype.init.apply(this,arguments);var e,t=this;return t.name=u(t.name,'Slice'),e=function(e){t.slice('select'===e.type)},i(t,'select',e),i(t,'unselect',e),t},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,i){var o=this,a=o.series,e=a.chart,r=a.options.ignoreHiddenPoint;i=u(i,r),t!==o.visible&&(o.visible=o.options.visible=t=void 0===t?!o.visible:t,a.options.data[d(o,a.data)]=o.options,s(['graphic','dataLabel','connector','shadowGroup'],function(e){o[e]&&o[e][t?'show':'hide'](!0)}),o.legendItem&&e.legend.colorizeItem(o,t),t||'hover'!==o.state||o.setState(''),r&&(a.isDirty=!0),i&&e.redraw())},slice:function(t,i,o){var e=this.series;x(o,e.chart),u(i,!0),this.sliced=this.options.sliced=n(t)?t:!this.sliced,e.options.data[d(this,e.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r-1,start:t.start,end:t.end})}})}(a),function(i){var t=i.addEvent,o=i.arrayMax,a=i.defined,s=i.each,r=i.extend,x=i.format,l=i.map,w=i.merge,n=i.noop,S=i.pick,d=i.relativeLength,u=i.Series,e=i.seriesTypes,p=i.stableSort;i.distribute=function(t,i){function o(e,t){return e.target-t.target}var e,a,r=!0,n=t,d=[];for(a=0,e=t.length;e--;)a+=t[e].size;if(a>i){for(p(t,function(e,t){return(t.rank||0)-(e.rank||0)}),a=e=0;a<=i;)a+=t[e].size,e++;d=t.splice(e-1,t.length)}for(p(t,o),t=l(t,function(e){return{size:e.size,targets:[e.target],align:S(e.align,.5)}});r;){for(e=t.length;e--;)r=t[e],a=(Y.apply(0,r.targets)+N.apply(0,r.targets))/2,r.pos=Y(N(0,a-r.size*r.align),i-r.size);for(e=t.length,r=!1;e--;)0<e&&t[e-1].pos+t[e-1].size>t[e].pos&&(t[e-1].size+=t[e].size,t[e-1].targets=t[e-1].targets.concat(t[e].targets),t[e-1].align=.5,t[e-1].pos+t[e-1].size>i&&(t[e-1].pos=i-t[e-1].size),t.splice(e,1),r=!0)}e=0,s(t,function(t){var i=0;s(t.targets,function(){n[e].pos=t.pos+i,i+=n[e].size,e++})}),n.push.apply(n,d),p(n,o)},u.prototype.drawDataLabels=function(){function o(e,t){var i=t.filter;return!i||(t=i.operator,e=e[i.property],i=i.value,'>'===t&&e>i||'<'===t&&e<i||'>='===t&&e>=i||'<='===t&&e<=i||'=='===t&&e==i||'==='===t&&e===i)}var r,l,p,b,v=this,c=v.chart,e=v.options,f=e.dataLabels,n=v.points,h=v.hasRendered||0,g=S(f.defer,!!e.animation),k=c.renderer;(f.enabled||v._hasPointLabels)&&(v.dlProcessOptions&&v.dlProcessOptions(f),b=v.plotGroup('dataLabelsGroup','data-labels',g&&!h?'hidden':'visible',f.zIndex||6),g&&(b.attr({opacity:+h}),h||t(v,'afterAnimate',function(){v.visible&&b.show(!0),b[e.animation?'animate':'attr']({opacity:1},{duration:200})})),l=f,s(n,function(s){var d,n,g,y,u=s.dataLabel,A=s.connector,t=!u;r=s.dlOptions||s.options&&s.options.dataLabels,(d=S(r&&r.enabled,l.enabled)&&!s.isNull)&&(d=!0===o(s,r||f)),d&&(f=w(l,r),n=s.getLabelConfig(),y=f[s.formatPrefix+'Format']||f.format,p=a(y)?x(y,n,c.time):(f[s.formatPrefix+'Formatter']||f.formatter).call(n,f),y=f.style,n=f.rotation,y.color=S(f.color,y.color,v.color,'#000000'),'contrast'===y.color&&(s.contrastColor=k.getContrast(s.color||v.color),y.color=f.inside||0>S(s.labelDistance,f.distance)||e.stacking?s.contrastColor:'#000000'),e.cursor&&(y.cursor=e.cursor),g={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:n,padding:f.padding,zIndex:1},i.objectEach(g,function(e,t){void 0===e&&delete g[t]})),!u||d&&a(p)?d&&a(p)&&(u?g.text=p:(u=s.dataLabel=n?k.text(p,0,-9999).addClass('highcharts-data-label'):k.label(p,0,-9999,f.shape,null,null,f.useHTML,null,'data-label'),u.addClass(' highcharts-data-label-color-'+s.colorIndex+' '+(f.className||'')+(f.useHTML?'highcharts-tracker':''))),u.attr(g),u.css(y).shadow(f.shadow),u.added||u.add(b),v.alignDataLabel(s,u,f,null,t)):(s.dataLabel=u=u.destroy(),A&&(s.connector=A.destroy()))})),i.fireEvent(this,'afterDrawDataLabels')},u.prototype.alignDataLabel=function(i,o,a,s,p){var e,t=this.chart,c=t.inverted,h=S(i.dlBox&&i.dlBox.centerX,i.plotX,-9999),g=S(i.plotY,-9999),n=o.getBBox(),l=a.rotation,m=a.align,x=this.visible&&(i.series.forceDL||t.isInsidePlot(h,R(g),c)||s&&t.isInsidePlot(h,c?s.x+1:s.y+s.height-1,c)),y='justify'===S(a.overflow,'justify');x&&(e=a.style.fontSize,e=t.renderer.fontMetrics(e,o).b,s=r({x:c?this.yAxis.len-g:h,y:R(c?this.xAxis.len-h:g),width:0,height:0},s),r(a,{width:n.width,height:n.height}),l?(y=!1,h=t.renderer.rotCorr(e,l),h={x:s.x+a.x+s.width/2+h.x,y:s.y+a.y+{top:0,middle:.5,bottom:1}[a.verticalAlign]*s.height},o[p?'attr':'animate'](h).attr({align:m}),g=(l+720)%360,g=180<g&&360>g,'left'===m?h.y-=g?n.height:0:'center'===m?(h.x-=n.width/2,h.y-=n.height/2):'right'===m&&(h.x-=n.width,h.y-=g?0:n.height)):(o.align(a,null,s),h=o.alignAttr),y?i.isLabelJustified=this.justifyDataLabel(o,a,h,n,s,p):S(a.crop,!0)&&(x=t.isInsidePlot(h.x,h.y)&&t.isInsidePlot(h.x+n.width,h.y+n.height)),a.shape&&!l)&&o[p?'attr':'animate']({anchorX:c?t.plotWidth-i.plotY:i.plotX,anchorY:c?t.plotHeight-i.plotX:i.plotY}),x||(o.attr({y:-9999}),o.placed=!1)},u.prototype.justifyDataLabel=function(i,o,a,r,s,e){var d,p,t=this.chart,c=o.align,n=o.verticalAlign,l=i.box?0:i.padding||0;return d=a.x+l,0>d&&('right'===c?o.align='left':o.x=-d,p=!0),d=a.x+r.width-l,d>t.plotWidth&&('left'===c?o.align='right':o.x=t.plotWidth-d,p=!0),d=a.y+l,0>d&&('bottom'===n?o.verticalAlign='top':o.y=-d,p=!0),d=a.y+r.height-l,d>t.plotHeight&&('top'===n?o.verticalAlign='bottom':o.y=t.plotHeight-d,p=!0),p&&(i.placed=!e,i.align(o,null,s)),p},e.pie&&(e.pie.prototype.drawDataLabels=function(){var r,t,k,T,P,h,x,L,O,D,z=this,n=z.data,b=z.chart,f=z.options.dataLabels,l=S(f.connectorPadding,10),e=S(f.connectorWidth,1),B=b.plotWidth,A=b.plotHeight,y=z.center,v=y[2]/2,w=y[1],d=[[],[]],I=[0,0,0,0];z.visible&&(f.enabled||z._hasPointLabels)&&(s(n,function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:'auto'}).css({width:'auto',textOverflow:'clip'}),e.dataLabel.shortened=!1)}),u.prototype.drawDataLabels.apply(z),s(n,function(e){e.dataLabel&&e.visible&&(d[e.half].push(e),e.dataLabel._pos=null)}),s(d,function(o,d){var e,p,c,g=o.length,n=[];if(g)for(z.sortByAngle(o,d-.5),0<z.maxLabelDistance&&(e=N(0,w-v-z.maxLabelDistance),p=Y(w+v+z.maxLabelDistance,b.plotHeight),s(o,function(e){0<e.labelDistance&&e.dataLabel&&(e.top=N(0,w-v-e.labelDistance),e.bottom=Y(w+v+e.labelDistance,b.plotHeight),c=e.dataLabel.getBBox().height||21,e.positionsIndex=n.push({target:e.labelPos[1]-e.top+c/2,size:c,rank:e.y})-1)}),i.distribute(n,p+c-e)),D=0;D<g;D++)r=o[D],p=r.positionsIndex,P=r.labelPos,k=r.dataLabel,O=!1===r.visible?'hidden':'inherit',L=e=P[1],a(n[p])&&(void 0===n[p].pos?O='hidden':(h=n[p].size,L=r.top+n[p].pos)),delete r.positionIndex,x=f.justify?y[0]+(d?-1:1)*(v+r.labelDistance):z.getX(L<r.top+2||L>r.bottom-2?e:L,d,r),k._attr={visibility:O,align:P[6]},k._pos={x:x+f.x+({left:l,right:-l}[P[6]]||0),y:L+f.y-10},P.x=x,P.y=L,S(f.crop,!0)&&(T=k.getBBox().width,e=null,x-T<l?(e=R(T-x+l),I[3]=N(e,I[3])):x+T>B-l&&(e=R(x+T-B+l),I[1]=N(e,I[1])),0>L-h/2?I[0]=N(R(-L+h/2),I[0]):L+h/2>A&&(I[2]=N(R(L+h/2-A),I[2])),k.sideOverflow=e)}),0===o(I)||this.verifyDataLabelOverflow(I))&&(this.placeDataLabels(),e&&s(this.points,function(i){var o;t=i.connector,(k=i.dataLabel)&&k._pos&&i.visible&&0<i.labelDistance?(O=k._attr.visibility,(o=!t)&&(i.connector=t=b.renderer.path().addClass('highcharts-data-label-connector  highcharts-color-'+i.colorIndex).add(z.dataLabelsGroup),t.attr({"stroke-width":e,stroke:f.connectorColor||i.color||'#666666'})),t[o?'attr':'animate']({d:z.connectorPath(i.labelPos)}),t.attr('visibility',O)):t&&(i.connector=t.destroy())}))},e.pie.prototype.connectorPath=function(e){var t=e.x,i=e.y;return S(this.options.dataLabels.softConnector,!0)?['M',t+('left'===e[6]?5:-5),i,'C',t,i,2*e[2]-e[4],2*e[3]-e[5],e[2],e[3],'L',e[4],e[5]]:['M',t+('left'===e[6]?5:-5),i,'L',e[2],e[3],'L',e[4],e[5]]},e.pie.prototype.placeDataLabels=function(){s(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.sideOverflow&&(t._attr.width=t.getBBox().width-t.sideOverflow,t.css({width:t._attr.width+'px',textOverflow:'ellipsis'}),t.shortened=!0),t.attr(t._attr),t[t.moved?'animate':'attr'](e),t.moved=!0):t&&t.attr({y:-9999}))},this)},e.pie.prototype.alignDataLabel=n,e.pie.prototype.verifyDataLabelOverflow=function(e){var t,i=this.center,o=this.options,a=o.center,r=o.minSize||80,n=null!==o.size;return n||(null===a[0]?(t=N(i[2]-e[1]-e[3],r),i[0]+=(e[3]-e[1])/2):t=N(i[2]-N(e[1],e[3]),r),null===a[1]?(t=N(Y(t,i[2]-e[0]-e[2]),r),i[1]+=(e[0]-e[2])/2):t=N(Y(t,i[2]-N(e[0],e[2])),r),t<i[2]?(i[2]=t,i[3]=Y(d(o.innerSize||0,t),t),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):n=!0),n}),e.column&&(e.column.prototype.alignDataLabel=function(t,i,o,e,a){var r=this.chart.inverted,s=t.series,d=t.dlBox||t.shapeArgs,l=S(t.below,t.plotY>S(this.translatedThreshold,s.yAxis.len)),n=S(o.inside,!!this.options.stacking);d&&(e=w(d),0>e.y&&(e.height+=e.y,e.y=0),d=e.y+e.height-s.yAxis.len,0<d&&(e.height-=d),r&&(e={x:s.yAxis.len-e.y-e.height,y:s.xAxis.len-e.x-e.width,width:e.height,height:e.width}),n||(r?(e.x+=l?0:e.width,e.width=0):(e.y+=l?e.height:0,e.height=0))),o.align=S(o.align,!r||n?'center':l?'right':'left'),o.verticalAlign=S(o.verticalAlign,r||n?'middle':l?'top':'bottom'),u.prototype.alignDataLabel.call(this,t,i,o,e,a),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(a),function(e){var t=e.Chart,i=e.each,o=e.objectEach,n=e.pick;e=e.addEvent,e(t.prototype,'render',function(){var e=[];i(this.labelCollectors||[],function(t){e=e.concat(t())}),i(this.yAxis||[],function(t){t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&o(t.stacks,function(t){o(t,function(t){e.push(t.label)})})}),i(this.series||[],function(t){var o=t.options.dataLabels,a=t.dataLabelCollections||['dataLabel'];(o.enabled||t._hasPointLabels)&&!o.allowOverlap&&t.visible&&i(a,function(o){i(t.points,function(t){t[o]&&(t[o].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[o]))})})}),this.hideOverlappingLabels(e)}),t.prototype.hideOverlappingLabels=function(t){var o,a,s,d,r,e,p,c,h,g=t.length,l=function(t,i,o,a,e,r,s,l){return!(e>t+o||e+s<t||r>i+a||r+l<i)};for(a=0;a<g;a++)(o=t[a])&&(o.oldOpacity=o.opacity,o.newOpacity=1,o.width||(s=o.getBBox(),o.width=s.width,o.height=s.height));for(t.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),a=0;a<g;a++)for(s=t[a],o=a+1;o<g;++o)(d=t[o],s&&d&&s!==d&&s.placed&&d.placed&&0!==s.newOpacity&&0!==d.newOpacity&&(r=s.alignAttr,e=d.alignAttr,p=s.parentGroup,c=d.parentGroup,h=2*(s.box?0:s.padding||0),r=l(r.x+p.translateX,r.y+p.translateY,s.width-h,s.height-h,e.x+c.translateX,e.y+c.translateY,d.width-h,d.height-h)))&&((s.labelrank<d.labelrank?s:d).newOpacity=0);i(t,function(e){var t,i;e&&(i=e.newOpacity,e.oldOpacity!==i&&e.placed&&(i?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=i,e[e.isOld?'animate':'attr'](e.alignAttr,null,t)),e.isOld=!0)})}}(a),function(i){var o,s=i.addEvent,a=i.Chart,d=i.createElement,h=i.css,r=i.defaultOptions,x=i.defaultPlotOptions,y=i.each,l=i.extend,p=i.fireEvent,v=i.hasTouch,m=i.inArray,w=i.isObject,e=i.Legend,S=i.merge,T=i.pick,b=i.Point,n=i.Series,t=i.seriesTypes,A=i.svg;o=i.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart.pointer,i=function(e){var i=t.getPointFromEvent(e);void 0!==i&&(t.isDirectTouch=!0,i.onMouseOver(e))};y(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.div?e.dataLabel.div.point=e:e.dataLabel.element.point=e)}),e._hasTracking||(y(e.trackerGroups,function(o){e[o]&&(e[o].addClass('highcharts-tracker').on('mouseover',i).on('mouseout',function(e){t.onTrackerMouseOut(e)}),v&&e[o].on('touchstart',i),e.options.cursor&&e[o].css(h).css({cursor:e.options.cursor}))}),e._hasTracking=!0),p(this,'afterDrawTracker')},drawTrackerGraph:function(){var i,o=this,r=o.options,a=r.trackByArea,n=[].concat(a?o.areaPath:o.graphPath),s=n.length,e=o.chart,g=e.pointer,d=e.renderer,u=e.options.tooltip.snap,l=o.tracker,h=function(){e.hoverSeries!==o&&o.onMouseOver()},m='rgba(192,192,192,'+(A?1e-4:.002)+')';if(s&&!a)for(i=s+1;i--;)'M'===n[i]&&n.splice(i+1,0,n[i+1]-u,n[i+2],'L'),(i&&'M'===n[i]||i===s)&&n.splice(i,0,'L',n[i-2]+u,n[i-1]);l?l.attr({d:n}):o.graph&&(o.tracker=d.path(n).attr({"stroke-linejoin":'round',visibility:o.visible?'visible':'hidden',stroke:m,fill:a?m:'none',"stroke-width":o.graph.strokeWidth()+(a?0:2*u),zIndex:2}).add(o.group),y([o.tracker,o.markerGroup],function(e){e.addClass('highcharts-tracker').on('mouseover',h).on('mouseout',function(e){g.onTrackerMouseOut(e)}),r.cursor&&e.css({cursor:r.cursor}),v&&e.on('touchstart',h)})),p(this,'afterDrawTracker')}},t.column&&(t.column.prototype.drawTracker=o.drawTrackerPoint),t.pie&&(t.pie.prototype.drawTracker=o.drawTrackerPoint),t.scatter&&(t.scatter.prototype.drawTracker=o.drawTrackerPoint),l(e.prototype,{setItemEvents:function(t,i,o){var a=this,e=a.chart.renderer.boxWrapper,r='highcharts-legend-'+(t instanceof b?'point':'series')+'-active';(o?i:t.legendGroup).on('mouseover',function(){t.setState('hover'),e.addClass(r),i.css(a.options.itemHoverStyle)}).on('mouseout',function(){i.css(S(t.visible?a.itemStyle:a.itemHiddenStyle)),e.removeClass(r),t.setState()}).on('click',function(i){var o=function(){t.setVisible&&t.setVisible()};e.removeClass(r),i={browserEvent:i},t.firePointEvent?t.firePointEvent('legendItemClick',i,o):p(t,'legendItemClick',i,o)})},createCheckboxForItem:function(e){e.checkbox=d('input',{type:'checkbox',checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),s(e.checkbox,'click',function(t){p(e.series||e,'checkboxClick',{checked:t.target.checked,item:e},function(){e.select()})})}}),r.legend.itemStyle.cursor='pointer',l(a.prototype,{showResetZoom:function(){function t(){i.zoomOut()}var i=this,o=r.lang,a=i.options.chart.resetZoomButton,n=a.theme,e=n.states,s='chart'===a.relativeTo?null:'plotBox';p(this,'beforeShowResetZoom',null,function(){i.resetZoomButton=i.renderer.button(o.resetZoom,null,null,t,n,e&&e.hover).attr({align:a.position.align,title:o.resetZoomTitle}).addClass('highcharts-reset-zoom').add().align(a.position,!1,s)})},zoomOut:function(){var e=this;p(e,'selection',{resetSelection:!0},function(){e.zoom()})},zoom:function(t){var i,o,r=this.pointer,n=!1;!t||t.resetSelection?(y(this.axes,function(e){i=e.zoom()}),r.initiated=!1):y(t.xAxis.concat(t.yAxis),function(e){var t=e.axis;r[t.isXAxis?'zoomX':'zoomY']&&(i=t.zoom(e.min,e.max),t.displayBtn&&(n=!0))}),o=this.resetZoomButton,n&&!o?this.showResetZoom():!n&&w(o)&&(this.resetZoomButton=o.destroy()),i&&this.redraw(T(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,i){var o,e=this,a=e.hoverPoints;a&&y(a,function(e){e.setState()}),y('xy'===i?[1,0]:[1],function(i){i=e[i?'xAxis':'yAxis'][0];var a=i.horiz,r=t[a?'chartX':'chartY'],a=a?'mouseDownX':'mouseDownY',s=e[a],d=(i.pointRange||0)/2,p=i.getExtremes(),c=i.toValue(s-r,!0)+d,h=i.toValue(s+i.len-r,!0)-d,l=h<c,s=l?h:c,c=l?c:h,h=Y(p.dataMin,d?p.min:i.toValue(i.toPixels(p.min)-i.minPixelPadding)),d=N(p.dataMax,d?p.max:i.toValue(i.toPixels(p.max)+i.minPixelPadding)),l=h-s;0<l&&(c+=l,s=h),l=c-d,0<l&&(c=d,s-=l),i.series.length&&s!==p.min&&c!==p.max&&(i.setExtremes(s,c,!1,!1,{trigger:'pan'}),o=!0),e[a]=r}),o&&e.redraw(!1),h(e.container,{cursor:'move'})}}),l(b.prototype,{select:function(e,t){var i=this,o=i.series,a=o.chart;e=T(e,!i.selected),i.firePointEvent(e?'select':'unselect',{accumulate:t},function(){i.selected=i.options.selected=e,o.options.data[m(i,o.data)]=i.options,i.setState(e&&'select'),t||y(a.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,o.options.data[m(e,o.data)]=e.options,e.setState(''),e.firePointEvent('unselect'))})})},onMouseOver:function(e){var t=this.series.chart,i=t.pointer;e=e?i.normalize(e):i.getChartCoordinatesFromPoint(this,t.inverted),i.runPointActions(e,this)},onMouseOut:function(){var e=this.series.chart;this.firePointEvent('mouseOut'),y(e.hoverPoints||[],function(e){e.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=S(e.series.options.point,e.options).events;e.events=t,i.objectEach(t,function(t,i){s(e,i,t)}),this.hasImportedEvents=!0}},setState:function(i,o){var a,s=M(this.plotX),c=this.plotY,g=this.series,e=g.options.states[i||'normal']||{},y=x[g.type].marker&&g.options.marker,d=y&&!1===y.enabled,f=y&&y.states&&y.states[i||'normal']||{},n=!1===f.enabled,h=g.stateMarkerGraphic,m=this.marker||{},v=g.chart,t=g.halo,u=y&&g.markerAttribs;i=i||'',i===this.state&&!o||this.selected&&'select'!==i||!1===e.enabled||i&&(n||d&&!1===f.enabled)||i&&m.states&&m.states[i]&&!1===m.states[i].enabled||(u&&(a=g.markerAttribs(this,i)),this.graphic?(this.state&&this.graphic.removeClass('highcharts-point-'+this.state),i&&this.graphic.addClass('highcharts-point-'+i),this.graphic.animate(g.pointAttribs(this,i),T(v.options.chart.animation,e.animation)),a&&this.graphic.animate(a,T(v.options.chart.animation,f.animation,y.animation)),h&&h.hide()):(i&&f&&(y=m.symbol||g.symbol,h&&h.currentSymbol!==y&&(h=h.destroy()),h?h[o?'animate':'attr']({x:a.x,y:a.y}):y&&(g.stateMarkerGraphic=h=v.renderer.symbol(y,a.x,a.y,a.width,a.height).add(g.markerGroup),h.currentSymbol=y),h&&h.attr(g.pointAttribs(this,i))),h&&(h[i&&v.isInsidePlot(s,c,v.inverted)?'show':'hide'](),h.element.point=this)),(s=e.halo)&&s.size?(t||(g.halo=t=v.renderer.path().add((this.graphic||h).parentGroup)),t.show()[o?'animate':'attr']({d:this.haloPath(s.size)}),t.attr({class:'highcharts-halo highcharts-color-'+T(this.colorIndex,g.colorIndex)}),t.point=this,t.attr(l({fill:this.color||g.color,"fill-opacity":s.opacity,zIndex:-1},s.attributes))):t&&t.point&&t.point.haloPath&&t.animate({d:t.point.haloPath(0)},null,t.hide),this.state=i,p(this,'afterSetState'))},haloPath:function(e){return this.series.chart.renderer.symbols.circle(M(this.plotX)-e,this.plotY-e,2*e,2*e)}}),l(n.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&p(this,'mouseOver'),this.setState('hover'),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,o=t.hoverPoint;t.hoverSeries=null,o&&o.onMouseOut(),this&&e.events.mouseOut&&p(this,'mouseOut'),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var i=this,o=i.options,a=i.graph,r=o.states,e=o.lineWidth,o=0;if(t=t||'',i.state!==t&&(y([i.group,i.markerGroup,i.dataLabelsGroup],function(e){e&&(i.state&&e.removeClass('highcharts-series-'+i.state),t&&e.addClass('highcharts-series-'+t))}),i.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(e=r[t].lineWidth||e+(r[t].lineWidthPlus||0)),a&&!a.dashstyle))for(e={"stroke-width":e},a.animate(e,T(r[t||'normal']&&r[t||'normal'].animation,i.chart.options.chart.animation));i['zone-graph-'+o];)i['zone-graph-'+o].attr(e),o+=1},setVisible:function(t,i){var o,r=this,a=r.chart,n=r.legendItem,e=a.options.chart.ignoreHiddenSeries,s=r.visible;o=(r.visible=t=r.options.visible=r.userOptions.visible=void 0===t?!s:t)?'show':'hide',y(['group','dataLabelsGroup','markerGroup','tracker','tt'],function(e){r[e]&&r[e][o]()}),(a.hoverSeries===r||(a.hoverPoint&&a.hoverPoint.series)===r)&&r.onMouseOut(),n&&a.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&y(a.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),y(r.linkedSeries,function(e){e.setVisible(t,!1)}),e&&(a.isDirtyBox=!0),!1!==i&&a.redraw(),p(r,o)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=void 0===e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),p(this,e?'select':'unselect')},drawTracker:o.drawTrackerGraph})}(a),function(t){var e=t.Chart,i=t.each,o=t.inArray,n=t.isArray,r=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(o){var a=this.options.responsive,r=[],n=this.currentResponsive;a&&a.rules&&i(a.rules,function(e){void 0===e._id&&(e._id=t.uniqueKey()),this.matchResponsiveRule(e,r,o)},this);var e=t.merge.apply(0,t.map(r,function(e){return t.find(a.rules,function(t){return t._id===e}).chartOptions})),r=r.toString()||void 0;r!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,o),r?(this.currentResponsive={ruleIds:r,mergedOptions:e,undoOptions:this.currentOptions(e)},this.update(e,o)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(e,t){var i=e.condition;(i.callback||function(){return this.chartWidth<=a(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(i.minWidth,0)&&this.chartHeight>=a(i.minHeight,0)}).call(this)&&t.push(e._id)},e.prototype.currentOptions=function(e){function i(a,l,d,p){var c;t.objectEach(a,function(t,a){if(!p&&-1<o(a,['series','xAxis','yAxis']))for(t=s(t),d[a]=[],c=0;c<t.length;c++)l[a][c]&&(d[a][c]={},i(t[c],l[a][c],d[a][c],p+1));else r(t)?(d[a]=n(t)?[]:{},i(t,l[a]||{},d[a],p+1)):d[a]=l[a]||null})}var a={};return i(e,this.options,a,0),a}}(a),function(t){var i=t.addEvent,s=t.Axis,a=t.Chart,n=t.css,S=t.defined,h=t.each,r=t.extend,l=t.noop,d=t.pick,m=t.timeUnits,c=t.wrap;c(t.Series.prototype,'init',function(e){var t;e.apply(this,Array.prototype.slice.call(arguments,1)),(t=this.xAxis)&&t.options.ordinal&&i(this,'updatedData',function(){delete t.ordinalIndex})}),c(s.prototype,'getTimeTicks',function(i,a,e,s,g,l,b,f){var u,k,n,p,r,v=0,c={},y=[],d=-o,w=this.options.tickPixelInterval,A=this.chart.time;if(!this.options.ordinal&&!this.options.breaks||!l||3>l.length||void 0===e)return i.call(this,a,e,s,g);for(p=l.length,u=0;u<p;u++){if(r=u&&l[u-1]>s,l[u]<e&&(v=u),u===p-1||l[u+1]-l[u]>5*b||r){if(l[u]>d){for(k=i.call(this,a,l[v],l[u],g);k.length&&k[0]<=d;)k.shift();k.length&&(d=k[k.length-1]),y=y.concat(k)}v=u+1}if(r)break}if(i=k.info,f&&i.unitRange<=m.hour){for(u=y.length-1,v=1;v<u;v++)A.dateFormat('%d',y[v])!==A.dateFormat('%d',y[v-1])&&(c[y[v]]='day',n=!0);n&&(c[y[0]]='day'),i.higherRanks=c}if(y.info=i,f&&S(w)){f=A=y.length,u=[];var h;for(n=[];f--;)v=this.translate(y[f]),h&&(n[f]=h-v),u[f]=h=v;for(n.sort(),n=n[M(n.length/2)],n<.6*w&&(n=null),f=y[A-1]>s?A-1:A,h=void 0;f--;)v=u[f],s=P(h-v),h&&s<.8*w&&(null===n||s<.8*n)?(c[y[f]]&&!c[y[f+1]]?(s=f+1,h=v):s=f,y.splice(s,1)):h=v}return y}),r(s.prototype,{beforeSetTickPositions:function(){var i,a,r,s=[],e=!1,l=this.getExtremes(),n=l.min,t=l.max,u=this.isXAxis&&!!this.options.breaks,l=this.options.ordinal,p=o,m=this.chart.options.chart.ignoreHiddenSeries;if(a='highcharts-navigator-xaxis'===this.options.className,this.options.overscroll&&this.max===this.dataMax&&(!this.chart.mouseIsDown||a)&&(!this.eventArgs||this.eventArgs&&'navigator'!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!a&&S(this.userMin)&&(this.min+=this.options.overscroll)),l||u){if(h(this.series,function(e,t){if((!m||!1!==e.visible)&&(!1!==e.takeOrdinalPosition||u)&&(s=s.concat(e.processedXData),i=s.length,s.sort(function(e,t){return e-t}),p=Y(p,d(e.closestPointRange,p)),i))for(t=i-1;t--;)s[t]===s[t+1]&&s.splice(t,1)}),i=s.length,2<i){for(a=s[1]-s[0],r=i-1;r--&&!e;)s[r+1]-s[r]!==a&&(e=!0);!this.options.keepOrdinalPadding&&(s[0]-n>a||t-s[s.length-1]>a)&&(e=!0)}else this.options.overscroll&&(2===i?p=s[1]-s[0]:1===i?(p=this.options.overscroll,s=[s[0],s[0]+p]):p=this.overscrollPointsRange);e?(this.options.overscroll&&(this.overscrollPointsRange=p,s=s.concat(this.getOverscrollPositions())),this.ordinalPositions=s,a=this.ordinal2lin(N(n,s[0]),!0),r=N(this.ordinal2lin(Y(t,s[s.length-1]),!0),1),this.ordinalSlope=t=(t-n)/(r-a),this.ordinalOffset=n-a*t):(this.overscrollPointsRange=d(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=l&&e,this.groupIntervalFactor=null},val2lin:function(t,i){var e=this.ordinalPositions;if(e){var o,a,r=e.length;for(o=r;o--;)if(e[o]===t){a=o;break}for(o=r-1;o--;)if(t>e[o]||0===o){t=(t-e[o])/(e[o+1]-e[o]),a=o+t;break}i=i?a:this.ordinalSlope*(a||0)+this.ordinalOffset}else i=t;return i},lin2val:function(t,i){var e=this.ordinalPositions;if(e){var o,a=this.ordinalSlope,r=this.ordinalOffset,n=e.length-1;if(i)0>t?t=e[0]:t>n?t=e[n]:(n=M(t),o=t-n);else for(;n--;)if(i=a*n+r,t>=i){a=a*(n+1)+r,o=(t-i)/(a-i);break}return void 0!==o&&void 0!==e[n]?e[n]+(o?o*(e[n+1]-e[n]):0):t}return t},getExtendedPositions:function(){var t,i,o=this,a=o.chart,r=o.series[0].currentDataGrouping,d=o.ordinalIndex,c=r?r.count+r.unitName:'raw',n=o.options.overscroll,g=o.getExtremes();return d||(d=o.ordinalIndex={}),d[c]||(t={series:[],chart:a,getExtremes:function(){return{min:g.dataMin,max:g.dataMax+n}},options:{ordinal:!0},val2lin:s.prototype.val2lin,ordinal2lin:s.prototype.ordinal2lin},h(o.series,function(n){i={xAxis:t,xData:n.xData.slice(),chart:a,destroyGroupedData:l},i.xData=i.xData.concat(o.getOverscrollPositions()),i.options={dataGrouping:r?{enabled:!0,forced:!0,approximation:'open',units:[[r.unitName,[r.count]]]}:{enabled:!1}},n.processData.apply(i),t.series.push(i)}),o.beforeSetTickPositions.apply(t),d[c]=t.ordinalPositions),d[c]},getOverscrollPositions:function(){var i=this.options.overscroll,o=this.overscrollPointsRange,e=[],a=this.dataMax;if(t.defined(o))for(e.push(a);a<=this.dataMax+i;)a+=o,e.push(a);return e},getGroupIntervalFactor:function(t,i,e){var o;e=e.processedXData;var a=e.length,r=[];if(o=this.groupIntervalFactor,!o){for(o=0;o<a-1;o++)r[o]=e[o+1]-e[o];r.sort(function(e,t){return e-t}),r=r[M(a/2)],t=N(t,e[0]),i=Y(i,e[a-1]),this.groupIntervalFactor=o=a*r/(i-t)}return o},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange||e:e/(t/this.closestPointRange):e}}),s.prototype.ordinal2lin=s.prototype.val2lin,c(a.prototype,'pan',function(t,i){var e=this.xAxis[0],o=e.options.overscroll,a=i.chartX,r=!1;if(e.options.ordinal&&e.series.length){var s,l=this.mouseDownX,d=e.getExtremes(),c=d.dataMax,p=d.min,g=d.max,u=this.hoverPoints,m=e.closestPointRange||e.overscrollPointsRange,l=(l-a)/(e.translationSlope*(e.ordinalSlope||m)),x={ordinalPositions:e.getExtendedPositions()},m=e.lin2val,y=e.val2lin;x.ordinalPositions?1<P(l)&&(u&&h(u,function(e){e.setState()}),0>l?(u=x,s=e.ordinalPositions?e:x):(u=e.ordinalPositions?e:x,s=x),x=s.ordinalPositions,c>x[x.length-1]&&x.push(c),this.fixedRange=g-p,l=e.toFixedRange(null,null,m.apply(u,[y.apply(u,[p,!0])+l,!0]),m.apply(s,[y.apply(s,[g,!0])+l,!0])),l.min>=Y(d.dataMin,p)&&l.max<=N(c,g)+o&&e.setExtremes(l.min,l.max,!0,!1,{trigger:'pan'}),this.mouseDownX=a,n(this.container,{cursor:'move'})):r=!0}else r=!0;r&&(o&&(e.max=e.dataMax+o),t.apply(this,Array.prototype.slice.call(arguments,1)))})}(a),function(t){function i(){return Array.prototype.slice.call(arguments,1)}function e(e){e.apply(this),this.drawBreaks(this.xAxis,['x']),this.drawBreaks(this.yAxis,o(this.pointArrayMap,['y']))}var o=t.pick,a=t.wrap,n=t.each,r=t.extend,s=t.isArray,d=t.fireEvent,p=t.Axis,l=t.Series;r(p.prototype,{isInBreak:function(t,i){var o=t.repeat||Infinity,e=t.from,a=t.to-t.from;return i=i>=e?(i-e)%o:o-(e-i)%o,t.inclusive?i<=a:i<a&&0!==i},isInAnyBreak:function(t,i){var a,r,n,s=this.options.breaks,e=s&&s.length;if(e){for(;e--;)this.isInBreak(s[e],t)&&(a=!0,r||(r=o(s[e].showPoints,!this.isXAxis)));n=a&&i?a&&!r:a}return n}}),a(p.prototype,'setTickPositions',function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var i,o=this.tickPositions,a=this.tickPositions.info,e=[];for(i=0;i<o.length;i++)this.isInAnyBreak(o[i])||e.push(o[i]);this.tickPositions=e,this.tickPositions.info=a}}),a(p.prototype,'init',function(e,t,i){var h=this;i.breaks&&i.breaks.length&&(i.ordinal=!1),e.call(this,t,i),e=this.options.breaks,h.isBroken=s(e)&&!!e.length,h.isBroken&&(h.val2lin=function(t){var i,e,o=t;for(e=0;e<h.breakArray.length;e++)if(i=h.breakArray[e],i.to<=t)o-=i.len;else if(i.from>=t)break;else if(h.isInBreak(i,t)){o-=t-i.from;break}return o},h.lin2val=function(t){var i,o;for(o=0;o<h.breakArray.length&&(i=h.breakArray[o],!(i.from>=t));o++)i.to<t?t+=i.len:h.isInBreak(i,t)&&(t+=i.len);return t},h.setExtremes=function(t,i,o,a,r){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(i);)i-=this.closestPointRange;p.prototype.setExtremes.call(this,t,i,o,a,r)},h.setAxisTranslation=function(t){p.prototype.setAxisTranslation.call(this,t),t=h.options.breaks;var i,s,g,u,m=[],c=[],e=0,x=h.userMin||h.min,l=h.userMax||h.max,a=o(h.pointRangePadding,0);n(t,function(e){s=e.repeat||Infinity,h.isInBreak(e,x)&&(x+=e.to%s-x%s),h.isInBreak(e,l)&&(l-=l%s-e.from%s)}),n(t,function(e){for(g=e.from,s=e.repeat||Infinity;g-s>x;)g-=s;for(;g<x;)g+=s;for(u=g;u<l;u+=s)m.push({value:u,move:'in'}),m.push({value:u+(e.to-e.from),move:'out',size:e.breakSize})}),m.sort(function(e,t){return e.value===t.value?('in'===e.move?0:1)-('in'===t.move?0:1):e.value-t.value}),i=0,g=x,n(m,function(t){i+='in'===t.move?1:-1,1===i&&'in'===t.move&&(g=t.value),0===i&&(c.push({from:g,to:t.value,len:t.value-g-(t.size||0)}),e+=t.value-g-(t.size||0))}),h.breakArray=c,h.unitLength=l-x-e+a,d(h,'afterBreaks'),h.options.staticScale?h.transA=h.options.staticScale:h.unitLength&&(h.transA*=(l-h.min+a)/h.unitLength),a&&(h.minPixelPadding=h.transA*h.minPointOffset),h.min=x,h.max=l})}),a(l.prototype,'generatePoints',function(t){t.apply(this,i(arguments));var o,a,r=this.xAxis,n=this.yAxis,e=this.points,s=e.length,l=this.options.connectNulls;if(r&&n&&(r.options.breaks||n.options.breaks))for(;s--;)o=e[s],a=null===o.y&&!1===l,!a&&(r.isInAnyBreak(o.x,!0)||n.isInAnyBreak(o.y,!0))&&(e.splice(s,1),this.data[s]&&this.data[s].destroyElements())}),t.Series.prototype.drawBreaks=function(i,a){var r,s,l,t,p=this,e=p.points;i&&n(a,function(a){r=i.breakArray||[],s=i.isXAxis?i.min:o(p.options.threshold,i.min),n(e,function(e){t=o(e['stack'+a.toUpperCase()],e[a]),n(r,function(o){l=!1,s<o.from&&t>o.to||s>o.from&&t<o.from?l='pointBreak':(s<o.from&&t>o.from&&t<o.to||s>o.from&&t>o.to&&t<o.from)&&(l='pointInBreak'),l&&d(i,l,{point:e,brk:o})})})})},t.Series.prototype.gappedPath=function(){var i=this.currentDataGrouping,e=i&&i.totalRange,i=this.options.gapSize,o=this.points.slice(),a=o.length-1,r=this.yAxis;if(i&&0<a)for('value'!==this.options.gapUnit&&(i*=this.closestPointRange),e&&e>i&&(i=e);a--;)o[a+1].x-o[a].x>i&&(e=(o[a].x+o[a+1].x)/2,o.splice(a+1,0,{isNull:!0,x:e}),this.options.stacking&&(e=r.stacks[this.stackKey][e]=new t.StackItem(r,r.options.stackLabels,!1,e,this.stack),e.total=0));return this.getGraphPath(o)},a(t.seriesTypes.column.prototype,'drawPoints',e),a(t.Series.prototype,'drawPoints',e)}(a),function(i){var o=i.arrayMax,s=i.arrayMin,d=i.Axis,h=i.defaultPlotOptions,r=i.defined,m=i.each,x=i.extend,y=i.format,p=i.isNumber,l=i.merge,v=i.pick,e=i.Point,a=i.Tooltip,c=i.wrap,w=i.Series.prototype,g=w.processData,n=w.generatePoints,S={approximation:'average',groupPixelWidth:2,dateTimeLabelFormats:{millisecond:['%A, %b %e, %H:%M:%S.%L','%A, %b %e, %H:%M:%S.%L','-%H:%M:%S.%L'],second:['%A, %b %e, %H:%M:%S','%A, %b %e, %H:%M:%S','-%H:%M:%S'],minute:['%A, %b %e, %H:%M','%A, %b %e, %H:%M','-%H:%M'],hour:['%A, %b %e, %H:%M','%A, %b %e, %H:%M','-%H:%M'],day:['%A, %b %e, %Y','%A, %b %e','-%A, %b %e, %Y'],week:['Week from %A, %b %e, %Y','%A, %b %e','-%A, %b %e, %Y'],month:['%B %Y','%B','-%B %Y'],year:['%Y','%Y','-%Y']}},f={line:{},spline:{},area:{},areaspline:{},column:{approximation:'sum',groupPixelWidth:10},arearange:{approximation:'range'},areasplinerange:{approximation:'range'},columnrange:{approximation:'range',groupPixelWidth:10},candlestick:{approximation:'ohlc',groupPixelWidth:10},ohlc:{approximation:'ohlc',groupPixelWidth:5}},A=i.defaultDataGroupingUnits=[['millisecond',[1,2,5,10,20,25,50,100,200,500]],['second',[1,2,5,10,15,30]],['minute',[1,2,5,10,15,30]],['hour',[1,2,3,4,6,8,12]],['day',[1]],['week',[1]],['month',[1,3,6]],['year',null]],u=i.approximations={sum:function(e){var t,i=e.length;if(!i&&e.hasNulls)t=null;else if(i)for(t=0;i--;)t+=e[i];return t},average:function(e){var t=e.length;return e=u.sum(e),p(e)&&t&&(e/=t),e},averages:function(){var e=[];return m(arguments,function(t){e.push(u.average(t))}),void 0===e[0]?void 0:e},open:function(e){return e.length?e[0]:e.hasNulls?null:void 0},high:function(e){return e.length?o(e):e.hasNulls?null:void 0},low:function(e){return e.length?s(e):e.hasNulls?null:void 0},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:void 0},ohlc:function(e,t,i,o){if(e=u.open(e),t=u.high(t),i=u.low(i),o=u.close(o),p(e)||p(t)||p(i)||p(o))return[e,t,i,o]},range:function(e,t){return e=u.low(e),t=u.high(t),p(e)||p(t)?[e,t]:null===e&&null===t?null:void 0}};w.groupData=function(i,o,a,s){var l,c,x=this.data,g=this.options.data,d=[],v=[],k=[],h=i.length,n=[];s='function'==typeof s?s:u[s]||f[this.type]&&u[f[this.type].approximation]||u[S.approximation];var t=this.pointArrayMap,r=t&&t.length,A=0;c=0;var w,T;for(r?m(t,function(){n.push([])}):n.push([]),w=r||1,T=0;T<=h&&!(i[T]>=a[0]);T++);for(T;T<=h;T++){for(;void 0!==a[A+1]&&i[T]>=a[A+1]||T===h;){for(l=a[A],this.dataGroupInfo={start:c,length:n[0].length},c=s.apply(this,n),void 0!==c&&(d.push(l),v.push(c),k.push(this.dataGroupInfo)),c=T,l=0;l<w;l++)n[l].length=0,n[l].hasNulls=!1;if(A+=1,T===h)break}if(T===h)break;if(t){l=this.cropStart+T;var P,C=x&&x[l]||this.pointClass.prototype.applyOptions.apply({series:this},[g[l]]);for(l=0;l<r;l++)P=C[t[l]],p(P)?n[l].push(P):null===P&&(n[l].hasNulls=!0)}else l=!!o?o[T]:null,p(l)?n[0].push(l):null===l&&(n[0].hasNulls=!0)}return[d,v,k]},w.processData=function(){var e,i,o=this.chart,a=this.options.dataGrouping,n=!1!==this.allowDG&&a&&v(a.enabled,o.options.isStock),s=this.visible||!o.options.chart.ignoreHiddenSeries,l=this.currentDataGrouping;if(this.forceCrop=n,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==g.apply(this,arguments)&&n){this.destroyGroupedData();var d=this.processedXData,c=this.processedYData,h=o.plotSizeX,o=this.xAxis,u=o.options.ordinal,p=this.groupPixelWidth=o.getGroupPixelWidth&&o.getGroupPixelWidth();if(p){if(this.isDirty=e=!0,this.points=null,n=o.getExtremes(),i=n.min,n=n.max,u=u&&o.getGroupIntervalFactor(i,n,this)||1,p=p*(n-i)/h*u,h=o.getTimeTicks(o.normalizeTimeTickInterval(p,a.units||A),Y(i,d[0]),N(n,d[d.length-1]),o.options.startOfWeek,d,this.closestPointRange),d=w.groupData.apply(this,[d,c,h,a.approximation]),c=d[0],u=d[1],a.smoothed&&c.length){for(a=c.length-1,c[a]=Y(c[a],n);a--&&0<a;)c[a]+=p/2;c[0]=N(c[0],i)}i=h.info,this.closestPointRange=h.info.totalRange,this.groupMap=d[2],r(c[0])&&c[0]<o.dataMin&&s&&(o.min===o.dataMin&&(o.min=c[0]),o.dataMin=c[0]),this.processedXData=c,this.processedYData=u}else this.groupMap=null;this.hasGroupedData=e,this.currentDataGrouping=i,this.preventGraphAnimation=(l&&l.totalRange)!==(i&&i.totalRange)}},w.destroyGroupedData=function(){var e=this.groupedData;m(e||[],function(t,i){t&&(e[i]=t.destroy?t.destroy():null)}),this.groupedData=null},w.generatePoints=function(){n.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},i.addEvent(e.prototype,'update',function(){if(this.dataGroup)return i.error(24),!1}),c(a.prototype,'tooltipFooterHeaderFormatter',function(t,i,o){var a,r=this.chart.time,n=i.series,s=n.tooltipOptions,d=n.options.dataGrouping,c=s.xDateFormat,h=n.xAxis;return h&&'datetime'===h.options.type&&d&&p(i.key)?(t=n.currentDataGrouping,d=d.dateTimeLabelFormats,t?(h=d[t.unitName],1===t.count?c=h[0]:(c=h[1],a=h[2])):!c&&d&&(c=this.getXDateFormat(i,s,h)),c=r.dateFormat(c,i.key),a&&(c+=r.dateFormat(a,i.key+t.totalRange-1)),y(s[(o?'footer':'header')+'Format'],{point:x(i.point,{key:c}),series:n},r)):t.call(this,i,o)}),i.addEvent(w,'destroy',w.destroyGroupedData),c(w,'setOptions',function(t,i){t=t.call(this,i);var o=this.type,a=this.chart.options.plotOptions,e=h[o].dataGrouping;return f[o]&&(e||(e=l(S,f[o])),t.dataGrouping=l(e,a.series&&a.series.dataGrouping,a[o].dataGrouping,i.dataGrouping)),this.chart.options.isStock&&(this.requireSorting=!0),t}),i.addEvent(d.prototype,'afterSetScale',function(){m(this.series,function(e){e.hasProcessed=!1})}),d.prototype.getGroupPixelWidth=function(){var t,i,o=this.series,a=o.length,r=0,n=!1;for(t=a;t--;)(i=o[t].options.dataGrouping)&&(r=N(r,i.groupPixelWidth));for(t=a;t--;)(i=o[t].options.dataGrouping)&&o[t].hasProcessed&&(a=(o[t].processedXData||o[t].data).length,o[t].groupPixelWidth||a>this.chart.plotSizeX/r||a&&i.forced)&&(n=!0);return n?r:0},d.prototype.setDataGrouping=function(e,t){var i;if(t=v(t,!0),e||(e={forced:!1,units:null}),this instanceof d)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else m(this.chart.options.series,function(t){t.dataGrouping=e},!1);t&&this.chart.redraw()}}(a),function(e){var t=e.each,i=e.Point,o=e.seriesType,n=e.seriesTypes;o('ohlc','column',{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:['open','high','low','close'],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:'close',pointAttrToOptions:{stroke:'color',"stroke-width":'lineWidth'},pointAttribs:function(e,t){t=n.column.prototype.pointAttribs.call(this,e,t);var i=this.options;return delete t.fill,!e.options.color&&i.upColor&&e.open<e.close&&(t.stroke=i.upColor),t},translate:function(){var i=this,o=i.yAxis,a=!!i.modifyValue,s=['plotOpen','plotHigh','plotLow','plotClose','yBottom'];n.column.prototype.translate.apply(i),t(i.points,function(n){t([n.open,n.high,n.low,n.close,n.low],function(t,r){null!==t&&(a&&(t=i.modifyValue(t)),n[s[r]]=o.toPixels(t,!0))}),n.tooltipPos[1]=n.plotHigh+o.pos-i.chart.plotTop})},drawPoints:function(){var i=this,o=i.chart;t(i.points,function(t){var a,n,r,s,l,d=t.graphic,p=!d;void 0!==t.plotY&&(d||(t.graphic=d=o.renderer.path().add(i.group)),d.attr(i.pointAttribs(t,t.selected&&'select')),n=d.strokeWidth()%2/2,l=R(t.plotX)-n,r=R(t.shapeArgs.width/2),s=['M',l,R(t.yBottom),'L',l,R(t.plotHigh)],null!==t.open&&(a=R(t.plotOpen)+n,s.push('M',l,a,'L',l-r,a)),null!==t.close&&(a=R(t.plotClose)+n,s.push('M',l,a,'L',l+r,a)),d[p?'attr':'animate']({d:s}).addClass(t.getClassName(),!0))})},animate:null},{getClassName:function(){return i.prototype.getClassName.call(this)+(this.open<this.close?' highcharts-point-up':' highcharts-point-down')}})}(a),function(e){var t=e.defaultPlotOptions,i=e.each,o=e.merge,a=e.seriesType,n=e.seriesTypes;a('candlestick','ohlc',o(t.column,{states:{hover:{lineWidth:2}},tooltip:t.ohlc.tooltip,threshold:null,lineColor:'#000000',lineWidth:1,upColor:'#ffffff',stickyTracking:!0}),{pointAttribs:function(t,i){var o=n.column.prototype.pointAttribs.call(this,t,i),a=this.options,r=t.open<t.close,s=a.lineColor||this.color;return o['stroke-width']=a.lineWidth,o.fill=t.options.color||(r?a.upColor||this.color:this.color),o.stroke=t.lineColor||(r?a.upLineColor||s:s),i&&(t=a.states[i],o.fill=t.color||o.fill,o.stroke=t.lineColor||o.stroke,o['stroke-width']=t.lineWidth||o['stroke-width']),o},drawPoints:function(){var o=this,a=o.chart;i(o.points,function(i){var s,r,e,l,d,c,h,n=i.graphic,g=!n;void 0!==i.plotY&&(n||(i.graphic=n=a.renderer.path().add(o.group)),n.attr(o.pointAttribs(i,i.selected&&'select')).shadow(o.options.shadow),d=n.strokeWidth()%2/2,c=R(i.plotX)-d,s=i.plotOpen,r=i.plotClose,e=Y(s,r),s=N(s,r),h=R(i.shapeArgs.width/2),r=R(e)!==R(i.plotHigh),l=s!==i.yBottom,e=R(e)+d,s=R(s)+d,d=[],d.push('M',c-h,s,'L',c-h,e,'L',c+h,e,'L',c+h,s,'Z','M',c,e,'L',c,r?R(i.plotHigh):e,'M',c,s,'L',c,l?R(i.yBottom):s),n[g?'attr':'animate']({d:d}).addClass(i.getClassName(),!0))})}})}(a),n=function(e){var i=e.each,o=e.seriesTypes,r=e.stableSort;return{getPlotBox:function(){return e.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){o.column.prototype.translate.apply(this);var s,d,p=this.options,h=this.chart,m=this.points,a=m.length-1,l=p.onSeries;s=l&&h.get(l);var x,n,t,y,p=p.onKey||'y',l=s&&s.options.step,u=s&&s.points,e=u&&u.length,v=this.xAxis,k=this.yAxis,b=0;if(s&&s.visible&&e)for(b=(s.pointXOffset||0)+(s.barW||0)/2,s=s.currentDataGrouping,n=u[e-1].x+(s?s.totalRange:0),r(m,function(e,t){return e.x-t.x}),p='plot'+p[0].toUpperCase()+p.substr(1);e--&&m[a]&&(x=u[e],s=m[a],s.y=x.y,!(x.x<=s.x&&void 0!==x[p]&&(s.x<=n&&(s.plotY=x[p],x.x<s.x&&!l&&(t=u[e+1])&&void 0!==t[p]&&(y=(s.x-x.x)/(t.x-x.x),s.plotY+=y*(t[p]-x[p]),s.y+=y*(t.y-x.y))),a--,e++,0>a))););i(m,function(e,t){var i;e.plotX+=b,void 0===e.plotY&&(0<=e.plotX&&e.plotX<=v.len?e.plotY=h.chartHeight-v.bottom-(v.opposite?v.height:0)+v.offset-k.top:e.shapeArgs={}),(d=m[t-1])&&d.plotX===e.plotX&&(void 0===d.stackIndex&&(d.stackIndex=0),i=d.stackIndex+1),e.stackIndex=i})}}}(a),function(i,t){function o(e){u[e+'pin']=function(t,i,o,a,r){var n=r&&r.anchorX;return r=r&&r.anchorY,'circle'===e&&a>o&&(t-=R((a-o)/2),o=a),t=u[e](t,i,o,a),n&&r&&(t.push('M','circle'===e?t[1]-t[4]:t[1]+t[4]/2,i>r?i:i+a,'L',n,r),t=t.concat(u.circle(n-1,r-1,2,2))),t}}var n=i.addEvent,s=i.each,a=i.merge,r=i.noop,d=i.Renderer,c=i.seriesType,p=i.TrackerMixin,h=i.VMLRenderer,u=i.SVGRenderer.prototype.symbols;c('flags','column',{pointRange:0,allowOverlapX:!1,shape:'flag',stackDistance:12,textAlign:'center',tooltip:{pointFormat:'{point.text}<br/>'},threshold:null,y:-30,fillColor:'#ffffff',lineWidth:1,states:{hover:{lineColor:'#000000',fillColor:'#ccd6eb'}},style:{fontSize:'11px',fontWeight:'bold'}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:['markerGroup'],forceCrop:!0,init:i.Series.prototype.init,pointAttribs:function(t,i){var e=this.options,o=t&&t.color||this.color,a=e.lineColor,r=t&&t.lineWidth;return t=t&&t.fillColor||e.fillColor,i&&(t=e.states[i].fillColor,a=e.states[i].lineColor,r=e.states[i].lineWidth),{fill:t||o,stroke:a||o,"stroke-width":r||e.lineWidth||0}},translate:t.translate,getPlotBox:t.getPlotBox,drawPoints:function(){var o,r,n,h,p,u,m,x,k=this.points,c=this.chart,e=c.renderer,b=this.options,t=b.y,f=this.yAxis,w={},S=[];for(h=k.length;h--;)p=k[h],x=p.plotX>this.xAxis.len,o=p.plotX,u=p.stackIndex,n=p.options.shape||b.shape,r=p.plotY,void 0!==r&&(r=p.plotY+t-(void 0!==u&&u*b.stackDistance)),p.anchorX=u?void 0:p.plotX,m=u?void 0:p.plotY,u=p.graphic,void 0!==r&&0<=o&&!x?(u||(u=p.graphic=e.label('',null,null,n,null,null,b.useHTML).attr(this.pointAttribs(p)).css(a(b.style,p.style)).attr({align:'flag'===n?'left':'center',width:b.width,height:b.height,"text-align":b.textAlign}).addClass('highcharts-point').add(this.markerGroup),p.graphic.div&&(p.graphic.div.point=p),u.shadow(b.shadow),u.isNew=!0),0<o&&(o-=u.strokeWidth()%2),n={y:r,anchorY:m},b.allowOverlapX&&(n.x=o,n.anchorX=p.anchorX),u.attr({text:p.options.title||b.title||'A'})[u.isNew?'attr':'animate'](n),b.allowOverlapX||(w[p.plotX]?w[p.plotX].size=N(w[p.plotX].size,u.width):w[p.plotX]={align:0,size:u.width,target:o,anchorX:o}),p.tooltipPos=c.inverted?[f.len+f.pos-c.plotLeft-r,this.xAxis.len-o]:[o,r+f.pos-c.plotTop]):u&&(p.graphic=u.destroy());b.allowOverlapX||(i.objectEach(w,function(e){e.plotX=e.anchorX,S.push(e)}),i.distribute(S,this.xAxis.len),s(k,function(e){var t=e.graphic&&w[e.plotX];t&&(e.graphic[e.graphic.isNew?'attr':'animate']({x:t.pos,anchorX:e.anchorX}),e.graphic.isNew=!1)})),b.useHTML&&i.wrap(this.markerGroup,'on',function(e){return i.SVGElement.prototype.on.apply(e.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var e=this.points;p.drawTrackerPoint.apply(this),s(e,function(t){var i=t.graphic;i&&n(i.element,'mouseover',function(){0<t.stackIndex&&!t.raised&&(t._y=i.y,i.attr({y:t._y-8}),t.raised=!0),s(e,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:r,buildKDTree:r,setClip:r}),u.flag=function(e,t,i,o,a){var r=a&&a.anchorX||e;return a=a&&a.anchorY||t,u.circle(r-1,a-1,2,2).concat(['M',r,a,'L',e,t+o,e,t,e+i,t,e+i,t+o,e,t+o,'Z'])},o('circle'),o('square'),d===h&&s(['flag','circlepin','squarepin'],function(e){h.prototype.symbols[e]=u[e]})}(a,n),function(i){function o(e,t,i){this.init(e,t,i)}var d,n=i.addEvent,a=i.Axis,h=i.correctFloat,r=i.defaultOptions,u=i.defined,l=i.destroyObjectProperties,m=i.each,p=i.fireEvent,x=i.hasTouch,y=i.isTouchDevice,f=i.merge,v=i.pick,c=i.removeEvent,b=i.wrap,g={height:y?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:i.svg&&!y,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:'#cccccc',barBorderWidth:1,barBorderColor:'#cccccc',buttonArrowColor:'#333333',buttonBackgroundColor:'#e6e6e6',buttonBorderColor:'#cccccc',buttonBorderWidth:1,rifleColor:'#333333',trackBackgroundColor:'#f2f2f2',trackBorderColor:'#f2f2f2',trackBorderWidth:1};r.scrollbar=f(!0,g,r.scrollbar),i.swapXY=d=function(e,t){var i,o=e.length;if(t)for(t=0;t<o;t+=3)i=e[t+1],e[t+1]=e[t+2],e[t+2]=i;return e},o.prototype={init:function(t,i,o){this.scrollbarButtons=[],this.renderer=t,this.userOptions=i,this.options=f(g,i),this.chart=o,this.size=v(this.options.size,this.options.height),i.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,e=this.renderer,i=this.options,o=this.size;this.group=t=e.g('scrollbar').attr({zIndex:i.zIndex,translateY:-99999}).add(),this.track=e.rect().addClass('highcharts-scrollbar-track').attr({x:0,r:i.trackBorderRadius||0,height:o,width:o}).add(t),this.track.attr({fill:i.trackBackgroundColor,stroke:i.trackBorderColor,"stroke-width":i.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=e.g().add(t),this.scrollbar=e.rect().addClass('highcharts-scrollbar-thumb').attr({height:o,width:o,r:i.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=e.path(d(['M',-3,o/4,'L',-3,2*o/3,'M',0,o/4,'L',0,2*o/3,'M',3,o/4,'L',3,2*o/3],i.vertical)).addClass('highcharts-scrollbar-rifles').add(this.scrollbarGroup),this.scrollbar.attr({fill:i.barBackgroundColor,stroke:i.barBorderColor,"stroke-width":i.barBorderWidth}),this.scrollbarRifles.attr({stroke:i.rifleColor,"stroke-width":1}),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(t,i,o,r){var n=this.options.vertical,s=0,l=this.rendered?'animate':'attr';this.x=t,this.y=i+this.trackBorderWidth,this.width=o,this.xOffset=this.height=r,this.yOffset=s,n?(this.width=this.yOffset=o=s=this.size,this.xOffset=i=0,this.barWidth=r-2*o,this.x=t+=this.options.margin):(this.height=this.xOffset=r=i=this.size,this.barWidth=o-2*r,this.y+=this.options.margin),this.group[l]({translateX:t,translateY:this.y}),this.track[l]({width:o,height:r}),this.scrollbarButtons[1][l]({translateX:n?0:o-i,translateY:n?r-s:0})},drawScrollbarButton:function(t){var i,o=this.renderer,a=this.scrollbarButtons,r=this.options,n=this.size;i=o.g().add(this.group),a.push(i),i=o.rect().addClass('highcharts-scrollbar-button').add(i),i.attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}),i.attr(i.crisp({x:-.5,y:-.5,width:n+1,height:n+1,r:r.buttonBorderRadius},i.strokeWidth())),i=o.path(d(['M',n/2+(t?-1:1),n/2-3,'L',n/2+(t?-1:1),n/2+3,'L',n/2+(t?2:-2),n/2],r.vertical)).addClass('highcharts-scrollbar-arrow').add(a[t]),i.attr({fill:r.buttonArrowColor})},setRange:function(t,i){var o,a,r=this.options,l=r.vertical,d=r.minWidth,p=this.barWidth,c=this.rendered&&!this.hasDragged?'animate':'attr';u(p)&&(t=N(t,0),o=s(p*t),this.calculatedWidth=a=h(p*Y(i,1)-o),a<d&&(o=(p-d+a)*t,a=d),d=M(o+this.xOffset+this.yOffset),p=a/2-.5,this.from=t,this.to=i,l?(this.scrollbarGroup[c]({translateY:d}),this.scrollbar[c]({height:a}),this.scrollbarRifles[c]({translateY:p}),this.scrollbarTop=d,this.scrollbarLeft=0):(this.scrollbarGroup[c]({translateX:d}),this.scrollbar[c]({width:a}),this.scrollbarRifles[c]({translateX:p}),this.scrollbarLeft=d,this.scrollbarTop=0),12>=a?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===r.showFull&&(0>=t&&1<=i?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var t=this;t.mouseMoveHandler=function(i){var o=t.chart.pointer.normalize(i),a=t.options.vertical?'chartY':'chartX',r=t.initPositions;!t.grabbedCenter||i.touches&&0===i.touches[0][a]||(o=t.cursorToScrollbarPosition(o)[a],a=t[a],a=o-a,t.hasDragged=!0,t.updatePosition(r[0]+a,r[1]+a),t.hasDragged&&p(t,'changed',{from:t.from,to:t.to,trigger:'scrollbar',DOMType:i.type,DOMEvent:i}))},t.mouseUpHandler=function(e){t.hasDragged&&p(t,'changed',{from:t.from,to:t.to,trigger:'scrollbar',DOMType:e.type,DOMEvent:e}),t.grabbedCenter=t.hasDragged=t.chartX=t.chartY=null},t.mouseDownHandler=function(e){e=t.chart.pointer.normalize(e),e=t.cursorToScrollbarPosition(e),t.chartX=e.chartX,t.chartY=e.chartY,t.initPositions=[t.from,t.to],t.grabbedCenter=!0},t.buttonToMinClick=function(e){var i=h(t.to-t.from)*t.options.step;t.updatePosition(h(t.from-i),h(t.to-i)),p(t,'changed',{from:t.from,to:t.to,trigger:'scrollbar',DOMEvent:e})},t.buttonToMaxClick=function(e){var i=(t.to-t.from)*t.options.step;t.updatePosition(t.from+i,t.to+i),p(t,'changed',{from:t.from,to:t.to,trigger:'scrollbar',DOMEvent:e})},t.trackClick=function(i){var o=t.chart.pointer.normalize(i),a=t.to-t.from,r=t.y+t.scrollbarTop,e=t.x+t.scrollbarLeft;t.options.vertical&&o.chartY>r||!t.options.vertical&&o.chartX>e?t.updatePosition(t.from+a,t.to+a):t.updatePosition(t.from-a,t.to-a),p(t,'changed',{from:t.from,to:t.to,trigger:'scrollbar',DOMEvent:i})}},cursorToScrollbarPosition:function(e){var t=this.options,t=t.minWidth>this.calculatedWidth?t.minWidth:0;return{chartX:(e.chartX-this.x-this.xOffset)/(this.barWidth-t),chartY:(e.chartY-this.y-this.yOffset)/(this.barWidth-t)}},updatePosition:function(e,t){1<t&&(e=h(1-h(t-e)),t=1),0>e&&(t=h(t-e),e=0),this.from=e,this.to=t},update:function(e){this.destroy(),this.init(this.chart.renderer,f(!0,this.options,e),this.chart)},addEvents:function(){var t=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,o=this.scrollbarGroup.element,a=this.mouseDownHandler,e=this.mouseMoveHandler,r=this.mouseUpHandler,t=[[i[t[0]].element,'click',this.buttonToMinClick],[i[t[1]].element,'click',this.buttonToMaxClick],[this.track.element,'click',this.trackClick],[o,'mousedown',a],[o.ownerDocument,'mousemove',e],[o.ownerDocument,'mouseup',r]];x&&t.push([o,'touchstart',a],[o.ownerDocument,'touchmove',e],[o.ownerDocument,'touchend',r]),m(t,function(e){n.apply(null,e)}),this._events=t},removeEvents:function(){m(this._events,function(e){c.apply(null,e)}),this._events.length=0},destroy:function(){var e=this.chart.scroller;this.removeEvents(),m(['track','scrollbarRifles','scrollbar','scrollbarGroup','group'],function(e){this[e]&&this[e].destroy&&(this[e]=this[e].destroy())},this),e&&this===e.scrollbar&&(e.scrollbar=null,l(e.scrollbarButtons))}},b(a.prototype,'init',function(e){var t=this;e.apply(t,Array.prototype.slice.call(arguments,1)),t.options.scrollbar&&t.options.scrollbar.enabled&&(t.options.scrollbar.vertical=!t.horiz,t.options.startOnTick=t.options.endOnTick=!1,t.scrollbar=new o(t.chart.renderer,t.options.scrollbar,t.chart),n(t.scrollbar,'changed',function(i){var o,e=Y(v(t.options.min,t.min),t.min,t.dataMin),a=N(v(t.options.max,t.max),t.max,t.dataMax)-e;t.horiz&&!t.reversed||!t.horiz&&t.reversed?(o=e+a*this.to,e+=a*this.from):(o=e+a*(1-this.from),e+=a*(1-this.to)),t.setExtremes(e,o,!0,!1,i)}))}),b(a.prototype,'render',function(t){var i=Y(v(this.options.min,this.min),this.min,v(this.dataMin,this.min)),o=N(v(this.options.max,this.max),this.max,v(this.dataMax,this.max)),a=this.scrollbar,r=this.titleOffset||0;t.apply(this,Array.prototype.slice.call(arguments,1)),a&&(this.horiz?(a.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:r+this.axisTitleMargin+this.offset),this.width,this.height),r=1):(a.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?r+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),r=0),(!this.opposite&&!this.horiz||this.opposite&&this.horiz)&&(this.chart.scrollbarsOffsets[r]+=this.scrollbar.size+this.scrollbar.options.margin),isNaN(i)||isNaN(o)||!u(this.min)||!u(this.max)?a.setRange(0,0):(r=(this.min-i)/(o-i),i=(this.max-i)/(o-i),this.horiz&&!this.reversed||!this.horiz&&this.reversed?a.setRange(r,i):a.setRange(1-i,1-r)))}),b(a.prototype,'getOffset',function(e){var t=this.horiz?2:1,i=this.scrollbar;e.apply(this,Array.prototype.slice.call(arguments,1)),i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=i.size+i.options.margin)}),b(a.prototype,'destroy',function(e){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),e.apply(this,Array.prototype.slice.call(arguments,1))}),i.Scrollbar=o}(a),function(i){function s(e){this.init(e)}var h=i.addEvent,x=i.Axis,a=i.Chart,r=i.color,S=i.defaultOptions,T=i.defined,l=i.destroyObjectProperties,w=i.each,d=i.erase,p=i.error,v=i.extend,e=i.grep,m=i.hasTouch,c=i.isArray,C=i.isNumber,n=i.isObject,L=i.merge,M=i.pick,t=i.removeEvent,u=i.Scrollbar,g=i.Series,f=i.seriesTypes,A=i.wrap,b=[].concat(i.defaultDataGroupingUnits),O=function(t){var i=e(arguments,C);if(i.length)return Math[t].apply(0,i)};b[4]=['day',[1,2,3,4]],b[5]=['week',[1,2,3]],f=void 0===f.areaspline?'line':'areaspline',v(S,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:['navigator-handle','navigator-handle'],enabled:!0,lineWidth:1,backgroundColor:'#f2f2f2',borderColor:'#999999'},maskFill:r('#6685c2').setOpacity(.3).get(),outlineColor:'#cccccc',outlineWidth:1,series:{type:f,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:'average',enabled:!0,groupPixelWidth:2,smoothed:!0,units:b},dataLabels:{enabled:!1,zIndex:2},id:'highcharts-navigator-series',className:'highcharts-navigator-series',lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:'highcharts-navigator-xaxis',tickLength:0,lineWidth:0,gridLineColor:'#e6e6e6',gridLineWidth:1,tickPixelInterval:200,labels:{align:'left',style:{color:'#999999'},x:3,y:-4},crosshair:!1},yAxis:{className:'highcharts-navigator-yaxis',gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),i.Renderer.prototype.symbols['navigator-handle']=function(t,i,o,r,n){return t=n.width/2,i=R(t/3)+.5,n=n.height,['M',-t-1,.5,'L',t,.5,'L',t,n+.5,'L',-t-1,n+.5,'L',-t-1,.5,'M',-i,4,'L',-i,n-3,'M',i-1,4,'L',i-1,n-3]},s.prototype={drawHandle:function(e,t,i,o){var a=this.navigatorOptions.handles.height;this.handles[t][o](i?{translateX:R(this.left+this.height/2),translateY:R(this.top+parseInt(e,10)+.5-a)}:{translateX:R(this.left+parseInt(e,10)),translateY:R(this.top+this.height/2-a/2-1)})},drawOutline:function(t,i,o,r){var s=this.navigatorOptions.maskInside,d=this.outline.strokeWidth(),e=d/2,d=d%2/2,p=this.outlineHeight,c=this.scrollbarHeight,h=this.size,l=this.left-c,g=this.top;o?(l-=e,o=g+i+d,i=g+t+d,t=['M',l+p,g-c-d,'L',l+p,o,'L',l,o,'L',l,i,'L',l+p,i,'L',l+p,g+h+c].concat(s?['M',l+p,o-e,'L',l+p,i+e]:[])):(t+=l+c-d,i+=l+c-d,g+=e,t=['M',l,g,'L',t,g,'L',t,g+p,'L',i,g+p,'L',i,g,'L',l+h+2*c,g].concat(s?['M',t-e,g,'L',i+e,g]:[])),this.outline[r]({d:t})},drawMasks:function(t,i,o,r){var n,s,p,l,a=this.left,d=this.top,e=this.height;o?(p=[a,a,a],l=[d,d+t,d+i],s=[e,e,e],n=[t,i-t,this.size-i]):(p=[a,a+t,a+i],l=[d,d,d],s=[t,i-t,this.size-i],n=[e,e,e]),w(this.shades,function(e,t){e[r]({x:p[t],y:l[t],width:s[t],height:n[t]})})},renderElements:function(){var t,i=this,o=i.navigatorOptions,a=o.maskInside,r=i.chart,e=r.inverted,n=r.renderer;i.navigatorGroup=t=n.g('navigator').attr({zIndex:8,visibility:'hidden'}).add();var s={cursor:e?'ns-resize':'ew-resize'};w([!a,a,!a],function(e,a){i.shades[a]=n.rect().addClass('highcharts-navigator-mask'+(1===a?'-inside':'-outside')).attr({fill:e?o.maskFill:'rgba(0,0,0,0)'}).css(1===a&&s).add(t)}),i.outline=n.path().addClass('highcharts-navigator-outline').attr({"stroke-width":o.outlineWidth,stroke:o.outlineColor}).add(t),o.handles.enabled&&w([0,1],function(e){o.handles.inverted=r.inverted,i.handles[e]=n.symbol(o.handles.symbols[e],-o.handles.width/2-1,0,o.handles.width,o.handles.height,o.handles),i.handles[e].attr({zIndex:7-e}).addClass('highcharts-navigator-handle highcharts-navigator-handle-'+['left','right'][e]).add(t);var a=o.handles;i.handles[e].attr({fill:a.backgroundColor,stroke:a.borderColor,"stroke-width":a.lineWidth}).css(s)})},update:function(e){w(this.series||[],function(e){e.baseSeries&&delete e.baseSeries.navigatorSeries}),this.destroy(),L(!0,this.chart.options.navigator,this.options,e),this.init(this.chart)},render:function(o,a,n,e){var s,c,h,l=this.chart,d=this.scrollbarHeight,g=this.xAxis;s=g.fake?l.xAxis[0]:g;var u,m=this.navigatorEnabled,x=this.rendered;c=l.inverted;var p,t=l.xAxis[0].minRange,r=l.xAxis[0].options.maxRange;if(!this.hasDragged||T(n)){if(!C(o)||!C(a))if(x)n=0,e=M(g.width,s.width);else return;this.left=M(g.left,l.plotLeft+d+(c?l.plotWidth:0)),this.size=u=h=M(g.len,(c?l.plotHeight:l.plotWidth)-2*d),l=c?d:h+2*d,n=M(n,g.toPixels(o,!0)),e=M(e,g.toPixels(a,!0)),C(n)&&Infinity!==P(n)||(n=0,e=l),o=g.toValue(n,!0),a=g.toValue(e,!0),p=P(i.correctFloat(a-o)),p<t?this.grabbedLeft?n=g.toPixels(a-t,!0):this.grabbedRight&&(e=g.toPixels(o+t,!0)):T(r)&&p>r&&(this.grabbedLeft?n=g.toPixels(a-r,!0):this.grabbedRight&&(e=g.toPixels(o+r,!0))),this.zoomedMax=Y(N(n,e,0),u),this.zoomedMin=Y(N(this.fixedWidth?this.zoomedMax-this.fixedWidth:Y(n,e),0),u),this.range=this.zoomedMax-this.zoomedMin,u=R(this.zoomedMax),n=R(this.zoomedMin),m&&(this.navigatorGroup.attr({visibility:'visible'}),x=x&&!this.hasDragged?'animate':'attr',this.drawMasks(n,u,c,x),this.drawOutline(n,u,c,x),this.navigatorOptions.handles.enabled&&(this.drawHandle(n,0,c,x),this.drawHandle(u,1,c,x))),this.scrollbar&&(c?(c=this.top-d,s=this.left-d+(m||!s.opposite?0:(s.titleOffset||0)+s.axisTitleMargin),d=h+2*d):(c=this.top+(m?this.height:-d),s=this.left-d),this.scrollbar.position(s,c,l,d),this.scrollbar.setRange(this.zoomedMin/h,this.zoomedMax/h)),this.rendered=!0}},addMouseEvents:function(){var t,i,o=this,a=o.chart,r=a.container,e=[];o.mouseMoveHandler=t=function(e){o.onMouseMove(e)},o.mouseUpHandler=i=function(e){o.onMouseUp(e)},e=o.getPartsEvents('mousedown'),e.push(h(r,'mousemove',t),h(r.ownerDocument,'mouseup',i)),m&&(e.push(h(r,'touchmove',t),h(r.ownerDocument,'touchend',i)),e.concat(o.getPartsEvents('touchstart'))),o.eventsToUnbind=e,o.series&&o.series[0]&&e.push(h(o.series[0].xAxis,'foundExtremes',function(){a.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(t){var e=this,i=[];return w(['shades','handles'],function(o){w(e[o],function(a,r){i.push(h(a.element,t,function(t){e[o+'Mousedown'](t,r)}))})}),i},shadesMousedown:function(t,i){t=this.chart.pointer.normalize(t);var o,a,r=this.chart,n=this.xAxis,s=this.zoomedMin,e=this.left,d=this.size,p=this.range,c=t.chartX;r.inverted&&(c=t.chartY,e=this.top),1===i?(this.grabbedCenter=c,this.fixedWidth=p,this.dragOffset=c-s):(t=c-e-p/2,0===i?t=N(0,t):2==i&&t+p>=d&&(t=d-p,n.reversed?(t-=p,a=this.getUnionExtremes().dataMin):o=this.getUnionExtremes().dataMax),t!==s&&(this.fixedWidth=p,i=n.toFixedRange(t,t+p,a,o),T(i.min)&&r.xAxis[0].setExtremes(Y(i.min,i.max),N(i.min,i.max),!0,null,{trigger:'navigator'})))},handlesMousedown:function(e,t){this.chart.pointer.normalize(e),e=this.chart;var i=e.xAxis[0],o=e.inverted&&!i.reversed||!e.inverted&&i.reversed;0===t?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?i.min:i.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?i.max:i.min),e.fixedRange=null},onMouseMove:function(t){var i=this,o=i.chart,a=i.left,r=i.navigatorSize,e=i.range,n=i.dragOffset,s=o.inverted;t.touches&&0===t.touches[0].pageX||(t=o.pointer.normalize(t),o=t.chartX,s&&(a=i.top,o=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,o-a,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,o-a)):i.grabbedCenter&&(i.hasDragged=!0,o<n?o=n:o>r+n-e&&(o=r+n-e),i.render(0,0,o-n,o-n+e)),i.hasDragged&&i.scrollbar&&i.scrollbar.options.liveRedraw&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},onMouseUp:function(t){var i,o,a=this.chart,r=this.xAxis,n=r&&r.reversed,s=this.scrollbar,e=t.DOMEvent||t;(!this.hasDragged||s&&s.hasDragged)&&'scrollbar'!==t.trigger||(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?i=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(o=this.fixedExtreme),this.zoomedMax===this.size&&(o=n?s.dataMin:s.dataMax),0===this.zoomedMin&&(i=n?s.dataMax:s.dataMin),r=r.toFixedRange(this.zoomedMin,this.zoomedMax,i,o),T(r.min)&&a.xAxis[0].setExtremes(Y(r.min,r.max),N(r.min,r.max),!0,!this.hasDragged&&null,{trigger:'navigator',triggerOp:'navigator-drag',DOMEvent:e})),'mousemove'!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(w(this.eventsToUnbind,function(e){e()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var e=this.baseSeries||[];this.navigatorEnabled&&e[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&w(e,function(e){t(e,'updatedData',this.updatedDataHandler)},this),e[0].xAxis&&t(e[0].xAxis,'foundExtremes',this.modifyBaseAxisExtremes))},init:function(t){var i=t.options,o=i.navigator,a=o.enabled,r=i.scrollbar,e=r.enabled,i=a?o.height:0,s=e?r.height:0;this.handles=[],this.shades=[],this.chart=t,this.setBaseSeries(),this.height=i,this.scrollbarHeight=s,this.scrollbarEnabled=e,this.navigatorEnabled=a,this.navigatorOptions=o,this.scrollbarOptions=r,this.outlineHeight=i+s,this.opposite=M(o.opposite,!a&&t.inverted);var p=this,r=p.baseSeries,e=t.xAxis.length,l=t.yAxis.length,c=r&&r[0]&&r[0].xAxis||t.xAxis[0];t.extraMargin={type:p.opposite?'plotTop':'marginBottom',value:(a||!t.inverted?p.outlineHeight:0)+o.margin},t.inverted&&(t.extraMargin.type=p.opposite?'marginRight':'plotLeft'),t.isDirtyBox=!0,p.navigatorEnabled?(p.xAxis=new x(t,L({breaks:c.options.breaks,ordinal:c.options.ordinal},o.xAxis,{id:'navigator-x-axis',yAxis:'navigator-y-axis',isX:!0,type:'datetime',index:e,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},t.inverted?{offsets:[s,0,-s,0],width:i}:{offsets:[0,-s,0,s],height:i})),p.yAxis=new x(t,L(o.yAxis,{id:'navigator-y-axis',alignTicks:!1,offset:0,index:l,zoomEnabled:!1},t.inverted?{width:i}:{height:i})),r||o.series.data?p.updateNavigatorSeries():0===t.series.length&&A(t,'redraw',function(e,i){0<t.series.length&&!p.series&&(p.setBaseSeries(),t.redraw=e),e.call(t,i)}),p.renderElements(),p.addMouseEvents()):p.xAxis={translate:function(i,o){var a=t.xAxis[0],r=a.getExtremes(),e=a.len-2*s,n=O('min',a.options.min,r.dataMin),a=O('max',a.options.max,r.dataMax)-n;return o?i*a/e+n:e*(i-n)/a},toPixels:function(e){return this.translate(e)},toValue:function(e){return this.translate(e,!0)},toFixedRange:x.prototype.toFixedRange,fake:!0},t.options.scrollbar.enabled&&(t.scrollbar=p.scrollbar=new u(t.renderer,L(t.options.scrollbar,{margin:p.navigatorEnabled?0:10,vertical:t.inverted}),t),h(p.scrollbar,'changed',function(e){var i=p.size,o=i*this.to,i=i*this.from;p.hasDragged=p.scrollbar.hasDragged,p.render(0,0,i,o),(t.options.scrollbar.liveRedraw||'mousemove'!==e.DOMType&&'touchmove'!==e.DOMType)&&setTimeout(function(){p.onMouseUp(e)})})),p.addBaseSeriesEvents(),p.addChartEvents()},getUnionExtremes:function(t){var i,o=this.chart.xAxis[0],a=this.xAxis,r=a.options,n=o.options;return t&&null===o.dataMin||(i={dataMin:M(r&&r.min,O('min',n.min,o.dataMin,a.dataMin,a.min)),dataMax:M(r&&r.max,O('max',n.max,o.dataMax,a.dataMax,a.max))}),i},setBaseSeries:function(e,t){var i=this.chart,o=this.baseSeries=[];e=e||i.options&&i.options.navigator.baseSeries||0,w(i.series||[],function(t,i){t.options.isInternal||!t.options.showInNavigator&&(i!==e&&t.options.id!==e||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(t)},updateNavigatorSeries:function(o){var s,l,g,u=this,d=u.chart,e=u.baseSeries,m=u.navigatorOptions.series,n={enableMouseTracking:!1,index:null,linkedTo:null,group:'nav',padXAxis:!1,xAxis:'navigator-x-axis',yAxis:'navigator-y-axis',showInLegend:!1,stacking:!1,isInternal:!0,visible:!0},p=u.series=i.grep(u.series||[],function(o){var a=o.baseSeries;return!(0>i.inArray(a,e))||(a&&(t(a,'updatedData',u.updatedDataHandler),delete a.navigatorSeries),o.destroy(),!1)});e&&e.length&&w(e,function(t){var i=t.navigatorSeries,a=v({color:t.color},c(m)?S.navigator.series:m);i&&!1===u.navigatorOptions.adaptToUpdatedData||(n.name='Navigator '+e.length,s=t.options||{},g=s.navigatorOptions||{},l=L(s,n,a,g),a=g.data||a.data,u.hasNavigatorData=u.hasNavigatorData||!!a,l.data=a||s.data&&s.data.slice(0),i&&i.options?i.update(l,o):(t.navigatorSeries=d.initSeries(l),t.navigatorSeries.baseSeries=t,p.push(t.navigatorSeries)))}),(m.data&&(!e||!e.length)||c(m))&&(u.hasNavigatorData=!1,m=i.splat(m),w(m,function(e,t){n.name='Navigator '+(p.length+1),l=L(S.navigator.series,{color:d.series[t]&&!d.series[t].options.isInternal&&d.series[t].color||d.options.colors[t]||d.options.colors[0]},n,e),l.data=e.data,l.data&&(u.hasNavigatorData=!0,p.push(d.initSeries(l)))})),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&h(t[0].xAxis,'foundExtremes',this.modifyBaseAxisExtremes),w(t,function(t){h(t,'show',function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),h(t,'hide',function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&h(t,'updatedData',this.updatedDataHandler),h(t,'remove',function(){this.navigatorSeries&&(d(e.series,this.navigatorSeries),this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var e,t=this.xAxis;t.getExtremes&&(!(e=this.getUnionExtremes(!0))||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax))},modifyBaseAxisExtremes:function(){var t,i,r=this.chart.navigator,a=this.getExtremes(),n=a.dataMin,s=a.dataMax,a=a.max-a.min,e=r.stickToMin,l=r.stickToMax,d=this.options.overscroll,c=r.series&&r.series[0],h=!!this.setExtremes;this.eventArgs&&'rangeSelectorButton'===this.eventArgs.trigger||(e&&(i=n,t=i+a),l&&(t=s+d,e||(i=N(t-a,c&&c.xData?c.xData[0]:-o))),h&&(e||l)&&C(i)&&(this.min=this.userMin=i,this.max=this.userMax=t)),r.stickToMin=r.stickToMax=null},updatedDataHandler:function(){var e=this.chart.navigator,t=this.navigatorSeries;e.stickToMax=e.xAxis.reversed?0===R(e.zoomedMin):R(e.zoomedMax)>=R(e.size),e.stickToMin=C(this.xAxis.min)&&this.xAxis.min<=this.xData[0]&&(!this.chart.fixedRange||!e.stickToMax),t&&!e.hasNavigatorData&&(t.options.pointStart=this.xData[0],t.setData(this.options.data,!1,null,!1))},addChartEvents:function(){h(this.chart,'redraw',function(){var e=this.navigator,t=e&&(e.baseSeries&&e.baseSeries[0]&&e.baseSeries[0].xAxis||e.scrollbar&&this.xAxis[0]);t&&e.render(t.min,t.max)})},destroy:function(){this.removeEvents(),this.xAxis&&(d(this.chart.xAxis,this.xAxis),d(this.chart.axes,this.xAxis)),this.yAxis&&(d(this.chart.yAxis,this.yAxis),d(this.chart.axes,this.yAxis)),w(this.series||[],function(e){e.destroy&&e.destroy()}),w(['series','xAxis','yAxis','shades','outline','scrollbarTrack','scrollbarRifles','scrollbarGroup','scrollbar','navigatorGroup','rendered'],function(e){this[e]&&this[e].destroy&&this[e].destroy(),this[e]=null},this),w([this.handles],function(e){l(e)},this)}},i.Navigator=s,A(x.prototype,'zoom',function(t,i,o){var a,r=this.chart,n=r.options,e=n.chart.zoomType,s=n.navigator,n=n.rangeSelector;return this.isXAxis&&(s&&s.enabled||n&&n.enabled)&&('x'===e?r.resetZoomButton='blocked':'y'===e?a=!1:'xy'===e&&this.options.range&&(r=this.previousZoom,T(i)?this.previousZoom=[this.min,this.max]:r&&(i=r[0],o=r[1],delete this.previousZoom))),void 0===a?t.call(this,i,o):a}),A(a.prototype,'init',function(e,t,i){h(this,'beforeRender',function(){var e=this.options;(e.navigator.enabled||e.scrollbar.enabled)&&(this.scroller=this.navigator=new s(this))}),e.call(this,t,i)}),A(a.prototype,'setChartSize',function(t){var i,o,e,a,r=this.legend,n=this.navigator;t.apply(this,[].slice.call(arguments,1)),n&&(o=r&&r.options,e=n.xAxis,a=n.yAxis,i=n.scrollbarHeight,this.inverted?(n.left=n.opposite?this.chartWidth-i-n.height:this.spacing[3]+i,n.top=this.plotTop+i):(n.left=this.plotLeft+i,n.top=n.navigatorOptions.top||this.chartHeight-n.height-i-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(o&&'bottom'===o.verticalAlign&&o.enabled&&!o.floating?r.legendHeight+M(o.margin,10):0)),e&&a&&(this.inverted?e.options.left=a.options.left=n.left:e.options.top=a.options.top=n.top,e.setAxisSize(),a.setAxisSize()))}),A(g.prototype,'addPoint',function(e,t,i,o,a){var r=this.options.turboThreshold;r&&this.xData.length>r&&n(t,!0)&&this.chart.navigator&&p(20,!0),e.call(this,t,i,o,a)}),A(a.prototype,'addSeries',function(t,i,o,a){return t=t.call(this,i,!1,a),this.navigator&&this.navigator.setBaseSeries(null,!1),M(o,!0)&&this.redraw(),t}),A(g.prototype,'update',function(e,t,i){e.call(this,t,!1),this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1),M(i,!0)&&this.chart.redraw()}),a.prototype.callbacks.push(function(e){var t=e.navigator;t&&(e=e.xAxis[0].getExtremes(),t.render(e.min,e.max))})}(a),function(i){function s(e){this.init(e)}var x=i.addEvent,y=i.Axis,a=i.Chart,S=i.css,A=i.createElement,l=i.defaultOptions,r=i.defined,d=i.destroyObjectProperties,p=i.discardElement,T=i.each,m=i.extend,e=i.fireEvent,C=i.isNumber,c=i.merge,O=i.pick,n=i.pInt,b=i.splat,t=i.wrap;m(l,{rangeSelector:{verticalAlign:'top',buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:'right',x:0,y:0},buttonPosition:{align:'left',x:0,y:0},labelStyle:{color:'#666666'}}}),l.lang=c(l.lang,{rangeSelectorZoom:'Zoom',rangeSelectorFrom:'From',rangeSelectorTo:'To'}),s.prototype={clickButton:function(e,i){var a,t,n,s,c,u=this,g=u.chart,f=u.buttonOptions[e],v=g.xAxis[0],m=g.scroller&&g.scroller.getUnionExtremes()||v||{},w=m.dataMin,S=m.dataMax,A=v&&R(Y(v.max,O(S,v.max))),P=f.type,m=f._range,r=f.dataGrouping;if(null!==w&&null!==S){if(g.fixedRange=m,r&&(this.forcedDataGrouping=!0,y.prototype.setDataGrouping.call(v||{chart:this.chart},r,!1)),'month'===P||'year'===P)v?(P={range:f,max:A,chart:g,dataMin:w,dataMax:S},a=v.minFromRange.call(P),C(P.newMax)&&(A=P.newMax)):m=f;else if(m)a=N(A-m,w),A=Y(a+m,S);else if('ytd'!==P)'all'==P&&v&&(a=w,A=S);else if(v)void 0===S&&(w=o,S=Number.MIN_VALUE,T(g.series,function(e){e=e.xData,w=Y(e[0],w),S=N(e[e.length-1],S)}),i=!1),A=u.getYTDExtremes(S,w,g.time.useUTC),a=n=A.min,A=A.max;else return void x(g,'beforeRender',function(){u.clickButton(e)});a+=f._offsetMin,A+=f._offsetMax,u.setSelected(e),v?v.setExtremes(a,A,O(i,1),null,{trigger:'rangeSelectorButton',rangeSelectorButton:f}):(t=b(g.options.xAxis)[0],c=t.range,t.range=m,s=t.min,t.min=n,x(g,'load',function(){t.range=c,t.min=s}))}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:'month',count:1,text:'1m'},{type:'month',count:3,text:'3m'},{type:'month',count:6,text:'6m'},{type:'ytd',text:'YTD'},{type:'year',count:1,text:'1y'},{type:'all',text:'All'}],init:function(t){var i=this,o=t.options.rangeSelector,a=o.buttons||[].concat(i.defaultButtons),r=o.selected,n=function(){var t=i.minInput,o=i.maxInput;t&&t.blur&&e(t,'blur'),o&&o.blur&&e(o,'blur')};i.chart=t,i.options=o,i.buttons=[],t.extraTopMargin=o.height,i.buttonOptions=a,this.unMouseDown=x(t.container,'mousedown',n),this.unResize=x(t,'resize',n),T(a,i.computeButtonRange),void 0!==r&&a[r]&&this.clickButton(r,!1),x(t,'load',function(){t.xAxis&&t.xAxis[0]&&x(t.xAxis[0],'setExtremes',function(e){this.max-this.min!==t.fixedRange&&'rangeSelectorButton'!==e.trigger&&'updatedData'!==e.trigger&&i.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var e=this.chart,i=e.xAxis[0],o=R(i.max-i.min),s=!i.hasVisibleSeries,a=e.scroller&&e.scroller.getUnionExtremes()||i,c=a.dataMin,l=a.dataMax,e=this.getYTDExtremes(l,c,e.time.useUTC),g=e.min,d=e.max,n=this.selected,p=C(n),m=this.options.allButtonsEnabled,f=this.buttons;T(this.buttonOptions,function(r,a){var w=r._range,e=r.type,k=r.count||1,S=f[a],y=0;r=r._offsetMax-r._offsetMin,a=a===n;var A=w>l-c,u=w<i.minRange,T=!1,P=!1,w=w===o;('month'===e||'year'===e)&&o+36E5>=864E5*{month:28,year:365}[e]*k-r&&o-36E5<=864E5*{month:31,year:366}[e]*k+r?w=!0:'ytd'===e?(w=d-g+r===o,T=!a):'all'==e&&(w=i.max-i.min>=l-c,P=!a&&p&&w),e=!m&&(A||u||P||s),k=a&&w||w&&!p&&!T,e?y=3:k&&(p=!0,y=2),S.state!==y&&S.setState(y)})},computeButtonRange:function(t){var i=t.type,o=t.count||1,a={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};a[i]?t._range=a[i]*o:('month'===i||'year'===i)&&(t._range=864E5*{month:30,year:365}[i]*o),t._offsetMin=O(t.offsetMin,0),t._offsetMax=O(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,i){var o=this.chart.options.rangeSelector,a=this.chart.time,e=this[t+'Input'];r(i)&&(e.previousValue=e.HCTime,e.HCTime=i),e.value=a.dateFormat(o.inputEditDateFormat||'%Y-%m-%d',e.HCTime),this[t+'DateBox'].attr({text:a.dateFormat(o.inputDateFormat||'%b %e, %Y',e.HCTime)})},showInput:function(e){var t=this.inputGroup,i=this[e+'DateBox'];S(this[e+'Input'],{left:t.translateX+i.x+'px',top:t.translateY+'px',width:i.width-2+'px',height:i.height-2+'px',border:'2px solid silver'})},hideInput:function(e){S(this[e+'Input'],{border:0,width:'1px',height:'1px'}),this.setInputValue(e)},drawInput:function(t){function i(){var t=o.value,i=(p.inputDateParser||Date.parse)(t),a=h.xAxis[0],r=h.scroller&&h.scroller.xAxis?h.scroller.xAxis:a,l=r.dataMin,r=r.dataMax;i!==o.previousValue&&(o.previousValue=i,C(i)||(i=t.split('-'),i=Date.UTC(n(i[0]),n(i[1])-1,n(i[2]))),C(i)&&(h.time.useUTC||(i+=6E4*new Date().getTimezoneOffset()),f?i>s.maxInput.HCTime?i=void 0:i<l&&(i=l):i<s.minInput.HCTime?i=void 0:i>r&&(i=r),void 0!==i&&a.setExtremes(f?i:a.min,f?a.max:i,void 0,void 0,{trigger:'rangeSelectorInput'})))}var o,e,s=this,h=s.chart,g=h.renderer.style||{},y=h.renderer,p=h.options.rangeSelector,r=s.div,f='min'===t,d=this.inputGroup;this[t+'Label']=e=y.label(l.lang[f?'rangeSelectorFrom':'rangeSelectorTo'],this.inputGroup.offset).addClass('highcharts-range-label').attr({padding:2}).add(d),d.offset+=e.width+5,this[t+'DateBox']=y=y.label('',d.offset).addClass('highcharts-range-input').attr({padding:2,width:p.inputBoxWidth||90,height:p.inputBoxHeight||17,stroke:p.inputBoxBorderColor||'#cccccc',"stroke-width":1,"text-align":'center'}).on('click',function(){s.showInput(t),s[t+'Input'].focus()}).add(d),d.offset+=y.width+(f?10:0),this[t+'Input']=o=A('input',{name:t,className:'highcharts-range-selector',type:'text'},{top:h.plotTop+'px'},r),e.css(c(g,p.labelStyle)),y.css(c({color:'#333333'},g,p.inputStyle)),S(o,m({position:'absolute',border:0,width:'1px',height:'1px',padding:0,textAlign:'center',fontSize:g.fontSize,fontFamily:g.fontFamily,top:'-9999em'},p.inputStyle)),o.onfocus=function(){s.showInput(t)},o.onblur=function(){s.hideInput(t)},o.onchange=i,o.onkeypress=function(e){13===e.keyCode&&i()}},getPosition:function(){var e=this.chart,t=e.options.rangeSelector,e='top'===t.verticalAlign?e.plotTop-e.axisOffset[0]:0;return{buttonTop:e+t.buttonPosition.y,inputTop:e+t.inputPosition.y-10}},getYTDExtremes:function(t,i,o){var a=this.chart.time,e=new a.Date(t),r=a.get('FullYear',e);return o=o?a.Date.UTC(r,0,1):+new a.Date(r,0,1),i=N(i||0,o),e=e.getTime(),{max:Y(t||e,e),min:i}},render:function(e,i){var o,a,n=this,s=n.chart,c=s.renderer,g=s.container,x=s.options,m=x.exporting&&!1!==x.exporting.enabled&&x.navigation&&x.navigation.buttonOptions,d=l.lang,y=n.div,p=x.rangeSelector,x=p.floating,h=n.buttons,y=n.inputGroup,t=p.buttonTheme,r=p.buttonPosition,u=p.inputPosition,f=p.inputEnabled,v=t&&t.states,b=s.plotLeft,k=n.buttonGroup;a=n.rendered;var w,P=n.options.verticalAlign,C=s.legend,L=C&&C.options,D=r.y,z=u.y,B=a||!1,I=0,E=0;!1!==p.enabled&&(a||(n.group=a=c.g('range-selector-group').attr({zIndex:7}).add(),n.buttonGroup=k=c.g('range-selector-buttons').add(a),n.zoomText=c.text(d.rangeSelectorZoom,O(b+r.x,b),15).css(p.labelStyle).add(k),o=O(b+r.x,b)+n.zoomText.getBBox().width+5,T(n.buttonOptions,function(i,a){h[a]=c.button(i.text,o,0,function(){var t,e=i.events&&i.events.click;e&&(t=e.call(i)),!1!==t&&n.clickButton(a),n.isActive=!0},t,v&&v.hover,v&&v.select,v&&v.disabled).attr({"text-align":'center'}).add(k),o+=h[a].width+O(p.buttonSpacing,5)}),!1!==f&&(n.div=y=A('div',null,{position:'relative',height:0,zIndex:1}),g.parentNode.insertBefore(y,g),n.inputGroup=y=c.g('input-group').add(a),y.offset=0,n.drawInput('min'),n.drawInput('max'))),b=s.plotLeft-s.spacing[3],n.updateButtonStates(),m&&this.titleCollision(s)&&'top'===P&&'right'===r.align&&r.y+k.getBBox().height-12<(m.y||0)+m.height&&(I=-40),'left'===r.align?w=r.x-s.spacing[3]:'right'===r.align&&(w=r.x+I-s.spacing[1]),k.align({y:r.y,width:k.getBBox().width,align:r.align,x:w},!0,s.spacingBox),n.group.placed=B,n.buttonGroup.placed=B,!1!==f&&(I=m&&this.titleCollision(s)&&'top'===P&&'right'===u.align&&u.y-y.getBBox().height-12<(m.y||0)+m.height+s.spacing[0]?-40:0,'left'===u.align?w=b:'right'===u.align&&(w=-N(s.axisOffset[1],-I)),y.align({y:u.y,width:y.getBBox().width,align:u.align,x:u.x+w-2},!0,s.spacingBox),g=y.alignAttr.translateX+y.alignOptions.x-I+y.getBBox().x+2,m=y.alignOptions.width,d=k.alignAttr.translateX+k.getBBox().x,w=k.getBBox().width+20,(u.align===r.align||d+w>g&&g+m>d&&D<z+y.getBBox().height)&&y.attr({translateX:y.alignAttr.translateX+(s.axisOffset[1]>=-I?0:-I),translateY:y.alignAttr.translateY+k.getBBox().height+10}),n.setInputValue('min',e),n.setInputValue('max',i),n.inputGroup.placed=B),n.group.align({verticalAlign:P},!0,s.spacingBox),e=n.group.getBBox().height+20,i=n.group.alignAttr.translateY,'bottom'===P&&(C=L&&'bottom'===L.verticalAlign&&L.enabled&&!L.floating?C.legendHeight+O(L.margin,10):0,e=e+C-20,E=i-e-(x?0:p.y)-10),'top'===P?(x&&(E=0),s.titleOffset&&(E=s.titleOffset+s.options.title.margin),E+=s.margin[0]-s.spacing[0]||0):'middle'===P&&(z===D?E=0>z?i+void 0:i:(z||D)&&(E=0>z||0>D?E-Y(z,D):i-e+NaN)),n.group.translate(p.x,p.y+M(E)),!1!==f&&(n.minInput.style.marginTop=n.group.translateY+'px',n.maxInput.style.marginTop=n.group.translateY+'px'),n.rendered=!0)},getHeight:function(){var t=this.options,i=this.group,o=t.y,a=t.buttonPosition.y,t=t.inputPosition.y,i=i?i.getBBox(!0).height+13+o:0,o=Y(t,a);return(0>t&&0>a||0<t&&0<a)&&(i+=P(o)),i},titleCollision:function(e){return!(e.options.title.text||e.options.subtitle.text)},update:function(e){var t=this.chart;c(!0,t.options.rangeSelector,e),this.destroy(),this.init(t),t.rangeSelector.render()},destroy:function(){var t=this,o=t.minInput,a=t.maxInput;t.unMouseDown(),t.unResize(),d(t.buttons),o&&(o.onfocus=o.onblur=o.onchange=null),a&&(a.onfocus=a.onblur=a.onchange=null),i.objectEach(t,function(e,i){e&&'chart'!==i&&(e.destroy?e.destroy():e.nodeType&&p(this[i])),e!==s.prototype[i]&&(t[i]=null)},this)}},y.prototype.toFixedRange=function(t,i,o,e){var r=this.chart&&this.chart.fixedRange;return t=O(o,this.translate(t,!0,!this.horiz)),i=O(e,this.translate(i,!0,!this.horiz)),o=r&&(i-t)/r,.7<o&&1.3>o&&(e?t=i-r:i=t+r),C(t)&&C(i)||(t=i=void 0),{min:t,max:i}},y.prototype.minFromRange=function(){var t,e,i,o=this.range,r={month:'Month',year:'FullYear'}[o.type],a=this.max,n=function(t,i){var o=new Date(t),a=o['get'+r]();return o['set'+r](a+i),a===o['get'+r]()&&o.setDate(0),o.getTime()-t};return C(o)?(t=a-o,i=o):(t=a+n(a,-o.count),this.chart&&(this.chart.fixedRange=a-t)),e=O(this.dataMin,Number.MIN_VALUE),C(t)||(t=e),t<=e&&(t=e,void 0===i&&(i=n(t,o.count)),this.newMax=Y(t+i,this.dataMax)),C(a)||(t=void 0),t},t(a.prototype,'init',function(e,t,i){x(this,'init',function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new s(this))}),e.call(this,t,i)}),t(a.prototype,'render',function(e,t,i){var o=this.axes,a=this.rangeSelector;a&&(T(o,function(e){e.updateNames(),e.setScale()}),this.getAxisMargins(),a.render(),o=a.options.verticalAlign,a.options.floating||('bottom'===o?this.extraBottomMargin=!0:'middle'!=o&&(this.extraTopMargin=!0))),e.call(this,t,i)}),t(a.prototype,'update',function(t,o,a,e){var r,n=this.rangeSelector;this.extraTopMargin=this.extraBottomMargin=!1,n&&(n.render(),r=o.rangeSelector&&o.rangeSelector.verticalAlign||n.options&&n.options.verticalAlign,n.options.floating||('bottom'===r?this.extraBottomMargin=!0:'middle'!=r&&(this.extraTopMargin=!0))),t.call(this,i.merge(!0,o,{chart:{marginBottom:O(o.chart&&o.chart.marginBottom,this.margin.bottom),spacingBottom:O(o.chart&&o.chart.spacingBottom,this.spacing.bottom)}}),a,e)}),t(a.prototype,'redraw',function(t,i,o){var a=this.rangeSelector;a&&!a.options.floating&&(a.render(),a=a.options.verticalAlign,'bottom'===a?this.extraBottomMargin=!0:'middle'!=a&&(this.extraTopMargin=!0)),t.call(this,i,o)}),a.prototype.adjustPlotArea=function(){var e=this.rangeSelector;this.rangeSelector&&(e=e.getHeight(),this.extraTopMargin&&(this.plotTop+=e),this.extraBottomMargin&&(this.marginBottom+=e))},a.prototype.callbacks.push(function(t){function i(){o=t.xAxis[0].getExtremes(),C(o.min)&&r.render(o.min,o.max)}var o,e,a,r=t.rangeSelector;r&&(a=x(t.xAxis[0],'afterSetExtremes',function(e){r.render(e.min,e.max)}),e=x(t,'redraw',i),i()),x(t,'destroy',function(){r&&(e(),a())})}),i.RangeSelector=s}(a),function(i){var o=i.arrayMax,s=i.arrayMin,a=i.Axis,x=i.Chart,h=i.defined,m=i.each,S=i.extend,w=i.format,r=i.grep,d=i.inArray,T=i.isNumber,P=i.isString,c=i.map,k=i.merge,L=i.pick,e=i.Point,n=i.Renderer,t=i.Series,g=i.splat,l=i.SVGRenderer,p=i.VMLRenderer,u=i.wrap,f=t.prototype,y=f.init,v=f.processData,A=e.prototype.tooltipFormatter;i.StockChart=i.stockChart=function(o,a,e){var r,s=P(o)||o.nodeName,d=arguments[s?1:0],l=d.series,h=i.getOptions(),n=L(d.navigator&&d.navigator.enabled,h.navigator.enabled,!0),u=n?{startOnTick:!1,endOnTick:!1}:null,t={marker:{enabled:!1,radius:2}},m={shadow:!1,borderWidth:0};return d.xAxis=c(g(d.xAxis||{}),function(e,t){return k({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:'justify'},showLastLabel:!0},h.xAxis,h.xAxis&&h.xAxis[t],e,{type:'datetime',categories:null},u)}),d.yAxis=c(g(d.yAxis||{}),function(e,t){return r=L(e.opposite,!0),k({labels:{y:-2},opposite:r,showLastLabel:e.categories||'category'===e.type,title:{text:null}},h.yAxis,h.yAxis&&h.yAxis[t],e)}),d.series=null,d=k({chart:{panning:!0,pinchType:'x'},navigator:{enabled:n},scrollbar:{enabled:L(h.scrollbar.enabled,!0)},rangeSelector:{enabled:L(h.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:L(h.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1},plotOptions:{line:t,spline:t,area:t,areaspline:t,arearange:t,areasplinerange:t,column:m,columnrange:m,candlestick:m,ohlc:m}},d,{isStock:!0}),d.series=l,s?new x(o,d,e):new x(d,a)},u(a.prototype,'autoLabelAlign',function(e){var t=this.chart,i=this.options,t=t._labelPanes=t._labelPanes||{},o=this.options.labels;return this.chart.options.isStock&&'yAxis'===this.coll&&(i=i.top+','+i.height,!t[i]&&o.enabled)?(15===o.x&&(o.x=0),void 0===o.align&&(o.align='right'),t[i]=this,'right'):e.apply(this,[].slice.call(arguments,1))}),u(a.prototype,'destroy',function(e){var t=this.chart,i=this.options&&this.options.top+','+this.options.height;return i&&t._labelPanes&&t._labelPanes[i]===this&&delete t._labelPanes[i],e.apply(this,Array.prototype.slice.call(arguments,1))}),u(a.prototype,'getPlotLinePath',function(e,o,a,n,s,l){var p,g,x,y,f,k,w=this,S=this.isLinked&&!this.series?this.linkedParent.series:this.series,t=w.chart,r=t.renderer,u=w.left,v=w.top,A=[],C=[];return'xAxis'!==w.coll&&'yAxis'!==w.coll?e.apply(this,[].slice.call(arguments,1)):(C=function(e){var i='xAxis'===e?'yAxis':'xAxis';return e=w.options[i],T(e)?[t[i][e]]:P(e)?[t.get(e)]:c(S,function(e){return e[i]})}(w.coll),m(w.isXAxis?t.yAxis:t.xAxis,function(e){if(h(e.options.id)?-1===e.options.id.indexOf('navigator'):1){var i=e.isXAxis?'yAxis':'xAxis',i=h(e.options[i])?t[i][e.options[i]]:t[i][0];w===i&&C.push(e)}}),f=C.length?[]:[w.isXAxis?t.yAxis[0]:t.xAxis[0]],m(C,function(e){-1!==d(e,f)||i.find(f,function(t){return t.pos===e.pos&&t.len&&e.len})||f.push(e)}),k=L(l,w.translate(o,null,null,n)),T(k)&&(w.horiz?m(f,function(e){var t;g=e.pos,y=g+e.len,p=x=R(k+w.transB),(p<u||p>u+w.width)&&(s?p=x=Y(N(u,p),u+w.width):t=!0),t||A.push('M',p,g,'L',x,y)}):m(f,function(e){var t;p=e.pos,x=p+e.len,g=y=R(v+w.height-k),(g<v||g>v+w.height)&&(s?g=y=Y(N(v,g),w.top+w.height):t=!0),t||A.push('M',p,g,'L',x,y)})),0<A.length?r.crispPolyLine(A,a||1):null)}),l.prototype.crispPolyLine=function(e,t){var i;for(i=0;i<e.length;i+=6)e[i+1]===e[i+4]&&(e[i+1]=e[i+4]=R(e[i+1])-t%2/2),e[i+2]===e[i+5]&&(e[i+2]=e[i+5]=R(e[i+2])+t%2/2);return e},n===p&&(p.prototype.crispPolyLine=l.prototype.crispPolyLine),u(a.prototype,'hideCrosshair',function(e,t){e.call(this,t),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),u(a.prototype,'drawCrosshair',function(i,o,a){var s,p;if(i.call(this,o,a),h(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){i=this.chart;var e=this.options.crosshair.label,c=this.horiz;s=this.opposite,p=this.left;var g,m=this.top,x=this.crossLabel,n=e.format,r='',t='inside'===this.options.tickPosition,y=!1!==this.crosshair.snap,f=0;o||(o=this.cross&&this.cross.e),g=c?'center':s?'right'===this.labelAlign?'right':'left':'left'===this.labelAlign?'left':'center',x||(x=this.crossLabel=i.renderer.label(null,null,null,e.shape||'callout').addClass('highcharts-crosshair-label'+(this.series[0]&&' highcharts-color-'+this.series[0].colorIndex)).attr({align:e.align||g,padding:L(e.padding,8),r:L(e.borderRadius,3),zIndex:2}).add(this.labelGroup),x.attr({fill:e.backgroundColor||this.series[0]&&this.series[0].color||'#666666',stroke:e.borderColor||'',"stroke-width":e.borderWidth||0}).css(S({color:'#ffffff',fontWeight:'normal',fontSize:'11px',textAlign:'center'},e.style))),c?(g=y?a.plotX+p:o.chartX,m+=s?0:this.height):(g=s?this.width+p:0,m=y?a.plotY+m:o.chartY),n||e.formatter||(this.isDatetimeAxis&&(r='%b %d, %Y'),n='{value'+(r?':'+r:'')+'}'),o=y?a[this.isXAxis?'x':'y']:this.toValue(c?o.chartX:o.chartY),x.attr({text:n?w(n,{value:o},i.time):e.formatter.call(this,o),x:g,y:m,visibility:o<this.min||o>this.max?'hidden':'visible'}),o=x.getBBox(),c?(t&&!s||!t&&s)&&(m=x.y-o.height):m=x.y-o.height/2,c?(s=p-o.x,p=p+this.width-o.x):(s='left'===this.labelAlign?p:0,p='right'===this.labelAlign?p+this.width:i.chartWidth),x.translateX<s&&(f=s-x.translateX),x.translateX+o.width>=p&&(f=-(x.translateX+o.width-p)),x.attr({x:g+f,y:m,anchorX:c?g:this.opposite?0:i.chartWidth,anchorY:c?this.opposite?i.chartHeight:0:m+o.height/2})}}),f.init=function(){y.apply(this,arguments),this.setCompare(this.options.compare)},f.setCompare=function(e){this.modifyValue='value'===e||'percent'===e?function(t,i){var o=this.compareValue;if(void 0!==t&&void 0!==o)return t='value'===e?t-o:100*(t/o)-(100===this.options.compareBase?0:100),i&&(i.change=t),t}:null,this.userOptions.compare=e,this.chart.hasRendered&&(this.isDirty=!0)},f.processData=function(){var e,t,i,o,a,r=-1,n=!0===this.options.compareStart?0:1;if(v.apply(this,arguments),this.xAxis&&this.processedYData)for(t=this.processedXData,i=this.processedYData,o=i.length,this.pointArrayMap&&(r=d('close',this.pointArrayMap),-1===r&&(r=d(this.pointValKey||'y',this.pointArrayMap))),e=0;e<o-n;e++)if(a=i[e]&&-1<r?i[e][r]:i[e],T(a)&&t[e+n]>=this.xAxis.min&&0!==a){this.compareValue=a;break}},u(f,'getExtremes',function(e){var t;e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(t=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=s(t),this.dataMax=o(t))}),a.prototype.setCompare=function(e,t){this.isXAxis||(m(this.series,function(t){t.setCompare(e)}),L(t,!0)&&this.chart.redraw())},e.prototype.tooltipFormatter=function(e){return e=e.replace('{point.change}',(0<this.change?'+':'')+i.numberFormat(this.change,L(this.series.tooltipOptions.changeDecimals,2))),A.apply(this,[e])},u(t.prototype,'render',function(e){this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(!this.clipBox&&this.animate?(this.clipBox=k(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),e.call(this)}),u(x.prototype,'getSelectedPoints',function(e){var t=e.call(this);return m(this.series,function(e){e.hasGroupedData&&(t=t.concat(r(e.points||[],function(e){return e.selected})))}),t}),u(x.prototype,'update',function(e,t){return'scrollbar'in t&&this.navigator&&(k(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({},!1),delete t.scrollbar),e.apply(this,Array.prototype.slice.call(arguments,1))})}(a),a})}]);